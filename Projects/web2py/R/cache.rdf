<?xml version="1.0"?>
<RDF:RDF xmlns:NS1="http://amb.vis.ne.jp/mozilla/scrapbook-rdf#"
         xmlns:NC="http://home.netscape.com/NC-rdf#"
         xmlns:RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
  <RDF:Description RDF:about="urn:scrapbook:item20130524053046#index"
                   NS1:folder="urn:scrapbook:item20130523104421"
                   NS1:content=" Share Email FacebookTwitterGoogle+PinterestLinkedInStumbleUponRedditGoogle BookmarksWordPressTumblrDeliciousDiggMessengerMySpaceYahoo BookmarksBeboMister-WongGoogle ReaderOrkutXINGBufferEvernoteNetvibes ShareStrandsBusiness ExchangeArtoTipdSmakNewsPlurkAIMYahoo MessengerIdenti.caMozillacaLockerz GrabBlogger PostTypePad PostBox.netKindle ItNetlogTechnorati FavoritesCiteULikeJumptagsHemidemiFunPInstapaperPhoneFavsXerpiNetvouzWinkDiigoBibSonomyBlogMarksTailrankStartAidKledyKhabbrMeneameYoolinkBookmarks.frTechnotizieNewsVineMultiplyFriendFeedPlaxo PulsePingSquidooProtopage BookmarksBlinklistFavesYiGGWebnewsSegnaloPushaYouMobSlashdotFarkAllvoicesJamespotImera BrazilTwiddlaLinkaGoGounalogHuggDiglogNowPublicLiveJournalCurrentHelloTxtSpurlYampleOneviewLinkatopiaSimpyBuddyMarksAsk.com MyStuffViadeoMapleWistsConnoteaBackflipMyLinkVaultSiteJotSphinnDZoneCare2 NewsHyvesSphereBitty BrowserGabbrSymbaloo FeedsTagzaFolkdNewsTrustAmazon Wish ListPrintFriendlyRead It LaterTuentiEmailRediff MyPage Google GmailYahoo MailHotmailAOL MailAny email By AddToAny web2py[:] Login Register If you benefit from web2py hope you feel encouraged to pay it forward by contributing back to society in whatever form you choose! Connect! and share your web2py slices Facebook Google Go Lost password Create your account PDF with ReportLab Recipe by Hans Christian von Stockhausen (hcvst) on 2012-10-17 in Controller Views (654)Favorite (0)Like (1)Dislike (0)Subscribe (0) A simple web2py controller that shows how to generate a PDF with the ReportLab library. Share &quot;&quot;&quot; Simple web2py controller to generate PDF documents with ReportLab. Author: H.C. v. Stockhausen &lt;hc at vst.io&gt; Date: 2012-10-14 Also see http://www.reportlab.com &quot;&quot;&quot; import cStringIO from reportlab.platypus.doctemplate import SimpleDocTemplate from reportlab.platypus import Paragraph, Spacer from reportlab.lib.styles import getSampleStyleSheet from reportlab.lib.units import inch def generate(): &quot;&quot;&quot; To display the generated PDF in your browser go to: http://.../&lt;app&gt;/&lt;controller&gt;/generate To download it as hello.pdf, for example, instead, use: http://.../&lt;app&gt;/&lt;controller&gt;/generate/hello.pdf &quot;&quot;&quot; styles = getSampleStyleSheet() story = [ Paragraph(&quot;Hello World&quot;, styles['Heading1']), Paragraph(&quot;The quick brown fox&quot;, styles['Normal']), Spacer(1, 0.25*inch), Paragraph(&quot;jumps over the lazy dog.&quot;, styles['Normal'])] buffer = cStringIO.StringIO() doc = SimpleDocTemplate(buffer) doc.build(story) pdf = buffer.getvalue() buffer.close() filename = request.args(0) if filename: header = {'Content-Disposition': 'attachment; filename=' + filename} else: header = {'Content-Type': 'application/pdf'} response.headers.update(header) return pdf pdf reportlab Share Related slices Simplest PDF output ever thanks to FPDF Simple PDF Report [updated] PDF with ReportLab II PDF with ReportLab II Comments (0) Login to post © 2012 - web2pyslices.com web2py poweredMovuca Social CMSDonate with Paypal Hosting graciously provided by: Python Anywhere Notificationsclose (i) AdChoices +52 [Ahmed Bani] +53 including You SECURITY WARNING: Please treat the URL above as you would your password and do not share it with anyone. SECURITY WARNING: Please treat the URL above as you would your password and do not share it with anyone. Like Like 408407 Send Send Find us on Facebook Web2py Like Like You like this. You and 407 others like Web2py.407 people like Web2py. Sundar Nadimpalli Bruno Meira Melhado Anenth Vishnu Herzger Chutgur Luke Dunstan Gianluca Mazzoni Samuele Bovo Corden Malinao Naraga Influency Idiomas Roberto Neil Rodrigues Barbosa Facebook social plugin " />
  <RDF:Description RDF:about="urn:scrapbook:item20130528182735#index"
                   NS1:folder="urn:scrapbook:root"
                   NS1:content=" Partners Support Community Ubuntu.com Ubuntu Wiki Search: Immutable Page Info Attachments Ubuntu Wiki Login Help Fonts Invalid highlighting regular expression &quot;(fonts&quot;: unbalanced parenthesis Clear message This page describes fonts in general. For the 2010 brand/logo typeface, see Ubuntu Font Family. Contents Fonts Installing downloaded fonts in Ubuntu 10.04 LTS Installing new fonts Via Synaptic Manually Enabling Bitmapped Fonts Enabling a particular bitmap font Links to fonts Links to font documentation Font settings Font Smoothing Manual Font Smoothing Fonts Installing downloaded fonts in Ubuntu 10.04 LTS Open the folder where you have downloaded the font file. Double click on the font file to open it. This opens a font viewer window. On the right there is a button, &quot;Install Font&quot;. Click on it. Wait until the button turns to greyed out &quot;Installed&quot;. Installing new fonts This section describes two ways for how to install new fonts in Ubuntu. The first uses the Synaptic Package Manager to install fonts from the Ubuntu repositories. As new fonts get added to the archive, this method offers fonts suitable for an increasing number of users, and is very easy. The second method is useful if you have downloaded fonts from the web, bought them, or acquired them from other sources. It is a bit more manual, but allows you to use fonts (including restricted fonts when you can't find a free/libre/open font equivalent) from a wide range of sources. Finally, at the end of this page, there are some links for further information on fonts on GNU/Linux. Via Synaptic Packages available through Synaptic are mostly programs, tools and libraries, but there are a few font packages in the system. You will need to enable the Universe and Multiverse repositories to get all the fonts available. See AddingRepositoriesHowto for instructions, and SynapticHowto if you need more information on Synaptic. Once the repositories are set up, search for &quot;font&quot; in Synaptic. You should get a list of over a hundred packages. (If you get far less, then you may need to press Reload, to make sure your repository data is up to date.) Not all of these packages are fonts, some are font utilities for editing or managing fonts. Clicking on a package will show a description. The msttcorefonts package contains the Microsoft freeware (non-Free because they are non-modifiable) web fonts. (Note: Most Microsoft fonts are included in this package; however, it does not include Tahoma or Arial Narrow. For more information on installing msttcorefonts please refer to RestrictedFormats As of Jaunty (9.04), this package is named ttf-mscorefonts-installer. Info &lt;!&gt; Note: After you install a new font, you will need to make sure that programs in which you want to use the new fonts can recognize them. In most cases this is done by closing and reopening the programs; however, some programs may require you to log out and log back in. Manually There are various locations in GNU/Linux in which fonts can be kept. These locations are defined in /etc/fonts/fonts.conf; standard ones include /usr/share/fonts, /usr/local/share/fonts, and /home/&lt;username&gt;/.fonts (where &lt;username&gt; is your user name). The easiest way to install a truetype font is to press alt-F2 and enter the following code (this will open nautilus in the right directory): gksu nautilus /usr/share/fonts/truetype Then create a new directory, name the directory whatever you like (choose a name that you remember if you ever need to backup your fonts personal fonts). Copy the fonts into that directory and finally rebuild the font information files by pressing alt-F2, mark 'run in terminal' so you can see the progress and entering the following code: sudo fc-cache -f -v Info &lt;!&gt; Note: After you install a new font, you will need to make sure that programs in which you want to use the new fonts can recognize them. In most cases this is done by closing and reopening the programs; however, some programs may require you to log out and log back in. The easiest place for people to put their fonts is /home/&lt;username&gt;/.fonts. If you have not already done so, create this folder: Open your home folder in Nautilus (GNOME) or Konqueror (KDE). Since dot-folders are really hidden folders, you need to choose &quot;Show Hidden Files&quot; from the View menu. Go to File -&gt; Create Folder (GNOME), or right-click and choose Create New -&gt; Folder (KDE). Name the new folder &quot;.fonts&quot;. Now double click on the folder to open it, and drag and drop your fonts into the folder. On GNOME, you can also directly open the virtual folder fonts:/ (within a Nautilus window, choose Go -&gt; Location or press Ctrl+L) and drag and drop fonts into this folder. (Does not work in in Hardy Heron 8.04 due to changes. Please follow the method above.) However, fonts that are added by either of the ways above will only be available for one user. To make them available system-wide, drag and drop them to the directory /usr/share/fonts. (Note: If you're on Kubuntu you may have to cd to /usr/share/fonts and run mkfontscale, mkfontdir, fc-cache after this. See the instructions below.) As in the last method, on GNOME you can also add fonts directly to fonts:/. However, you must open the virtual folder as root. You can do this by opening a terminal window and running gksudo nautilus fonts: Enabling Bitmapped Fonts If you'd like to use a fixed font in your terminal, use these commands: cd /etc/fonts/conf.d/ sudo rm /etc/fonts/conf.d/10* &amp;&amp; sudo rm -rf 70-no-bitmaps.conf &amp;&amp; sudo ln -s ../conf.avail/70-yes-bitmaps.conf . sudo dpkg-reconfigure fontconfig Logout, and log back in again, and you'll be able to select some new fixed fonts in your gnome-terminal or XFCE terminal's or profile. This was tested on Ubuntu 11.04 (Natty Narwhal) Font suggestions include terminus as suitable for terminals; to install this font in command line, run apt-get install xfonts-terminus or use Synaptic (see above). Alternatively, you can use Inconsolata, a monospaced font from Raph Levien. It is a very good font for the terminal. Or &quot;fixed&quot; which was the original xterm font who's 10pt semicondensed is compact and easy to read (a matter of taste of course). Enabling a particular bitmap font Beware though, that enabling bitmapped fonts may make e.g. Firefox use them too, and that may make some pages look horrible. E.g. an example page using &quot;Lucida&quot; font has jagged edges if all bitmapped fonts are enabled wholesale. Instead, I enabled exactly the fixed font I needed by (undoing the &quot;70-yes-bitmaps.conf&quot; steps above and) creating /etc/fonts/conf.d/50-enable-fixed.conf instead containing: &lt;!DOCTYPE fontconfig SYSTEM &quot;fonts.dtd&quot;&gt; &lt;fontconfig&gt; &lt;selectfont&gt; &lt;acceptfont&gt; &lt;pattern&gt; &lt;patelt name=&quot;family&quot;&gt;&lt;string&gt;fixed&lt;/string&gt;&lt;/patelt&gt; &lt;/pattern&gt; &lt;/acceptfont&gt; &lt;/selectfont&gt; &lt;/fontconfig&gt; Then run sudo dpkg-reconfigure fontconfig Logout, and log back in again, and you'll be able to use the &quot;fixed&quot; font in terminals, at least in Gnome and XFCE. This was tested on Ubuntu 11.04 (Natty Narwhal). Links to fonts Ed Trager's &quot;Unicode Font Guide For Free/Libre Open Source Operating Systems&quot; lists free/open fonts: http://unifont.org/fontguide/ SIL provides high-quality fonts released under the Open Font License: http://scripts.sil.org/OFL_fonts Luc Devroye's website has a huge list of links to free fonts, and other useful information: http://cg.scs.carleton.ca/%7Eluc/fonts.html and http://cg.scs.carleton.ca/%7Eluc/originalfonts.html The TypOasis has some very good fonts: http://moorstation.org/typoasis/typoasis1.htm Manfred Klein's Fonteria is part of TypOasis, but worth special mention: http://moorstation.org/typoasis/designers/klein/ Paul Lloyd Fonts is as well: http://moorstation.org/typoasis/designers/lloyd/ League of Movable Type has some great free fonts: http://theleagueofmoveabletype.com/ Links to font documentation The Linux Font Howto explains different font files, font styles and how they work in Linux: http://tldp.org/HOWTO/Font-HOWTO/ The XFree86 documentation has some instructions on installing bitmapped and scalable fonts: http://www.xfree86.org/current/fonts2.html For information on installing fonts there is a community topic on fonts. For specific information about fonts in OpenOffice, see http://wiki.services.openoffice.org/wiki/Font-FAQ Font settings Font Smoothing Arguably the best results for smooth fonts can be obtained quite easily by deactivating any kind of manual font configuration you might have: mv ~/.fonts.conf ~/fonts.conf.inactive Then go to System -&gt; Preferences -&gt; Appearance, select the Fonts tab, click the Details button. In the window appearing set the options as follows: Font smoothing settings Close the settings, log out and back in and enjoy the sharpest, smoothest fonts ever. Manual Font Smoothing The following relates to tweaking the anti-aliasing rules for the 'msttcorefonts' collection. It was contributed by Obi Bok but is now unmaintained. I'm currently working on font settings in XML (.fonts.conf). I noticed that after installing msttcorefonts things don't look quite as good in Firefox anymore. Most web pages request Arial which doesn't get hinted and anti-aliased too nicely, especially on LCD screens. I personally prefer the &quot;sharp&quot; non-anti-aliased look. I also noticed that many users coming from Windows® ask on the forums about getting fonts to look that way. .fonts.conf &lt;?xml version=&quot;1.0&quot;?&gt; &lt;!DOCTYPE fontconfig SYSTEM &quot;fonts.dtd&quot;&gt; &lt;fontconfig&gt; &lt;!-- .fonts.conf release 6.3.23 Licensed under GNU GPL ================================ LCD optimized 96 dpi &quot;Sharp'N'Clear&quot; font settings with emphasis on 'msttcorefonts' tested on Ubuntu GNU/Linux 5.10 ================================ by Obi Bok Gmail: obibok http://linuxtuneup.blogspot.com ================================ Why was this conceived? - some font families look better hinted by Byte Code Interpreter (BCI) while other fonts look better hinted by Auto-Hinter - hinting type affects italic and bold fonts differently - antialiasing needs to be adjusted according to font families and sizes Essentially, there is no one single rule that works for all fonts. NOTE: - Verdana @ 8pt doesn't render '2' and '6' right - Arial shows 'Z' distorted in Firefox 1.5 --&gt; &lt;!-- Make font sizes match the dpi set in Xorg. Increase or decrease this value if fonts are too small or too large for your screen resolution. FIXME: this only affects QT-based apps? --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;edit name=&quot;dpi&quot; mode=&quot;assign&quot;&gt; &lt;double&gt;96&lt;/double&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Enable anti-aliasing. This only works for outline and scalable fonts. Bitmap and PostScript fonts do not get anti-aliased. FIXME: is this correct? --&gt; &lt;match target=&quot;font&quot;&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Set sub-pixel order if not detected. &quot;X knows the sub pixel order already, and if this is enabled as well, Freetype produces some very strange results. However, if you do still have problems, consider (...) 'rgb' (the standard for LCD monitors), 'bgr' (unusual), 'vrgb' (vertical rgb, if you have a monitor that has been rotated by 90 degrees[1]), 'vgbr' (as vrgb, but very rare).&quot; &lt;http://www.linuxquestions.org/linux/answers/Hardware/\ LCD_TFT_Monitor_Configuration_in_X_Org&gt; Find out your LCD's sub-pixel order: &lt;http://grc.com/image/cleartype2c.gif&gt; --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;all&quot; name=&quot;rgba&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;unknown&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;rgba&quot; mode=&quot;assign&quot;&gt; &lt;const&gt;rgb&lt;/const&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Sub-pixel hinting via BCI enabled by default if compiled in. &quot;Whole-pixel anti-aliasing does not represent a useful solution for improving small point-size type. (...) By 'borrowing' sub-pixels from adjacent whole pixels, we can fine-tune the placement and width of typeface features with three times more horizontal accuracy then ever before!&quot; &lt;http://grc.com/ctwhat.htm&gt; --&gt; &lt;!-- Disable anti-aliasing for select fonts based on size and style. | font | WinXP | Linux | ========================================= Andale Mono IPA 14 13 Arial 12 13 Arial Black 12 - Arial Narrow 14 13 Berling Antiqua 12 13 Book Antiqua 12 13 Bookdings 0 ? Bookman Old Style 22 13 Century Gothic 16 16 Comic Sans MS 11 9/11 Courier New 26 22 Franklin Gothic Medium 12 10/12 Frutiger Linotype 12 10/12 Garamond 18 13/19 Georgia 12 12/13 Impact 16 0 Kartika 12 16 Lucida Console 12 13 Lucida Sans Typewriter 12 12 Lucida Sans Unicode 12 10/13 Marlett ? ? Microsoft Sans Serif 12 12/13 Palatino Linotype 12 13 SylfaenARM - 13 Symbol 12 ? Tahoma 12 12/13 Times New Roman 12 13 Trebuchet MS 12 12 Verdana 12 12 Vrinda 12 17 Webdings 20 ? Wingdings 20 ? ========================================= &quot;The relationship of pixels to points depends on the number of pixels per inch, which is typically some 'standard' value corresponding to default screen fonts. For example, MS Windows has two standard sets of screen fonts initially designed for IBM display systems: 'small' (VGA) and 'large' (8514/A). 'Small' fonts are 96 pixels per inch, 'large' are 120. Macintosh systems render type at a nominal 72 pixels per inch, i.e. one pixel = one point. Some display systems using scalable screen fonts allow fine tuning of pixels per inch to suit user preferences.&quot; &lt;http://www.hpaa.com/css1/pxnpts.asp&gt; X pt * 96 dpi / 72 dpi = Y px --&gt; &lt;!-- font group #1: normal roman anti-aliased above 10pt/13.4px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Franklin Gothic Medium&lt;/string&gt; &lt;string&gt;Frutiger Linotype&lt;/string&gt; &lt;!-- Lucida Sans Unicode has no italic and uses artificial oblique --&gt; &lt;string&gt;Lucida Sans Unicode&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;13.4&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #2: normal roman anti-aliased above 11pt/14.7px Must use 15px instead of 14.7px for this to work in QT-based apps --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;!-- Comic Sans MS has no italic and uses artificial oblique --&gt; &lt;string&gt;Comic Sans MS&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;15&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #3: normal roman anti-aliased above 12pt/16px Must use at least 16.1px instead of 16px for this to work in Firefox --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;string&gt;Lucida Sans&lt;/string&gt; &lt;string&gt;Lucida Sans Typewriter&lt;/string&gt; &lt;!-- Microsoft Sans Serif has no italic and uses artificial oblique --&gt; &lt;string&gt;Microsoft Sans Serif&lt;/string&gt; &lt;!-- Tahoma has no italic and uses artificial oblique --&gt; &lt;string&gt;Tahoma&lt;/string&gt; &lt;string&gt;Trebuchet MS&lt;/string&gt; &lt;string&gt;Verdana&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;16.1&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #4: normal roman anti-aliased above 13pt/17.4px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;string&gt;Arial Narrow&lt;/string&gt; &lt;string&gt;Berling Antiqua&lt;/string&gt; &lt;string&gt;Book Antiqua&lt;/string&gt; &lt;string&gt;Bookman Old Style&lt;/string&gt; &lt;string&gt;Garamond&lt;/string&gt; &lt;!-- Lucida Console has no italic and uses artificial oblique --&gt; &lt;string&gt;Lucida Console&lt;/string&gt; &lt;string&gt;Palatino Linotype&lt;/string&gt; &lt;string&gt;SylfaenARM&lt;/string&gt; &lt;string&gt;Times New Roman&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;17.4&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #5: normal roman anti-aliased above 16pt/21.4px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Century Gothic&lt;/string&gt; &lt;string&gt;Kartika&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;21.4&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #6: normal roman anti-aliased above 17pt/23px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Vrinda&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;23&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #7: normal roman anti-aliased above 22pt/29.4px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;29.4&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #8: bold roman anti-aliased above 9pt/12px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;12&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;more&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #9: bold roman anti-aliased above 10pt/13.4px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Tahoma&lt;/string&gt; &lt;string&gt;Verdana&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;13.4&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;more&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #10: bold roman anti-aliased above 12pt/16px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;16&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;more&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Enable FreeType Auto-Hinter for select fonts. Auto-Hinter is disabled by default if Bytecode Interpreter was compiled in. Some Linux &quot;native&quot; fonts look better hinted by Auto-Hinter, usually in sizes 11pt-13pt; others look better hinted by BCI. --&gt; &lt;!-- Set Auto-Hinter to full hinting style. 'slight' and 'medium' hinting often produce pixel discoloration. --&gt; &lt;match target=&quot;font&quot;&gt; &lt;edit name=&quot;hintstyle&quot; mode=&quot;assign&quot;&gt; &lt;const&gt;hintfull&lt;/const&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #11: hinted via Auto-Hinter --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Bitstream Charter&lt;/string&gt; &lt;string&gt;Courier 10 Pitch&lt;/string&gt; &lt;string&gt;DejaVu Sans Condensed&lt;/string&gt; &lt;string&gt;DejaVu Serif Condensed&lt;/string&gt; &lt;string&gt;FreeMono&lt;/string&gt; &lt;string&gt;FreeSans&lt;/string&gt; &lt;string&gt;FreeSerif&lt;/string&gt; &lt;string&gt;Luxi Mono&lt;/string&gt; &lt;string&gt;Luxi Sans&lt;/string&gt; &lt;string&gt;Luxi Serif&lt;/string&gt; &lt;string&gt;MgOpen Canonica&lt;/string&gt; &lt;string&gt;MgOpen Cosmetica&lt;/string&gt; &lt;string&gt;MgOpen Modata&lt;/string&gt; &lt;string&gt;MgOpen Moderna&lt;/string&gt; &lt;string&gt;URW Bookman L&lt;/string&gt; &lt;string&gt;URW Chancery L&lt;/string&gt; &lt;string&gt;URW Gothic L&lt;/string&gt; &lt;string&gt;URW Palladio L&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;autohint&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #12: normal italic hinted via Auto-Hinter at 9-10pt Arial hinted via BCI at 9pt has distorted 'y', at 10pt - '2' --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;more_eq&quot;&gt; &lt;double&gt;12&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;13.4&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;not_eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;autohint&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #13: normal italic hinted via Auto-Hinter at 12pt This fixes distorted 'K' --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Book Antiqua&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;eq&quot;&gt; &lt;double&gt;16&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;not_eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;autohint&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #14: normal italic hinted via Auto-Hinter at all sizes --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;!-- 10, 11, 12 --&gt; &lt;string&gt;Frutiger Linotype&lt;/string&gt; &lt;!-- 8-9: 'z', '2'; 10-15, 17, 19: 'z' --&gt; &lt;string&gt;Times New Roman&lt;/string&gt; &lt;!-- 9-10: 'N' 'Q'; 12: 'w', 'C', 'D', 'O', 'Q', 'R', '2', '9', '0' --&gt; &lt;string&gt;Verdana&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;not_eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;autohint&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Set minimum allowed size to avoid illegible fonts. --&gt; &lt;!-- 7pt in QT-based apps --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;size&quot; compare=&quot;less&quot;&gt; &lt;double&gt;7&lt;/double&gt; &lt;/test&gt; &lt;edit name=&quot;size&quot; mode=&quot;assign&quot;&gt; &lt;double&gt;7&lt;/double&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- 9.4px (7pt) in GTK-based apps --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less&quot;&gt; &lt;double&gt;9.4&lt;/double&gt; &lt;/test&gt; &lt;edit name=&quot;pixelsize&quot; mode=&quot;assign&quot;&gt; &lt;double&gt;9.4&lt;/double&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- TODO: Create rules limiting minimum sizes for these *bold* fonts: Andale Mono | Andale Mono IPA Arial Arial Narrow Berling Antiqua Book Antiqua Bookman Old Style Century Gothic Comic Sans MS Courier New Franklin Gothic Medium Frutiger Linotype Garamond Georgia Kartika Lucida Console Lucida Sans Typewriter Lucida Sans Unicode Microsoft Sans Serif Palatino | Palatino Linotype SylfaenARM Tahoma Times New Roman Trebuchet MS Verdana Vrinda --&gt; &lt;!-- font group #15: bold fonts no smaller than 10.7px (8pt) FIXME: for Firefox and other GTK-based apps? --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less&quot;&gt; &lt;double&gt;10.7&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;more&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;pixelsize&quot; mode=&quot;assign&quot;&gt; &lt;double&gt;10.7&lt;/double&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Anti-alias fonts with &quot;fake&quot; styles. FIXME: QT only? GTK? Firefox? --&gt; &lt;!-- FIXME: dirty_hack(tm) - fontconfig reports syntax errors --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;matrix&quot; compare=&quot;not_eq&quot;&gt; &lt;double&gt;0&lt;/double&gt; &lt;/test&gt; &lt;!-- another approach - no errors but freezes Firefox 1.5 --&gt; &lt;!-- &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;matrix&quot; compare=&quot;eq&quot;&gt; &lt;name&gt;matrix&lt;/name&gt; &lt;/test&gt; --&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Substitute unavailable and/or unwanted fonts. Aliases will not work if the actual fonts are installed. Replacing font family works in Firefox (FIXME: and other GTK-based apps?) QT-based apps also need font foundry replaced. Grouping fonts for substitution doesn't work in Firefox, so we need each font family replaced individually. --&gt; &lt;!-- sans-serif &quot;If the font still has no generic name, add sans-serif&quot; /etc/fonts.conf Therefore, we only substitute what we need. --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Bitstream Charter&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Bitstream Vera Sans&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;DejaVu Sans&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;DejaVu Sans Condensed&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;FreeSans&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Helvetica&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Lucida&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;!-- FIXME: may need to use &quot;Lucida Bright&quot; instead --&gt; &lt;string&gt;LucidaBright&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Lucida Bright&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Luxi Sans&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;MgOpen Cosmetica&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;MgOpen Modata&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;MgOpen Moderna&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;System&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;URW Gothic L&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- FIXME: Verdana renders characters '2' and '6' slightly distorted so it will be substituted with Arial. --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Verdana&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- serif --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Bitstream Vera Serif&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;DejaVu Serif&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;DejaVu Serif Condensed&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;FreeSerif&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Luxi Serif&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;MgOpen Canonica&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;New Century Schoolbook&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;New York&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Palatino&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Times&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;URW Bookman L&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;URW Palladio L&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- monospace --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Andale Mono&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Bitstream Vera Sans Mono&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Courier&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;DejaVu Sans Mono&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Fixedsys&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;FreeMono&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;!-- FIXME: Ubuntu Wiki uses &quot;Lucida Typewriter&quot; instead --&gt; &lt;string&gt;LucidaTypewriter&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Lucida Typewriter&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Luxi Mono&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Monaco&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Terminal&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- cursive --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Apple Chancery&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Comic Sans MS&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Lucida Handwriting&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Comic Sans MS&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;URW Chancery L&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Comic Sans MS&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Zapf Chancery&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Comic Sans MS&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- fantasy --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Copperplate&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Impact&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Desdemona&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Impact&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Kino&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Impact&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Techno&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Impact&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Provide required aliases for standard names. --&gt; &lt;alias&gt; &lt;family&gt;sans-serif&lt;/family&gt; &lt;prefer&gt; &lt;family&gt;Arial&lt;/family&gt; &lt;/prefer&gt; &lt;/alias&gt; &lt;alias&gt; &lt;family&gt;serif&lt;/family&gt; &lt;prefer&gt; &lt;family&gt;Georgia&lt;/family&gt; &lt;/prefer&gt; &lt;/alias&gt; &lt;alias&gt; &lt;family&gt;monospace&lt;/family&gt; &lt;prefer&gt; &lt;family&gt;Courier New&lt;/family&gt; &lt;/prefer&gt; &lt;/alias&gt; &lt;alias&gt; &lt;family&gt;cursive&lt;/family&gt; &lt;prefer&gt; &lt;family&gt;Comic Sans MS&lt;/family&gt; &lt;/prefer&gt; &lt;/alias&gt; &lt;alias&gt; &lt;family&gt;fantasy&lt;/family&gt; &lt;prefer&gt; &lt;family&gt;Impact&lt;/family&gt; &lt;/prefer&gt; &lt;/alias&gt; &lt;/fontconfig&gt; If helvetica font is present then this might be useful : &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Helvetica&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;edit name=&quot;autohint&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;edit name=&quot;hintstyle&quot; mode=&quot;assign&quot;&gt; &lt;const&gt;hintslight&lt;/const&gt; &lt;/edit&gt; &lt;/match&gt; For the above to work , change the substitution of Helvetica by Arial binding to weak. Fonts (last edited 2012-06-25 06:07:07 by metatechbe) The material on this wiki is available under a free license, see Copyright / License for details. " />
  <RDF:Description RDF:about="urn:scrapbook:item20130524054333#index"
                   NS1:folder="urn:scrapbook:item20130523104421"
                   NS1:content=" Partners Support Community Ubuntu.com Ubuntu Wiki Search: Immutable Page Info Attachments Ubuntu Wiki Login Help Fonts This page describes fonts in general. For the 2010 brand/logo typeface, see Ubuntu Font Family. Contents Fonts Installing downloaded fonts in Ubuntu 10.04 LTS Installing new fonts Via Synaptic Manually Enabling Bitmapped Fonts Enabling a particular bitmap font Links to fonts Links to font documentation Font settings Font Smoothing Manual Font Smoothing Fonts Installing downloaded fonts in Ubuntu 10.04 LTS Open the folder where you have downloaded the font file. Double click on the font file to open it. This opens a font viewer window. On the right there is a button, &quot;Install Font&quot;. Click on it. Wait until the button turns to greyed out &quot;Installed&quot;. Installing new fonts This section describes two ways for how to install new fonts in Ubuntu. The first uses the Synaptic Package Manager to install fonts from the Ubuntu repositories. As new fonts get added to the archive, this method offers fonts suitable for an increasing number of users, and is very easy. The second method is useful if you have downloaded fonts from the web, bought them, or acquired them from other sources. It is a bit more manual, but allows you to use fonts (including restricted fonts when you can't find a free/libre/open font equivalent) from a wide range of sources. Finally, at the end of this page, there are some links for further information on fonts on GNU/Linux. Via Synaptic Packages available through Synaptic are mostly programs, tools and libraries, but there are a few font packages in the system. You will need to enable the Universe and Multiverse repositories to get all the fonts available. See AddingRepositoriesHowto for instructions, and SynapticHowto if you need more information on Synaptic. Once the repositories are set up, search for &quot;font&quot; in Synaptic. You should get a list of over a hundred packages. (If you get far less, then you may need to press Reload, to make sure your repository data is up to date.) Not all of these packages are fonts, some are font utilities for editing or managing fonts. Clicking on a package will show a description. The msttcorefonts package contains the Microsoft freeware (non-Free because they are non-modifiable) web fonts. (Note: Most Microsoft fonts are included in this package; however, it does not include Tahoma or Arial Narrow. For more information on installing msttcorefonts please refer to RestrictedFormats As of Jaunty (9.04), this package is named ttf-mscorefonts-installer. Info &lt;!&gt; Note: After you install a new font, you will need to make sure that programs in which you want to use the new fonts can recognize them. In most cases this is done by closing and reopening the programs; however, some programs may require you to log out and log back in. Manually There are various locations in GNU/Linux in which fonts can be kept. These locations are defined in /etc/fonts/fonts.conf; standard ones include /usr/share/fonts, /usr/local/share/fonts, and /home/&lt;username&gt;/.fonts (where &lt;username&gt; is your user name). The easiest way to install a truetype font is to press alt-F2 and enter the following code (this will open nautilus in the right directory): gksu nautilus /usr/share/fonts/truetype Then create a new directory, name the directory whatever you like (choose a name that you remember if you ever need to backup your fonts personal fonts). Copy the fonts into that directory and finally rebuild the font information files by pressing alt-F2, mark 'run in terminal' so you can see the progress and entering the following code: sudo fc-cache -f -v Info &lt;!&gt; Note: After you install a new font, you will need to make sure that programs in which you want to use the new fonts can recognize them. In most cases this is done by closing and reopening the programs; however, some programs may require you to log out and log back in. The easiest place for people to put their fonts is /home/&lt;username&gt;/.fonts. If you have not already done so, create this folder: Open your home folder in Nautilus (GNOME) or Konqueror (KDE). Since dot-folders are really hidden folders, you need to choose &quot;Show Hidden Files&quot; from the View menu. Go to File -&gt; Create Folder (GNOME), or right-click and choose Create New -&gt; Folder (KDE). Name the new folder &quot;.fonts&quot;. Now double click on the folder to open it, and drag and drop your fonts into the folder. On GNOME, you can also directly open the virtual folder fonts:/ (within a Nautilus window, choose Go -&gt; Location or press Ctrl+L) and drag and drop fonts into this folder. (Does not work in in Hardy Heron 8.04 due to changes. Please follow the method above.) However, fonts that are added by either of the ways above will only be available for one user. To make them available system-wide, drag and drop them to the directory /usr/share/fonts. (Note: If you're on Kubuntu you may have to cd to /usr/share/fonts and run mkfontscale, mkfontdir, fc-cache after this. See the instructions below.) As in the last method, on GNOME you can also add fonts directly to fonts:/. However, you must open the virtual folder as root. You can do this by opening a terminal window and running gksudo nautilus fonts: Enabling Bitmapped Fonts If you'd like to use a fixed font in your terminal, use these commands: cd /etc/fonts/conf.d/ sudo rm /etc/fonts/conf.d/10* &amp;&amp; sudo rm -rf 70-no-bitmaps.conf &amp;&amp; sudo ln -s ../conf.avail/70-yes-bitmaps.conf . sudo dpkg-reconfigure fontconfig Logout, and log back in again, and you'll be able to select some new fixed fonts in your gnome-terminal or XFCE terminal's or profile. This was tested on Ubuntu 11.04 (Natty Narwhal) Font suggestions include terminus as suitable for terminals; to install this font in command line, run apt-get install xfonts-terminus or use Synaptic (see above). Alternatively, you can use Inconsolata, a monospaced font from Raph Levien. It is a very good font for the terminal. Or &quot;fixed&quot; which was the original xterm font who's 10pt semicondensed is compact and easy to read (a matter of taste of course). Enabling a particular bitmap font Beware though, that enabling bitmapped fonts may make e.g. Firefox use them too, and that may make some pages look horrible. E.g. an example page using &quot;Lucida&quot; font has jagged edges if all bitmapped fonts are enabled wholesale. Instead, I enabled exactly the fixed font I needed by (undoing the &quot;70-yes-bitmaps.conf&quot; steps above and) creating /etc/fonts/conf.d/50-enable-fixed.conf instead containing: &lt;!DOCTYPE fontconfig SYSTEM &quot;fonts.dtd&quot;&gt; &lt;fontconfig&gt; &lt;selectfont&gt; &lt;acceptfont&gt; &lt;pattern&gt; &lt;patelt name=&quot;family&quot;&gt;&lt;string&gt;fixed&lt;/string&gt;&lt;/patelt&gt; &lt;/pattern&gt; &lt;/acceptfont&gt; &lt;/selectfont&gt; &lt;/fontconfig&gt; Then run sudo dpkg-reconfigure fontconfig Logout, and log back in again, and you'll be able to use the &quot;fixed&quot; font in terminals, at least in Gnome and XFCE. This was tested on Ubuntu 11.04 (Natty Narwhal). Links to fonts Ed Trager's &quot;Unicode Font Guide For Free/Libre Open Source Operating Systems&quot; lists free/open fonts: http://unifont.org/fontguide/ SIL provides high-quality fonts released under the Open Font License: http://scripts.sil.org/OFL_fonts Luc Devroye's website has a huge list of links to free fonts, and other useful information: http://cg.scs.carleton.ca/%7Eluc/fonts.html and http://cg.scs.carleton.ca/%7Eluc/originalfonts.html The TypOasis has some very good fonts: http://moorstation.org/typoasis/typoasis1.htm Manfred Klein's Fonteria is part of TypOasis, but worth special mention: http://moorstation.org/typoasis/designers/klein/ Paul Lloyd Fonts is as well: http://moorstation.org/typoasis/designers/lloyd/ League of Movable Type has some great free fonts: http://theleagueofmoveabletype.com/ Links to font documentation The Linux Font Howto explains different font files, font styles and how they work in Linux: http://tldp.org/HOWTO/Font-HOWTO/ The XFree86 documentation has some instructions on installing bitmapped and scalable fonts: http://www.xfree86.org/current/fonts2.html For information on installing fonts there is a community topic on fonts. For specific information about fonts in OpenOffice, see http://wiki.services.openoffice.org/wiki/Font-FAQ Font settings Font Smoothing Arguably the best results for smooth fonts can be obtained quite easily by deactivating any kind of manual font configuration you might have: mv ~/.fonts.conf ~/fonts.conf.inactive Then go to System -&gt; Preferences -&gt; Appearance, select the Fonts tab, click the Details button. In the window appearing set the options as follows: Font smoothing settings Close the settings, log out and back in and enjoy the sharpest, smoothest fonts ever. Manual Font Smoothing The following relates to tweaking the anti-aliasing rules for the 'msttcorefonts' collection. It was contributed by Obi Bok but is now unmaintained. I'm currently working on font settings in XML (.fonts.conf). I noticed that after installing msttcorefonts things don't look quite as good in Firefox anymore. Most web pages request Arial which doesn't get hinted and anti-aliased too nicely, especially on LCD screens. I personally prefer the &quot;sharp&quot; non-anti-aliased look. I also noticed that many users coming from Windows® ask on the forums about getting fonts to look that way. .fonts.conf &lt;?xml version=&quot;1.0&quot;?&gt; &lt;!DOCTYPE fontconfig SYSTEM &quot;fonts.dtd&quot;&gt; &lt;fontconfig&gt; &lt;!-- .fonts.conf release 6.3.23 Licensed under GNU GPL ================================ LCD optimized 96 dpi &quot;Sharp'N'Clear&quot; font settings with emphasis on 'msttcorefonts' tested on Ubuntu GNU/Linux 5.10 ================================ by Obi Bok Gmail: obibok http://linuxtuneup.blogspot.com ================================ Why was this conceived? - some font families look better hinted by Byte Code Interpreter (BCI) while other fonts look better hinted by Auto-Hinter - hinting type affects italic and bold fonts differently - antialiasing needs to be adjusted according to font families and sizes Essentially, there is no one single rule that works for all fonts. NOTE: - Verdana @ 8pt doesn't render '2' and '6' right - Arial shows 'Z' distorted in Firefox 1.5 --&gt; &lt;!-- Make font sizes match the dpi set in Xorg. Increase or decrease this value if fonts are too small or too large for your screen resolution. FIXME: this only affects QT-based apps? --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;edit name=&quot;dpi&quot; mode=&quot;assign&quot;&gt; &lt;double&gt;96&lt;/double&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Enable anti-aliasing. This only works for outline and scalable fonts. Bitmap and PostScript fonts do not get anti-aliased. FIXME: is this correct? --&gt; &lt;match target=&quot;font&quot;&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Set sub-pixel order if not detected. &quot;X knows the sub pixel order already, and if this is enabled as well, Freetype produces some very strange results. However, if you do still have problems, consider (...) 'rgb' (the standard for LCD monitors), 'bgr' (unusual), 'vrgb' (vertical rgb, if you have a monitor that has been rotated by 90 degrees[1]), 'vgbr' (as vrgb, but very rare).&quot; &lt;http://www.linuxquestions.org/linux/answers/Hardware/\ LCD_TFT_Monitor_Configuration_in_X_Org&gt; Find out your LCD's sub-pixel order: &lt;http://grc.com/image/cleartype2c.gif&gt; --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;all&quot; name=&quot;rgba&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;unknown&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;rgba&quot; mode=&quot;assign&quot;&gt; &lt;const&gt;rgb&lt;/const&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Sub-pixel hinting via BCI enabled by default if compiled in. &quot;Whole-pixel anti-aliasing does not represent a useful solution for improving small point-size type. (...) By 'borrowing' sub-pixels from adjacent whole pixels, we can fine-tune the placement and width of typeface features with three times more horizontal accuracy then ever before!&quot; &lt;http://grc.com/ctwhat.htm&gt; --&gt; &lt;!-- Disable anti-aliasing for select fonts based on size and style. | font | WinXP | Linux | ========================================= Andale Mono IPA 14 13 Arial 12 13 Arial Black 12 - Arial Narrow 14 13 Berling Antiqua 12 13 Book Antiqua 12 13 Bookdings 0 ? Bookman Old Style 22 13 Century Gothic 16 16 Comic Sans MS 11 9/11 Courier New 26 22 Franklin Gothic Medium 12 10/12 Frutiger Linotype 12 10/12 Garamond 18 13/19 Georgia 12 12/13 Impact 16 0 Kartika 12 16 Lucida Console 12 13 Lucida Sans Typewriter 12 12 Lucida Sans Unicode 12 10/13 Marlett ? ? Microsoft Sans Serif 12 12/13 Palatino Linotype 12 13 SylfaenARM - 13 Symbol 12 ? Tahoma 12 12/13 Times New Roman 12 13 Trebuchet MS 12 12 Verdana 12 12 Vrinda 12 17 Webdings 20 ? Wingdings 20 ? ========================================= &quot;The relationship of pixels to points depends on the number of pixels per inch, which is typically some 'standard' value corresponding to default screen fonts. For example, MS Windows has two standard sets of screen fonts initially designed for IBM display systems: 'small' (VGA) and 'large' (8514/A). 'Small' fonts are 96 pixels per inch, 'large' are 120. Macintosh systems render type at a nominal 72 pixels per inch, i.e. one pixel = one point. Some display systems using scalable screen fonts allow fine tuning of pixels per inch to suit user preferences.&quot; &lt;http://www.hpaa.com/css1/pxnpts.asp&gt; X pt * 96 dpi / 72 dpi = Y px --&gt; &lt;!-- font group #1: normal roman anti-aliased above 10pt/13.4px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Franklin Gothic Medium&lt;/string&gt; &lt;string&gt;Frutiger Linotype&lt;/string&gt; &lt;!-- Lucida Sans Unicode has no italic and uses artificial oblique --&gt; &lt;string&gt;Lucida Sans Unicode&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;13.4&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #2: normal roman anti-aliased above 11pt/14.7px Must use 15px instead of 14.7px for this to work in QT-based apps --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;!-- Comic Sans MS has no italic and uses artificial oblique --&gt; &lt;string&gt;Comic Sans MS&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;15&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #3: normal roman anti-aliased above 12pt/16px Must use at least 16.1px instead of 16px for this to work in Firefox --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;string&gt;Lucida Sans&lt;/string&gt; &lt;string&gt;Lucida Sans Typewriter&lt;/string&gt; &lt;!-- Microsoft Sans Serif has no italic and uses artificial oblique --&gt; &lt;string&gt;Microsoft Sans Serif&lt;/string&gt; &lt;!-- Tahoma has no italic and uses artificial oblique --&gt; &lt;string&gt;Tahoma&lt;/string&gt; &lt;string&gt;Trebuchet MS&lt;/string&gt; &lt;string&gt;Verdana&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;16.1&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #4: normal roman anti-aliased above 13pt/17.4px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;string&gt;Arial Narrow&lt;/string&gt; &lt;string&gt;Berling Antiqua&lt;/string&gt; &lt;string&gt;Book Antiqua&lt;/string&gt; &lt;string&gt;Bookman Old Style&lt;/string&gt; &lt;string&gt;Garamond&lt;/string&gt; &lt;!-- Lucida Console has no italic and uses artificial oblique --&gt; &lt;string&gt;Lucida Console&lt;/string&gt; &lt;string&gt;Palatino Linotype&lt;/string&gt; &lt;string&gt;SylfaenARM&lt;/string&gt; &lt;string&gt;Times New Roman&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;17.4&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #5: normal roman anti-aliased above 16pt/21.4px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Century Gothic&lt;/string&gt; &lt;string&gt;Kartika&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;21.4&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #6: normal roman anti-aliased above 17pt/23px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Vrinda&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;23&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #7: normal roman anti-aliased above 22pt/29.4px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;29.4&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #8: bold roman anti-aliased above 9pt/12px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;12&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;more&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #9: bold roman anti-aliased above 10pt/13.4px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Tahoma&lt;/string&gt; &lt;string&gt;Verdana&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;13.4&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;more&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #10: bold roman anti-aliased above 12pt/16px --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;16&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;more&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Enable FreeType Auto-Hinter for select fonts. Auto-Hinter is disabled by default if Bytecode Interpreter was compiled in. Some Linux &quot;native&quot; fonts look better hinted by Auto-Hinter, usually in sizes 11pt-13pt; others look better hinted by BCI. --&gt; &lt;!-- Set Auto-Hinter to full hinting style. 'slight' and 'medium' hinting often produce pixel discoloration. --&gt; &lt;match target=&quot;font&quot;&gt; &lt;edit name=&quot;hintstyle&quot; mode=&quot;assign&quot;&gt; &lt;const&gt;hintfull&lt;/const&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #11: hinted via Auto-Hinter --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Bitstream Charter&lt;/string&gt; &lt;string&gt;Courier 10 Pitch&lt;/string&gt; &lt;string&gt;DejaVu Sans Condensed&lt;/string&gt; &lt;string&gt;DejaVu Serif Condensed&lt;/string&gt; &lt;string&gt;FreeMono&lt;/string&gt; &lt;string&gt;FreeSans&lt;/string&gt; &lt;string&gt;FreeSerif&lt;/string&gt; &lt;string&gt;Luxi Mono&lt;/string&gt; &lt;string&gt;Luxi Sans&lt;/string&gt; &lt;string&gt;Luxi Serif&lt;/string&gt; &lt;string&gt;MgOpen Canonica&lt;/string&gt; &lt;string&gt;MgOpen Cosmetica&lt;/string&gt; &lt;string&gt;MgOpen Modata&lt;/string&gt; &lt;string&gt;MgOpen Moderna&lt;/string&gt; &lt;string&gt;URW Bookman L&lt;/string&gt; &lt;string&gt;URW Chancery L&lt;/string&gt; &lt;string&gt;URW Gothic L&lt;/string&gt; &lt;string&gt;URW Palladio L&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;autohint&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #12: normal italic hinted via Auto-Hinter at 9-10pt Arial hinted via BCI at 9pt has distorted 'y', at 10pt - '2' --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;more_eq&quot;&gt; &lt;double&gt;12&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt; &lt;double&gt;13.4&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;not_eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;autohint&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #13: normal italic hinted via Auto-Hinter at 12pt This fixes distorted 'K' --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Book Antiqua&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;eq&quot;&gt; &lt;double&gt;16&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;not_eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;autohint&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- font group #14: normal italic hinted via Auto-Hinter at all sizes --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;!-- 10, 11, 12 --&gt; &lt;string&gt;Frutiger Linotype&lt;/string&gt; &lt;!-- 8-9: 'z', '2'; 10-15, 17, 19: 'z' --&gt; &lt;string&gt;Times New Roman&lt;/string&gt; &lt;!-- 9-10: 'N' 'Q'; 12: 'w', 'C', 'D', 'O', 'Q', 'R', '2', '9', '0' --&gt; &lt;string&gt;Verdana&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;slant&quot; compare=&quot;not_eq&quot;&gt; &lt;const&gt;roman&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;autohint&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Set minimum allowed size to avoid illegible fonts. --&gt; &lt;!-- 7pt in QT-based apps --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;size&quot; compare=&quot;less&quot;&gt; &lt;double&gt;7&lt;/double&gt; &lt;/test&gt; &lt;edit name=&quot;size&quot; mode=&quot;assign&quot;&gt; &lt;double&gt;7&lt;/double&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- 9.4px (7pt) in GTK-based apps --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less&quot;&gt; &lt;double&gt;9.4&lt;/double&gt; &lt;/test&gt; &lt;edit name=&quot;pixelsize&quot; mode=&quot;assign&quot;&gt; &lt;double&gt;9.4&lt;/double&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- TODO: Create rules limiting minimum sizes for these *bold* fonts: Andale Mono | Andale Mono IPA Arial Arial Narrow Berling Antiqua Book Antiqua Bookman Old Style Century Gothic Comic Sans MS Courier New Franklin Gothic Medium Frutiger Linotype Garamond Georgia Kartika Lucida Console Lucida Sans Typewriter Lucida Sans Unicode Microsoft Sans Serif Palatino | Palatino Linotype SylfaenARM Tahoma Times New Roman Trebuchet MS Verdana Vrinda --&gt; &lt;!-- font group #15: bold fonts no smaller than 10.7px (8pt) FIXME: for Firefox and other GTK-based apps? --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;pixelsize&quot; compare=&quot;less&quot;&gt; &lt;double&gt;10.7&lt;/double&gt; &lt;/test&gt; &lt;test qual=&quot;any&quot; name=&quot;weight&quot; compare=&quot;more&quot;&gt; &lt;const&gt;medium&lt;/const&gt; &lt;/test&gt; &lt;edit name=&quot;pixelsize&quot; mode=&quot;assign&quot;&gt; &lt;double&gt;10.7&lt;/double&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Anti-alias fonts with &quot;fake&quot; styles. FIXME: QT only? GTK? Firefox? --&gt; &lt;!-- FIXME: dirty_hack(tm) - fontconfig reports syntax errors --&gt; &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;matrix&quot; compare=&quot;not_eq&quot;&gt; &lt;double&gt;0&lt;/double&gt; &lt;/test&gt; &lt;!-- another approach - no errors but freezes Firefox 1.5 --&gt; &lt;!-- &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;matrix&quot; compare=&quot;eq&quot;&gt; &lt;name&gt;matrix&lt;/name&gt; &lt;/test&gt; --&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Substitute unavailable and/or unwanted fonts. Aliases will not work if the actual fonts are installed. Replacing font family works in Firefox (FIXME: and other GTK-based apps?) QT-based apps also need font foundry replaced. Grouping fonts for substitution doesn't work in Firefox, so we need each font family replaced individually. --&gt; &lt;!-- sans-serif &quot;If the font still has no generic name, add sans-serif&quot; /etc/fonts.conf Therefore, we only substitute what we need. --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Bitstream Charter&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Bitstream Vera Sans&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;DejaVu Sans&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;DejaVu Sans Condensed&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;FreeSans&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Helvetica&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Lucida&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;!-- FIXME: may need to use &quot;Lucida Bright&quot; instead --&gt; &lt;string&gt;LucidaBright&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Lucida Bright&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Luxi Sans&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;MgOpen Cosmetica&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;MgOpen Modata&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;MgOpen Moderna&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;System&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;URW Gothic L&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- FIXME: Verdana renders characters '2' and '6' slightly distorted so it will be substituted with Arial. --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Verdana&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Arial&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- serif --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Bitstream Vera Serif&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;DejaVu Serif&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;DejaVu Serif Condensed&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;FreeSerif&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Luxi Serif&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;MgOpen Canonica&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;New Century Schoolbook&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;New York&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Palatino&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Times&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;URW Bookman L&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;URW Palladio L&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Georgia&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- monospace --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Andale Mono&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Bitstream Vera Sans Mono&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Courier&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;DejaVu Sans Mono&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Fixedsys&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;FreeMono&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;!-- FIXME: Ubuntu Wiki uses &quot;Lucida Typewriter&quot; instead --&gt; &lt;string&gt;LucidaTypewriter&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Lucida Typewriter&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Luxi Mono&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Monaco&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Terminal&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Courier New&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- cursive --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Apple Chancery&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Comic Sans MS&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Lucida Handwriting&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Comic Sans MS&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;URW Chancery L&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Comic Sans MS&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Zapf Chancery&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Comic Sans MS&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- fantasy --&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Copperplate&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Impact&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Desdemona&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Impact&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Kino&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Impact&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;match target=&quot;pattern&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Techno&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;same&quot;&gt; &lt;string&gt;Impact&lt;/string&gt; &lt;/edit&gt; &lt;/match&gt; &lt;!-- Provide required aliases for standard names. --&gt; &lt;alias&gt; &lt;family&gt;sans-serif&lt;/family&gt; &lt;prefer&gt; &lt;family&gt;Arial&lt;/family&gt; &lt;/prefer&gt; &lt;/alias&gt; &lt;alias&gt; &lt;family&gt;serif&lt;/family&gt; &lt;prefer&gt; &lt;family&gt;Georgia&lt;/family&gt; &lt;/prefer&gt; &lt;/alias&gt; &lt;alias&gt; &lt;family&gt;monospace&lt;/family&gt; &lt;prefer&gt; &lt;family&gt;Courier New&lt;/family&gt; &lt;/prefer&gt; &lt;/alias&gt; &lt;alias&gt; &lt;family&gt;cursive&lt;/family&gt; &lt;prefer&gt; &lt;family&gt;Comic Sans MS&lt;/family&gt; &lt;/prefer&gt; &lt;/alias&gt; &lt;alias&gt; &lt;family&gt;fantasy&lt;/family&gt; &lt;prefer&gt; &lt;family&gt;Impact&lt;/family&gt; &lt;/prefer&gt; &lt;/alias&gt; &lt;/fontconfig&gt; If helvetica font is present then this might be useful : &lt;match target=&quot;font&quot;&gt; &lt;test qual=&quot;any&quot; name=&quot;family&quot; compare=&quot;eq&quot;&gt; &lt;string&gt;Helvetica&lt;/string&gt; &lt;/test&gt; &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;edit name=&quot;autohint&quot; mode=&quot;assign&quot;&gt; &lt;bool&gt;true&lt;/bool&gt; &lt;/edit&gt; &lt;edit name=&quot;hintstyle&quot; mode=&quot;assign&quot;&gt; &lt;const&gt;hintslight&lt;/const&gt; &lt;/edit&gt; &lt;/match&gt; For the above to work , change the substitution of Helvetica by Arial binding to weak. Fonts (last edited 2012-06-25 06:07:07 by metatechbe) The material on this wiki is available under a free license, see Copyright / License for details. " />
  <RDF:Description RDF:about="urn:scrapbook:item20130528180335#index"
                   NS1:folder="urn:scrapbook:root"
                   NS1:content=" osdir.com mailing list archive F.A.Q. -since 2001! Subject: Re: [web2py] Solved -- Problems with special characters and pyfpdf - msg#00107 List: web2py web2py Navigation: Date: Prev Next Date Index Thread: Prev Next Thread Index Website Performance Monitoring Some hoursÂ later... Now I have tried to use the Arial-font: pdf.set_font('Arial','',10) There is always the same font - set_font seems to do nothing. Â 2013/5/2 Martin Weissenboeck &lt;mweissen@xxxxxxxxx&gt; Hi, I have tried again to generate a pdf file from an htlm file with some unicode characters. There is my test program. It's a simplified version, in the original program there is a lot of additional test lines. def pp():ÂÂÂÂÂÂÂ ÂÂÂ from gluon.contrib.pyfpdf import FPDF, HTMLMixin ÂÂÂ ÂÂÂ class MyFPDF(FPDF, HTMLMixin): ÂÂÂÂÂÂÂ def header(self): passÂÂÂÂÂÂÂÂÂÂÂ ÂÂÂÂÂÂÂ def footer(self): passÂÂ ÂÂÂ # create a small table with some data: ÂÂÂ rows = [THEAD(TR(TH(&quot;Key&quot;,_width=&quot;70%&quot;), TH(&quot;Value&quot;,_width=&quot;30%&quot;))), ÂÂÂÂÂÂÂÂÂÂÂ TBODY(TR(TD(&quot;Hello&quot;),TD(&quot;60&quot;)), ÂÂÂÂÂÂÂÂÂÂÂÂÂÂÂÂÂ TR(TD(&quot;World ÃÃÃ ÃÃ â&quot;),TD(&quot;40&quot;)))] ÂÂÂ table = TABLE(*rows, _border=&quot;0&quot;, _align=&quot;center&quot;, _width=&quot;50%&quot;) ÂÂÂ ÂÂÂ pdf=MyFPDF() ÂÂÂ pdf.add_font('DejaVu', '', 'DejaVuSansCondensed.ttf',Â uni=True)ÂÂÂ ÂÂÂ pdf.add_page() ÂÂÂ pdf.set_font('DejaVu','',10)ÂÂÂÂ # set font method 1 ÂÂÂ # table =TAG.font(table, _face=&quot;DejaVu&quot;)Â # set font method 2 ÂÂÂ html = str(XML(table, sanitize=False)) ÂÂÂ pdf.write_html(html) ÂÂÂ response.headers['Content-Type'] = &quot;application/pdf&quot;Â ÂÂÂ return pdf.output(dest='S') I am sure that the font file is loaded, but it seems that the font is not used. I have tried two methods to change the font, but the results are the same. It doesn't look like Sanserif and every Unicode-Character is printed with every single utf-8 byte. Maybe it's only a small error, but I could not find it. Regards, MartinInline-Bild 3 2013/4/30 Jurgis Pralgauskis &lt;jurgis.pralgauskis@xxxxxxxxx&gt; &gt; Which font do you want to include? DejaVu - I guess it covers western languages.. (could be withouth bold/italics to save space)Â Another one could be for eastern chars (buy I don't know anything about them...) &gt;ÂI gave you contributor access Thanks Â:) On Wed, May 1, 2013 at 12:22 AM, Mariano Reingart &lt;reingart@xxxxxxxxx&gt; wrote: Which font do you want to include? The font pack is 15MB, I don't know if it could be included with web2py. Also, the problem is that no one is complete (you need several fonts to cover west / east languages) https://pyfpdf.googlecode.com/files/fpdf_unicode_font_pack.zip BTW, thanks for you comments, I gave you contributor access, so you can change the docs directly in the wiki if you like so: https://code.google.com/p/pyfpdf/w/list If you have any patch, also I'll be happy to review and include it ;-) Best regards, Mariano Reingart http://www.sistemasagiles.com.ar http://reingart.blogspot.com On Sun, Apr 28, 2013 at 7:40 AM, Jurgis Pralgauskis &lt;jurgis.pralgauskis@xxxxxxxxx&gt; wrote: &gt; by the way -- would it be possible to pack at least one ttf with web2py, &gt; and in normalize_text , when it notices unicode, &gt; automatically add (and set) default ttf font (if such is not set) to render &gt; ok ? &gt; &gt; &gt; &gt; On Sun, Apr 28, 2013 at 12:18 PM, Jurgis Pralgauskis &gt; &lt;jurgis.pralgauskis@xxxxxxxxx&gt; wrote: &gt;&gt; &gt;&gt; SOLVED - the problem was that I needed to reload web2py -- for changed &gt;&gt; html.py to make effect ;) &gt;&gt; &gt;&gt; one more issue &gt;&gt; that after write_html(..) Â it &quot;forgets&quot; the previously set font (should &gt;&gt; be at least mentioned in docs.. :) &gt;&gt; https://code.google.com/p/pyfpdf/issues/detail?id=54#c2 &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; On Sat, Apr 27, 2013 at 9:06 PM, Mariano Reingart &lt;reingart@xxxxxxxxx&gt; &gt;&gt; wrote: &gt;&gt;&gt; &gt;&gt;&gt; Did you add the TTF unicode font with add_font? &gt;&gt;&gt; Can you post a complete example (ie a script.py just with the code to &gt;&gt;&gt; test), so I can reproduce it easily. &gt;&gt;&gt; &gt;&gt;&gt; Best regards, &gt;&gt;&gt; &gt;&gt;&gt; Mariano Reingart &gt;&gt;&gt; http://www.sistemasagiles.com.ar &gt;&gt;&gt; http://reingart.blogspot.com &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; On Sat, Apr 27, 2013 at 7:30 AM, Jurgis Pralgauskis &gt;&gt;&gt; &lt;jurgis.pralgauskis@xxxxxxxxx&gt; wrote: &gt;&gt;&gt; &gt; I see 2 lines were changed, the main &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; - if 'face' in attrs and attrs['face'].lower() in self.font_list: &gt;&gt;&gt; &gt; + Â if 'face' in attrs: &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; but I still get &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â File &gt;&gt;&gt; &gt; &quot;/home/jurgis/web2py/applications/apskaitele/controllers/default.py&quot;, &gt;&gt;&gt; &gt; line 61, in pdftest &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â Â pdf.write_html(u&quot;&lt;font face='DejaVu'&gt;ÄÅuolas&lt;/font&gt;&quot; &gt;&gt;&gt; &gt; ) &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; File &quot;/home/jurgis/web2py/gluon/contrib/fpdf/html.py&quot;, line 397, in &gt;&gt;&gt; &gt; write_html &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â File &quot;/usr/local/lib/python2.7/HTMLParser.py&quot;, line 114, in feed &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â Â self.goahead(0) &gt;&gt;&gt; &gt; Â File &quot;/usr/local/lib/python2.7/HTMLParser.py&quot;, line 152, in goahead &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â Â if i &lt; j: self.handle_data(rawdata[i:j]) &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â File &quot;/home/jurgis/web2py/gluon/contrib/fpdf/html.py&quot;, line 122, in &gt;&gt;&gt; &gt; handle_data &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â File &quot;/home/jurgis/web2py/gluon/contrib/fpdf/fpdf.py&quot;, line 822, in &gt;&gt;&gt; &gt; write &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â Â txt = self.normalize_text(txt) &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â File &quot;/home/jurgis/web2py/gluon/contrib/fpdf/fpdf.py&quot;, line 1012, in &gt;&gt;&gt; &gt; normalize_text &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â Â txt = txt.encode('latin1') &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; UnicodeEncodeError: 'latin-1' codec can't encode characters in position &gt;&gt;&gt; &gt; 0-1: &gt;&gt;&gt; &gt; ordinal not in range(256 &gt;&gt;&gt; &gt; ) &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; and if I &gt;&gt;&gt; &gt; pdf.write_html(u&quot;&lt;font face='DejaVu'&gt;ÄÅuolas&lt;/font&gt;&quot;.encode('utf8')) &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; I get ÃâÃ3â4uolas &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; On Sat, Apr 27, 2013 at 3:24 AM, Mariano Reingart &lt;reingart@xxxxxxxxx&gt; &gt;&gt;&gt; &gt; wrote: &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; Sorry, I misread the email. &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; Unicode fonts were not supported in html2pdf. &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; I've made a change to allow them, please update html.py: &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; https://pyfpdf.googlecode.com/hg/fpdf/html.py &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; Then, you need to load a ttf unicode font, and then pass it in &lt;font&gt; &gt;&gt;&gt; &gt;&gt; face attribute: &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; pdf=MyFPDF() &gt;&gt;&gt; &gt;&gt; # add utf8 font &gt;&gt;&gt; &gt;&gt; pdf.add_font('DejaVu', '', 'DejaVuSansCondensed.ttf', uni=True) &gt;&gt;&gt; &gt;&gt; # first page: &gt;&gt;&gt; &gt;&gt; pdf.add_page() &gt;&gt;&gt; &gt;&gt; pdf.write_html(u&quot;&lt;font face='DejaVu'&gt;ÄÅuolas&lt;/font&gt;&quot;) &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; For more info and complete code, see: &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; https://code.google.com/p/pyfpdf/wiki/Web2Py &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; Let me know if that works so I can update the docs and web2py contrib &gt;&gt;&gt; &gt;&gt; version &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; Best regards &gt;&gt;&gt; &gt;&gt; Mariano Reingart &gt;&gt;&gt; &gt;&gt; http://www.sistemasagiles.com.ar &gt;&gt;&gt; &gt;&gt; http://reingart.blogspot.com &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; On Fri, Apr 26, 2013 at 11:45 PM, Mariano Reingart &gt;&gt;&gt; &gt;&gt; &lt;reingart@xxxxxxxxx&gt; &gt;&gt;&gt; &gt;&gt; wrote: &gt;&gt;&gt; &gt;&gt; &gt; On Fri, Apr 26, 2013 at 11:42 PM, Mariano Reingart &gt;&gt;&gt; &gt;&gt; &gt; &lt;reingart@xxxxxxxxx&gt; &gt;&gt;&gt; &gt;&gt; &gt; wrote: &gt;&gt;&gt; &gt;&gt; &gt;&gt; On Fri, Apr 26, 2013 at 6:34 PM, Jonathan Lundell &gt;&gt;&gt; &gt;&gt; &gt;&gt; &lt;jlundell@xxxxxxxxx&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt; wrote: &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; On 26 Apr 2013, at 1:17 PM, Jurgis Pralgauskis &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &lt;jurgis.pralgauskis@xxxxxxxxx&gt; wrote: &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; ok, SOLVED ttf issue for Âunicode example &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; http://code.google.com/p/pyfpdf/wiki/Unicode &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; just needed to create directory Â Âgluon &gt; contrib &gt; fpdf &gt; font &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; and place needed ttf files insited it :) &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; then pdf.write(8, u&quot;ÄÅuolas&quot;) Âworks fine &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; The fpdf logic uses utf8 for fonts it sees as UTF-based, otherwise &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; latin-1. &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; It looks to me as though either it isn't recognizing your fonts as &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; UTF, or &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; there's some overlooked case that it's making a mistake with. Have &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; a &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; look at &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; FPDF.set_font: &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Â Â Â Â self.unifontsubset = (self.fonts[fontkey]['type'] == &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; 'TTF') &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; ...and make sure it's getting set. &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt; Yes, as Jhonatan saids, FPDF (and the PDF standard, BTW) only &gt;&gt;&gt; &gt;&gt; &gt;&gt; support &gt;&gt;&gt; &gt;&gt; &gt;&gt; latin1 characters for standard font. &gt;&gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt; If you need utf8 characters, you need to embeed a T &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; You need to embed a UTF8 TTF font, for example: &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; # Add a DejaVu Unicode font (uses UTF-8) &gt;&gt;&gt; &gt;&gt; &gt; # Supports more than 200 languages. For a coverage status see: &gt;&gt;&gt; &gt;&gt; &gt; # &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; http://dejavu.svn.sourceforge.net/viewvc/dejavu/trunk/dejavu-fonts/langcover.txt &gt;&gt;&gt; &gt;&gt; &gt; pdf.add_font('DejaVu', '', 'DejaVuSansCondensed.ttf', uni=True) &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; (sorry, the previous message was sent incomplete) &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; I'll try to enhance the docs about this, thank for reporting the &gt;&gt;&gt; &gt;&gt; &gt; issue &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; Best regards &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; Mariano Reingart &gt;&gt;&gt; &gt;&gt; &gt; http://www.sistemasagiles.com.ar &gt;&gt;&gt; &gt;&gt; &gt; http://reingart.blogspot.com &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; -- &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; --- &gt;&gt;&gt; &gt;&gt; You received this message because you are subscribed to a topic in the &gt;&gt;&gt; &gt;&gt; Google Groups &quot;web2py-users&quot; group. &gt;&gt;&gt; &gt;&gt; To unsubscribe from this topic, visit &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; https://groups.google.com/d/topic/web2py/KJDeQoLKw-M/unsubscribe?hl=en. &gt;&gt;&gt; &gt;&gt; To unsubscribe from this group and all its topics, send an email to &gt;&gt;&gt; &gt;&gt; web2py+unsubscribe@xxxxxxxxxxxxxxxx. &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; For more options, visit https://groups.google.com/groups/opt_out. &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; -- &gt;&gt;&gt; &gt; Jurgis Pralgauskis &gt;&gt;&gt; &gt; tel: 8-616 77613; &gt;&gt;&gt; &gt; Don't worry, be happy and make things better ;) &gt;&gt;&gt; &gt; http://galvosukykla.lt &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; -- &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; --- &gt;&gt;&gt; &gt; You received this message because you are subscribed to the Google &gt;&gt;&gt; &gt; Groups &gt;&gt;&gt; &gt; &quot;web2py-users&quot; group. &gt;&gt;&gt; &gt; To unsubscribe from this group and stop receiving emails from it, send &gt;&gt;&gt; &gt; an &gt;&gt;&gt; &gt; email to web2py+unsubscribe@xxxxxxxxxxxxxxxx. &gt;&gt;&gt; &gt; For more options, visit https://groups.google.com/groups/opt_out. &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt;&gt; -- &gt;&gt;&gt; &gt;&gt;&gt; --- &gt;&gt;&gt; You received this message because you are subscribed to a topic in the &gt;&gt;&gt; Google Groups &quot;web2py-users&quot; group. &gt;&gt;&gt; To unsubscribe from this topic, visit &gt;&gt;&gt; https://groups.google.com/d/topic/web2py/KJDeQoLKw-M/unsubscribe?hl=en. &gt;&gt;&gt; To unsubscribe from this group and all its topics, send an email to &gt;&gt;&gt; web2py+unsubscribe@xxxxxxxxxxxxxxxx. &gt;&gt;&gt; For more options, visit https://groups.google.com/groups/opt_out. &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; -- &gt;&gt; Jurgis Pralgauskis &gt;&gt; tel: 8-616 77613; &gt;&gt; Don't worry, be happy and make things better ;) &gt;&gt; http://galvosukykla.lt &gt; &gt; &gt; &gt; &gt; -- &gt; Jurgis Pralgauskis &gt; tel: 8-616 77613; &gt; Don't worry, be happy and make things better ;) &gt; http://galvosukykla.lt &gt; &gt; -- &gt; &gt; --- &gt; You received this message because you are subscribed to the Google Groups &gt; &quot;web2py-users&quot; group. &gt; To unsubscribe from this group and stop receiving emails from it, send an &gt; email to web2py+unsubscribe@xxxxxxxxxxxxxxxx. &gt; For more options, visit https://groups.google.com/groups/opt_out. &gt; &gt; -- --- You received this message because you are subscribed to a topic in the Google Groups &quot;web2py-users&quot; group. To unsubscribe from this topic, visit https://groups.google.com/d/topic/web2py/KJDeQoLKw-M/unsubscribe?hl=en. To unsubscribe from this group and all its topics, send an email to web2py+unsubscribe@xxxxxxxxxxxxxxxx. For more options, visit https://groups.google.com/groups/opt_out. -- Jurgis Pralgauskis tel: 8-616 77613; Don't worry, be happy and make things better ;) http://galvosukykla.lt -- Â -- --- You received this message because you are subscribed to the Google Groups &quot;web2py-users&quot; group. To unsubscribe from this group and stop receiving emails from it, send an email to web2py+unsubscribe@xxxxxxxxxxxxxxxxx For more options, visit https://groups.google.com/groups/opt_out. Thread at a glance: Previous Message by Date: [web2py] Not possible to import reportlab.platypus.doctemplate? Hallo,so after web2py update my pdf generator with reportlab is not working anymore. So after a long research i dont have any idea how to fix it. Is it possible to get it running again? Thanks a lot!Here is my code.: &lt;type 'exceptions.ImportError'&gt; No module named reportlab.platypus.doctemplateVersionweb2py™Version 2.4.6-stable+timestamp.2013.04.06.17.37.38PythonPython 2.7: N:\web2py\web2py.exe (prefix: N:\web2py)Traceback1.2.3.4.5.6.7.8.Traceback (most recent call last): File &quot;/home/mdipierro/make_web2py/web2py/gluon/restricted.py&quot;, line 212, in restricted File &quot;N:/web2py/applications/berghuette_8/controllers/pdf.py&quot;, line 17, in &lt;module&gt; File &quot;/home/mdipierro/make_web2py/web2py/gluon/custom_import.py&quot;, line 87, in custom_importer File &quot;applications\berghuette_8\modules\__init__.py&quot;, line 11, in &lt;module&gt; File &quot;/home/mdipierro/make_web2py/web2py/gluon/custom_import.py&quot;, line 87, in custom_importerImportError: No module named reportlab.platypus.doctemplateError snapshot &lt;type 'exceptions.ImportError'&gt;(No module named reportlab.platypus.doctemplate) ....In file: N:\web2py\applications\berghuette_8\controllers/pdf.py#from reportlab.platypus import *from reportlab import *from reportlab.lib.styles import getSampleStyleSheetfrom reportlab.rl_config import defaultPageSizefrom reportlab.lib.units import inch, mmfrom reportlab.lib.enums import TA_LEFT, TA_RIGHT, TA_CENTER, TA_JUSTIFYfrom reportlab.lib import colorsfrom uuid import uuid4from cgi import escapeimport os -- --- You received this message because you are subscribed to the Google Groups &quot;web2py-users&quot; group. To unsubscribe from this group and stop receiving emails from it, send an email to web2py+unsubscribe@xxxxxxxxxxxxxxxxx For more options, visit https://groups.google.com/groups/opt_out. Next Message by Date: [web2py] routes.py Hello all,I want to play with URL revrite. So I took the example in the book (http://web2py.com/books/default/chapter/29/04?search=routes_in#Pattern-based-system)In the file web2py\applications\myApp\routes.py I have :#!/usr/bin/python# -*- coding: utf-8 -*-routes_in = ( ('/testme', '/myApp/default/index'),)routes_out = ( ('/myApp/default/index', '/testme'),)In web2py root dir, I also added a routes.py file containing :# -*- coding: utf-8 -*-routers = dict( BASE=dict( default_application='myApp', ),)I restarted web2py to reload routes, but when I go on http://127.0.0.1:8000/testme or on http://127.0.0.1:8000/myApp/testme I have an error : invalid function (default/testme)Can somebody explain me what is wrong is my routes.py files?Thank you -- --- You received this message because you are subscribed to the Google Groups &quot;web2py-users&quot; group. To unsubscribe from this group and stop receiving emails from it, send an email to web2py+unsubscribe@xxxxxxxxxxxxxxxxx For more options, visit https://groups.google.com/groups/opt_out. Previous Message by Thread: Re: [web2py] Solved -- Problems with special characters and pyfpdf Hi,I have tried again to generate a pdf file from an htlm file with some unicode characters.There is my test program. It's a simplified version, in the original program there is a lot of additional test lines. def pp():ÂÂÂÂÂÂÂ ÂÂÂ from gluon.contrib.pyfpdf import FPDF, HTMLMixinÂÂÂ ÂÂÂ class MyFPDF(FPDF, HTMLMixin):ÂÂÂÂÂÂÂ def header(self): passÂÂÂÂÂÂÂÂÂÂÂ ÂÂÂÂÂÂÂ def footer(self): passÂÂ ÂÂÂ # create a small table with some data:ÂÂÂ rows = [THEAD(TR(TH(&quot;Key&quot;,_width=&quot;70%&quot;), TH(&quot;Value&quot;,_width=&quot;30%&quot;))),ÂÂÂÂÂÂÂÂÂÂÂ TBODY(TR(TD(&quot;Hello&quot;),TD(&quot;60&quot;)), ÂÂÂÂÂÂÂÂÂÂÂÂÂÂÂÂÂ TR(TD(&quot;World ÃÃÃ ÃÃ â&quot;),TD(&quot;40&quot;)))]ÂÂÂ table = TABLE(*rows, _border=&quot;0&quot;, _align=&quot;center&quot;, _width=&quot;50%&quot;)ÂÂÂ ÂÂÂ pdf=MyFPDF()ÂÂÂ pdf.add_font('DejaVu', '', 'DejaVuSansCondensed.ttf',Â uni=True)ÂÂÂ ÂÂÂ pdf.add_page()ÂÂÂ pdf.set_font('DejaVu','',10)ÂÂÂÂ # set font method 1 ÂÂÂ # table =TAG.font(table, _face=&quot;DejaVu&quot;)Â # set font method 2ÂÂÂ html = str(XML(table, sanitize=False))ÂÂÂ pdf.write_html(html)ÂÂÂ response.headers['Content-Type'] = &quot;application/pdf&quot;Â ÂÂÂ return pdf.output(dest='S')I am sure that the font file is loaded, but it seems that the font is not used.I have tried two methods to change the font, but the results are the same. It doesn't look like Sanserif and every Unicode-Character is printed with every single utf-8 byte. Maybe it's only a small error, but I could not find it.Regards, Martin 2013/4/30 Jurgis Pralgauskis &lt;jurgis.pralgauskis@xxxxxxxxx&gt; &gt; Which font do you want to include? DejaVu - I guess it covers western languages.. (could be withouth bold/italics to save space)Â Another one could be for eastern chars (buy I don't know anything about them...) &gt;ÂI gave you contributor access Thanks Â:)On Wed, May 1, 2013 at 12:22 AM, Mariano Reingart &lt;reingart@xxxxxxxxx&gt; wrote: Which font do you want to include? The font pack is 15MB, I don't know if it could be included with web2py. Also, the problem is that no one is complete (you need several fonts to cover west / east languages) https://pyfpdf.googlecode.com/files/fpdf_unicode_font_pack.zip BTW, thanks for you comments, I gave you contributor access, so you can change the docs directly in the wiki if you like so: https://code.google.com/p/pyfpdf/w/list If you have any patch, also I'll be happy to review and include it ;-) Best regards, Mariano Reingart http://www.sistemasagiles.com.ar http://reingart.blogspot.com On Sun, Apr 28, 2013 at 7:40 AM, Jurgis Pralgauskis &lt;jurgis.pralgauskis@xxxxxxxxx&gt; wrote: &gt; by the way -- would it be possible to pack at least one ttf with web2py, &gt; and in normalize_text , when it notices unicode, &gt; automatically add (and set) default ttf font (if such is not set) to render &gt; ok ? &gt; &gt; &gt; &gt; On Sun, Apr 28, 2013 at 12:18 PM, Jurgis Pralgauskis &gt; &lt;jurgis.pralgauskis@xxxxxxxxx&gt; wrote: &gt;&gt; &gt;&gt; SOLVED - the problem was that I needed to reload web2py -- for changed &gt;&gt; html.py to make effect ;) &gt;&gt; &gt;&gt; one more issue &gt;&gt; that after write_html(..) Â it &quot;forgets&quot; the previously set font (should &gt;&gt; be at least mentioned in docs.. :) &gt;&gt; https://code.google.com/p/pyfpdf/issues/detail?id=54#c2 &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; On Sat, Apr 27, 2013 at 9:06 PM, Mariano Reingart &lt;reingart@xxxxxxxxx&gt; &gt;&gt; wrote: &gt;&gt;&gt; &gt;&gt;&gt; Did you add the TTF unicode font with add_font? &gt;&gt;&gt; Can you post a complete example (ie a script.py just with the code to &gt;&gt;&gt; test), so I can reproduce it easily. &gt;&gt;&gt; &gt;&gt;&gt; Best regards, &gt;&gt;&gt; &gt;&gt;&gt; Mariano Reingart &gt;&gt;&gt; http://www.sistemasagiles.com.ar &gt;&gt;&gt; http://reingart.blogspot.com &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; On Sat, Apr 27, 2013 at 7:30 AM, Jurgis Pralgauskis &gt;&gt;&gt; &lt;jurgis.pralgauskis@xxxxxxxxx&gt; wrote: &gt;&gt;&gt; &gt; I see 2 lines were changed, the main &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; - if 'face' in attrs and attrs['face'].lower() in self.font_list: &gt;&gt;&gt; &gt; + Â if 'face' in attrs: &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; but I still get &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â File &gt;&gt;&gt; &gt; &quot;/home/jurgis/web2py/applications/apskaitele/controllers/default.py&quot;, &gt;&gt;&gt; &gt; line 61, in pdftest &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â Â pdf.write_html(u&quot;&lt;font face='DejaVu'&gt;ÄÅuolas&lt;/font&gt;&quot; &gt;&gt;&gt; &gt; ) &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; File &quot;/home/jurgis/web2py/gluon/contrib/fpdf/html.py&quot;, line 397, in &gt;&gt;&gt; &gt; write_html &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â File &quot;/usr/local/lib/python2.7/HTMLParser.py&quot;, line 114, in feed &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â Â self.goahead(0) &gt;&gt;&gt; &gt; Â File &quot;/usr/local/lib/python2.7/HTMLParser.py&quot;, line 152, in goahead &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â Â if i &lt; j: self.handle_data(rawdata[i:j]) &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â File &quot;/home/jurgis/web2py/gluon/contrib/fpdf/html.py&quot;, line 122, in &gt;&gt;&gt; &gt; handle_data &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â File &quot;/home/jurgis/web2py/gluon/contrib/fpdf/fpdf.py&quot;, line 822, in &gt;&gt;&gt; &gt; write &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â Â txt = self.normalize_text(txt) &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â File &quot;/home/jurgis/web2py/gluon/contrib/fpdf/fpdf.py&quot;, line 1012, in &gt;&gt;&gt; &gt; normalize_text &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; Â Â txt = txt.encode('latin1') &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; UnicodeEncodeError: 'latin-1' codec can't encode characters in position &gt;&gt;&gt; &gt; 0-1: &gt;&gt;&gt; &gt; ordinal not in range(256 &gt;&gt;&gt; &gt; ) &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; and if I &gt;&gt;&gt; &gt; pdf.write_html(u&quot;&lt;font face='DejaVu'&gt;ÄÅuolas&lt;/font&gt;&quot;.encode('utf8')) &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; I get ÃâÃ3â4uolas &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; On Sat, Apr 27, 2013 at 3:24 AM, Mariano Reingart &lt;reingart@xxxxxxxxx&gt; &gt;&gt;&gt; &gt; wrote: &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; Sorry, I misread the email. &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; Unicode fonts were not supported in html2pdf. &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; I've made a change to allow them, please update html.py: &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; https://pyfpdf.googlecode.com/hg/fpdf/html.py &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; Then, you need to load a ttf unicode font, and then pass it in &lt;font&gt; &gt;&gt;&gt; &gt;&gt; face attribute: &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; pdf=MyFPDF() &gt;&gt;&gt; &gt;&gt; # add utf8 font &gt;&gt;&gt; &gt;&gt; pdf.add_font('DejaVu', '', 'DejaVuSansCondensed.ttf', uni=True) &gt;&gt;&gt; &gt;&gt; # first page: &gt;&gt;&gt; &gt;&gt; pdf.add_page() &gt;&gt;&gt; &gt;&gt; pdf.write_html(u&quot;&lt;font face='DejaVu'&gt;ÄÅuolas&lt;/font&gt;&quot;) &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; For more info and complete code, see: &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; https://code.google.com/p/pyfpdf/wiki/Web2Py &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; Let me know if that works so I can update the docs and web2py contrib &gt;&gt;&gt; &gt;&gt; version &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; Best regards &gt;&gt;&gt; &gt;&gt; Mariano Reingart &gt;&gt;&gt; &gt;&gt; http://www.sistemasagiles.com.ar &gt;&gt;&gt; &gt;&gt; http://reingart.blogspot.com &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; On Fri, Apr 26, 2013 at 11:45 PM, Mariano Reingart &gt;&gt;&gt; &gt;&gt; &lt;reingart@xxxxxxxxx&gt; &gt;&gt;&gt; &gt;&gt; wrote: &gt;&gt;&gt; &gt;&gt; &gt; On Fri, Apr 26, 2013 at 11:42 PM, Mariano Reingart &gt;&gt;&gt; &gt;&gt; &gt; &lt;reingart@xxxxxxxxx&gt; &gt;&gt;&gt; &gt;&gt; &gt; wrote: &gt;&gt;&gt; &gt;&gt; &gt;&gt; On Fri, Apr 26, 2013 at 6:34 PM, Jonathan Lundell &gt;&gt;&gt; &gt;&gt; &gt;&gt; &lt;jlundell@xxxxxxxxx&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt; wrote: &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; On 26 Apr 2013, at 1:17 PM, Jurgis Pralgauskis &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &lt;jurgis.pralgauskis@xxxxxxxxx&gt; wrote: &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; ok, SOLVED ttf issue for Âunicode example &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; http://code.google.com/p/pyfpdf/wiki/Unicode &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; just needed to create directory Â Âgluon &gt; contrib &gt; fpdf &gt; font &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; and place needed ttf files insited it :) &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; then pdf.write(8, u&quot;ÄÅuolas&quot;) Âworks fine &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; The fpdf logic uses utf8 for fonts it sees as UTF-based, otherwise &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; latin-1. &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; It looks to me as though either it isn't recognizing your fonts as &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; UTF, or &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; there's some overlooked case that it's making a mistake with. Have &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; a &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; look at &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; FPDF.set_font: &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; Â Â Â Â self.unifontsubset = (self.fonts[fontkey]['type'] == &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; 'TTF') &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; ...and make sure it's getting set. &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt; Yes, as Jhonatan saids, FPDF (and the PDF standard, BTW) only &gt;&gt;&gt; &gt;&gt; &gt;&gt; support &gt;&gt;&gt; &gt;&gt; &gt;&gt; latin1 characters for standard font. &gt;&gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt; If you need utf8 characters, you need to embeed a T &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; You need to embed a UTF8 TTF font, for example: &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; # Add a DejaVu Unicode font (uses UTF-8) &gt;&gt;&gt; &gt;&gt; &gt; # Supports more than 200 languages. For a coverage status see: &gt;&gt;&gt; &gt;&gt; &gt; # &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; http://dejavu.svn.sourceforge.net/viewvc/dejavu/trunk/dejavu-fonts/langcover.txt &gt;&gt;&gt; &gt;&gt; &gt; pdf.add_font('DejaVu', '', 'DejaVuSansCondensed.ttf', uni=True) &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; (sorry, the previous message was sent incomplete) &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; I'll try to enhance the docs about this, thank for reporting the &gt;&gt;&gt; &gt;&gt; &gt; issue &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; Best regards &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; Mariano Reingart &gt;&gt;&gt; &gt;&gt; &gt; http://www.sistemasagiles.com.ar &gt;&gt;&gt; &gt;&gt; &gt; http://reingart.blogspot.com &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; -- &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; --- &gt;&gt;&gt; &gt;&gt; You received this message because you are subscribed to a topic in the &gt;&gt;&gt; &gt;&gt; Google Groups &quot;web2py-users&quot; group. &gt;&gt;&gt; &gt;&gt; To unsubscribe from this topic, visit &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; https://groups.google.com/d/topic/web2py/KJDeQoLKw-M/unsubscribe?hl=en. &gt;&gt;&gt; &gt;&gt; To unsubscribe from this group and all its topics, send an email to &gt;&gt;&gt; &gt;&gt; web2py+unsubscribe@xxxxxxxxxxxxxxxx. &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; For more options, visit https://groups.google.com/groups/opt_out. &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; -- &gt;&gt;&gt; &gt; Jurgis Pralgauskis &gt;&gt;&gt; &gt; tel: 8-616 77613; &gt;&gt;&gt; &gt; Don't worry, be happy and make things better ;) &gt;&gt;&gt; &gt; http://galvosukykla.lt &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; -- &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; --- &gt;&gt;&gt; &gt; You received this message because you are subscribed to the Google &gt;&gt;&gt; &gt; Groups &gt;&gt;&gt; &gt; &quot;web2py-users&quot; group. &gt;&gt;&gt; &gt; To unsubscribe from this group and stop receiving emails from it, send &gt;&gt;&gt; &gt; an &gt;&gt;&gt; &gt; email to web2py+unsubscribe@xxxxxxxxxxxxxxxx. &gt;&gt;&gt; &gt; For more options, visit https://groups.google.com/groups/opt_out. &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt;&gt; -- &gt;&gt;&gt; &gt;&gt;&gt; --- &gt;&gt;&gt; You received this message because you are subscribed to a topic in the &gt;&gt;&gt; Google Groups &quot;web2py-users&quot; group. &gt;&gt;&gt; To unsubscribe from this topic, visit &gt;&gt;&gt; https://groups.google.com/d/topic/web2py/KJDeQoLKw-M/unsubscribe?hl=en. &gt;&gt;&gt; To unsubscribe from this group and all its topics, send an email to &gt;&gt;&gt; web2py+unsubscribe@xxxxxxxxxxxxxxxx. &gt;&gt;&gt; For more options, visit https://groups.google.com/groups/opt_out. &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt; -- &gt;&gt; Jurgis Pralgauskis &gt;&gt; tel: 8-616 77613; &gt;&gt; Don't worry, be happy and make things better ;) &gt;&gt; http://galvosukykla.lt &gt; &gt; &gt; &gt; &gt; -- &gt; Jurgis Pralgauskis &gt; tel: 8-616 77613; &gt; Don't worry, be happy and make things better ;) &gt; http://galvosukykla.lt &gt; &gt; -- &gt; &gt; --- &gt; You received this message because you are subscribed to the Google Groups &gt; &quot;web2py-users&quot; group. &gt; To unsubscribe from this group and stop receiving emails from it, send an &gt; email to web2py+unsubscribe@xxxxxxxxxxxxxxxx. &gt; For more options, visit https://groups.google.com/groups/opt_out. &gt; &gt; -- --- You received this message because you are subscribed to a topic in the Google Groups &quot;web2py-users&quot; group. To unsubscribe from this topic, visit https://groups.google.com/d/topic/web2py/KJDeQoLKw-M/unsubscribe?hl=en. To unsubscribe from this group and all its topics, send an email to web2py+unsubscribe@xxxxxxxxxxxxxxxx. For more options, visit https://groups.google.com/groups/opt_out. -- Jurgis Pralgauskistel: 8-616 77613;Don't worry, be happy and make things better ;)http://galvosukykla.lt -- Â --- You received this message because you are subscribed to the Google Groups &quot;web2py-users&quot; group. To unsubscribe from this group and stop receiving emails from it, send an email to web2py+unsubscribe@xxxxxxxxxxxxxxxx. For more options, visit https://groups.google.com/groups/opt_out.Â -- --- You received this message because you are subscribed to the Google Groups &quot;web2py-users&quot; group. To unsubscribe from this group and stop receiving emails from it, send an email to web2py+unsubscribe@xxxxxxxxxxxxxxxxx For more options, visit https://groups.google.com/groups/opt_out. Next Message by Thread: [web2py] web2py.test without a web2py server running I made some improvements in web2py.test to allow run tests without a web2py server running. See: http://is.gd/vBu6gC Basically, it uses gluon.compileapp.run_controller_in() function to run a controller in a web2py environment and calls response.render() to render a template. Any suggestions or fixes? -- Vinicius Assef -- --- You received this message because you are subscribed to the Google Groups &quot;web2py-users&quot; group. To unsubscribe from this group and stop receiving emails from it, send an email to web2py+unsubscribe@xxxxxxxxxxxxxxxxx For more options, visit https://groups.google.com/groups/opt_out. Home | News | Sitemap | FAQ | advertise | OSDir is an Inevitable website. GBiz is too! | Source may include bb10 Recent Msgs: qemu-devel/2013-05/msg02968.html openlayers-users-gis/2013-05/msg00164.html ubuntu-bugs/2013-05/msg17343.html general/2013-05/msg50109.html general/2013-05/msg50021.html iText-pdf-java/2013-05/msg00178.html lilypond-user-fr/2013-05/msg00271.html ubuntu-bugs/2013-05/msg17366.html scm-fedora-commits/2013-05/msg15190.html commits.gnome/2013-05/msg05650.html Date Index of Msgs: updating list info May 28, 2013 Re: [web2py] Re: database shootout Re: [web2py] Re: deploy nginx debian6 [web2py] Re: web2py components and browser history [web2py] Re: database shootout [web2py] Re: deploy nginx debian6 [web2py] Re: 2.4.7 internal error Re: [web2py] Restful authentication and CORS [web2py] 2.4.7 internal error [web2py] Re: 2.4.7 problems [web2py] Re: 2.4.7 problems [web2py] 2.4.7 problems [web2py] Re: web2py 2.4.7 is Out Re: [web2py] custom login_bare() Re: [web2py] Restful authentication and CORS [web2py] custom login_bare() [web2py] Re: PAAS supporting web2py [web2py] Re: help with functions index [web2py] Re: No module named connections [web2py] Re: After update web2py version, invalid login. Re: [web2py] Re: Autocomplete widget on SQLFORM.grid search? [web2py] Re: jquery mobile: popup calendar does not always appear [web2py] Re: PAAS supporting web2py [web2py] Re: Autocomplete widget on SQLFORM.grid search? [web2py] Autocomplete widget on SQLFORM.grid search? [web2py] Re: help with functions index Re: [web2py] Login with ID rather than email? Re: [web2py] Login with ID rather than email? [web2py] Re: database shootout May 27, 2013 [web2py] Re: Refresh page on successful form submission; and response.flash? [web2py] Re: Refresh page on successful form submission; and response.flash? Re: [web2py] asynchronous respons using twisted... is it possible? Re: [web2py] Re: hiding a column in smartgrid [web2py] Re: Refresh page on successful form submission; and response.flash? Re: [web2py] Login with ID rather than email? [web2py] Re: computed field and reference [web2py] Re: how display var in menu [web2py] Re: How to mark the 'id' field as readable and writable? [web2py] How to mark the 'id' field as readable and writable? [web2py] how display var in menu Re: [web2py] Login with ID rather than email? [web2py] Re: hiding a column in smartgrid [web2py] Re: Refresh page on successful form submission; and response.flash? [web2py] No module named connections [web2py] Re: [web2py:9361] Re: web2py + opencv Re: [web2py] database shootout [web2py] Re: PAAS supporting web2py [web2py] Re: Refresh page on successful form submission; and response.flash? [web2py] Re: PAAS supporting web2py [web2py] Re: Refresh page on successful form submission; and response.flash? [web2py] PAAS supporting web2py [web2py] hiding a column in smartgrid [web2py] Re: Refresh page on successful form submission; and response.flash? [web2py] Re: Refresh page on successful form submission; and response.flash? Re: [web2py] Restful authentication and CORS [web2py] Re: Refresh page on successful form submission; and response.flash? [web2py] Re: Refresh page on successful form submission; and response.flash? [web2py] computed field and reference [web2py] Re: Error on start: 'Auth' object has no attribute 'wikimenu' [web2py] Re: Error on start: 'Auth' object has no attribute 'wikimenu' Re: [web2py] asynchronous respons using twisted... is it possible? [web2py] Re: Dropboxing movies into Web2py Server? Re: [web2py] how to use cache decorator within modules? Re: [web2py] Re: database shootout [web2py] Re: Dropboxing movies into Web2py Server? [web2py] Re: Dropboxing movies into Web2py Server? [web2py] Re: After update web2py version, invalid login. [web2py] Re: jquery mobile: popup calendar does not always appear [web2py] Re: After update web2py version, invalid login. Re: [web2py] Login with ID rather than email? Re: [web2py] Login with ID rather than email? [web2py] Login with ID rather than email? Re: [web2py] After update web2py version, invalid login. [web2py] Re: Admin is &quot;Temporarily down for maintenance&quot; on PythonAnywhere May 26, 2013 [web2py] Re: help with functions index Re: [web2py] Re: Testing your app using py.test Re: [web2py] Re: Memory leak, SQLite, Windows (7, 2008) Re: [web2py] Re: No module named PIL [web2py] Error on start: 'Auth' object has no attribute 'wikimenu' [web2py] help with functions index [web2py] Re: mysql db connections [web2py] Re: Dropboxing movies into Web2py Server? Re: [web2py] Re: Testing your app using py.test [web2py] Re: Dropboxing movies into Web2py Server? [web2py] Admin is &quot;Temporarily down for maintenance&quot; on PythonAnywhere [web2py] Re: IDE edit function doesn't work on ipad ? Re: [web2py] Re: web2py 2.4.7 is Out Re: [web2py] After update web2py version, invalid login. [web2py] Re: TypeError [web2py] Re: Dropboxing movies into Web2py Server? [web2py] Dropboxing movies into Web2py Server? [web2py] Re: web2py 2.4.7 is Out [web2py] Re: Session variables disappearing [web2py] Re: TypeError [web2py] Re: TypeError [web2py] Re: TypeError [web2py] Re: TypeError [web2py] TypeError Re: [web2py] Re: database shootout [web2py] Re: mysql db connections Re: [web2py] After update web2py version, invalid login. Re: [web2py] Re: Testing your app using py.test Re: [web2py] Re: Testing your app using py.test [web2py] Re: web2py 2.4.7 is Out Re: [web2py] Re: database shootout Re: [web2py] Re: Testing your app using py.test Re: [web2py] Re: Testing your app using py.test [web2py] Re: web2py 2.4.7 is Out [web2py] Re: mysql db connections Re: [web2py] After update web2py version, invalid login. Re: [web2py] After update web2py version, invalid login. [web2py] After update web2py version, invalid login. [web2py] mysql db connections Re: [web2py] Re: Testing your app using py.test Re: [web2py] Re: Testing your app using py.test Re: [web2py] Re: Testing your app using py.test May 25, 2013 [web2py] Re: deploy nginx debian6 [web2py] Re: Session variables disappearing [web2py] Re: Session variables disappearing [web2py] Re: deploy nginx debian6 Re: [web2py] Re: No module named PIL Re: [web2py] Re: No module named PIL [web2py] Re: deploy nginx debian6 [web2py] Re: web2py 2.4.7 is Out Re: [web2py] Re: Testing your app using py.test Re: [web2py] Re: Testing your app using py.test [web2py] Re: deploy nginx debian6 [web2py] Re: web2py.com/book is issuing an error ticket [web2py] Re: web2py 2.4.7 is Out [web2py] Re: deploy nginx debian6 [web2py] Re: web2py.com/book is issuing an error ticket [web2py] Re: web2py.com/book is issuing an error ticket [web2py] Re: web2py.com/book is issuing an error ticket [web2py] Re: Issues with rendering wiki in html. [web2py] Re: Rendering 'raw' HTML for AngularJS with Web2py [web2py] web2py.com/book is issuing an error ticket [web2py] Re: How to remove table name reference from generated form ids/labels [web2py] How to remove table name reference from generated form ids/labels [web2py] Re: Issues with rendering wiki in html. Re: [web2py] Re: No module named PIL Re: [web2py] Re: Testing your app using py.test [web2py] Re: Add Image Button in sqlform.grid Re: [web2py] Re: Testing your app using py.test Re: [web2py] asynchronous respons using twisted... is it possible? [web2py] Add Image Button in sqlform.grid Re: [web2py] Re: Testing your app using py.test Re: [web2py] Re: Testing your app using py.test Re: [web2py] Re: No module named PIL Re: [web2py] Re: No module named PIL Re: [web2py] Re: No module named PIL [web2py] Re: web2py 2.4.7 is Out Re: [web2py] Re: No module named PIL Re: [web2py] Re: No module named PIL Re: [web2py] Re: REF: Flash Message [web2py] Re: No module named PIL [web2py] No module named PIL [web2py] No module named PIL [web2py] Re: web2py 2.4.7 is Out May 24, 2013 [web2py] Re: web2py 2.4.7 is Out [web2py] Re: web2py 2.4.7 is Out [web2py] Re: IDE edit function doesn't work on ipad ? Re: [web2py] Re: Testing your app using py.test [web2py] Re: question about digital signatures Re: [web2py] Re: Testing your app using py.test [web2py] Re: question about digital signatures [web2py] Re: deploy nginx debian6 [web2py] Re: Redirect to another controller function with arguments from a callback function? [web2py] Re: deploy nginx debian6 [web2py] web2py 2.4.7 is Out [web2py] Re: Redirect to another controller function with arguments from a callback function? [web2py] Re: Redirect to another controller function with arguments from a callback function? TESTING page " />
  <RDF:Description RDF:about="urn:scrapbook:item20130524055641#index"
                   NS1:folder="urn:scrapbook:item20130523104421"
                   NS1:content=" 6.3. Using Individual Components Prev Chapter 6. Using the Debian Installer Next 6.3. Using Individual Components In this section we will describe each installer component in detail. The components have been grouped into stages that should be recognizable for users. They are presented in the order they appear during the install. Note that not all modules will be used for every installation; which modules are actually used depends on the installation method you use and on your hardware. 6.3.1. Setting up Debian Installer and Hardware Configuration Let's assume the Debian Installer has booted and you are facing its first screen. At this time, the capabilities of debian-installer are still quite limited. It doesn't know much about your hardware, preferred language, or even the task it should perform. Don't worry. Because debian-installer is quite clever, it can automatically probe your hardware, locate the rest of its components and upgrade itself to a capable installation system. However, you still need to help debian-installer with some information it can't determine automatically (like selecting your preferred language, keyboard layout or desired network mirror). You will notice that debian-installer performs hardware detection several times during this stage. The first time is targeted specifically at the hardware needed to load installer components (e.g. your CD-ROM or network card). As not all drivers may be available during this first run, hardware detection needs to be repeated later in the process. During hardware detection debian-installer checks if any of the drivers for the hardware devices in your system require firmware to be loaded. If any firmware is requested but unavailable, a dialog will be displayed that allows the missing firmware to be loaded from a removable medium. See Section 6.4, “Loading Missing Firmware” for further details. 6.3.1.1. Check available memory / low memory mode One of the first things debian-installer does, is to check available memory. If the available memory is limited, this component will make some changes in the installation process which hopefully will allow you to install Debian GNU/Linux on your system. The first measure taken to reduce memory consumption by the installer is to disable translations, which means that the installation can only be done in English. Of course, you can still localize the installed system after the installation has completed. If that is not sufficient, the installer will further reduce memory consumption by loading only those components essential to complete a basic installation. This reduces the functionality of the installation system. You will be given the opportunity to load additional components manually, but you should be aware that each component you select will use additional memory and thus may cause the installation to fail. If the installer runs in low memory mode, it is recommended to create a relatively large swap partition (64–128MB). The swap partition will be used as virtual memory and thus increases the amount of memory available to the system. The installer will activate the swap partition as early as possible in the installation process. Note that heavy use of swap will reduce performance of your system and may lead to high disk activity. Despite these measures, it is still possible that your system freezes, that unexpected errors occur or that processes are killed by the kernel because the system runs out of memory (which will result in “Out of memory” messages on VT4 and in the syslog). For example, it has been reported that creating a big ext3 file system fails in low memory mode when there is insufficient swap space. If a larger swap doesn't help, try creating the file system as ext2 (which is an essential component of the installer) instead. It is possible to change an ext2 partition to ext3 after the installation. It is possible to force the installer to use a higher lowmem level than the one based on available memory by using the boot parameter “lowmem” as described in Section 5.3.2, “Debian Installer Parameters”. 6.3.1.2. Selecting Localization Options In most cases the first questions you will be asked concern the selection of localization options to be used both for the installation and for the installed system. The localization options consist of language, location and locales. The language you choose will be used for the rest of the installation process, provided a translation of the different dialogs is available. If no valid translation is available for the selected language, the installer will default to English. The selected geographic location (in most cases a country) will be used later in the installation process to select the correct time zone and a Debian mirror appropriate for that country. Language and country together will help determine the default locale for your system and select the correct keyboard layout. You will first be asked to select your preferred language. The language names are listed both in English (left side) and in the language itself (right side); the names on the right side are also shown in the proper script for the language. The list is sorted on the English names. At the top of the list is an extra option that allows you to select the “C” locale instead of a language. Choosing the “C” locale will result in the installation proceding in English; the installed system will have no localization support as the locales package will not be installed. Next you will be asked to select your geographic location. If you selected a language that is recognized as an official language for more than one country[8], you will be shown a list of only those countries. To select a country that is not in that list, choose other (the last option). You will then be presented with a list of continents; selecting a continent will lead to a list of relevant countries on that continent. If the language has only one country associated with it, a list of countries will be displayed for the continent or region the country belongs to, with that country selected as the default. Use the Go Back option to select countries on a different continent. Note It is important to select the country where you live or where you are located as it determines the time zone that will be configured for the installed system. If you selected a combination of language and country for which no locale is defined and there exist multiple locales for the language, then the installer will allow you to choose which of those locales you prefer as the default locale for the installed system[9]. In all other cases a default locale will be selected based on the selected language and country. Any default locale selected as described in the previous paragraph will use UTF-8 as character encoding. If you are installing at low priority, you will have the option of selecting additional locales, including so-called “legacy” locales[10], to be generated for the installed system; if you do, you will be asked which of the selected locales should be the default for the installed system. 6.3.1.3. Choosing a Keyboard Keyboards are often tailored to the characters used in a language. Select a layout that conforms to the keyboard you are using, or select something close if the keyboard layout you want isn't represented. Once the system installation is complete, you'll be able to select a keyboard layout from a wider range of choices (run dpkg-reconfigure keyboard-configuration as root after you have completed the installation). Move the highlight to the keyboard selection you desire and press Enter. Use the arrow keys to move the highlight — they are in the same place in all national language keyboard layouts, so they are independent of the keyboard configuration. 6.3.1.4. Looking for the Debian Installer ISO Image When installing via the hd-media method, there will be a moment where you need to find and mount the Debian Installer iso image in order to get the rest of the installation files. The component iso-scan does exactly this. At first, iso-scan automatically mounts all block devices (e.g. partitions) which have some known filesystem on them and sequentially searches for filenames ending with .iso (or .ISO for that matter). Beware that the first attempt scans only files in the root directory and in the first level of subdirectories (i.e. it finds /whatever.iso, /data/whatever.iso, but not /data/tmp/whatever.iso). After an iso image has been found, iso-scan checks its content to determine if the image is a valid Debian iso image or not. In the former case we are done, in the latter iso-scan seeks for another image. In case the previous attempt to find an installer iso image fails, iso-scan will ask you whether you would like to perform a more thorough search. This pass doesn't just look into the topmost directories, but really traverses whole filesystem. If iso-scan does not discover your installer iso image, reboot back to your original operating system and check if the image is named correctly (ending in .iso), if it is placed on a filesystem recognizable by debian-installer, and if it is not corrupted (verify the checksum). Experienced Unix users could do this without rebooting on the second console. 6.3.1.5. Configuring the Network As you enter this step, if the system detects that you have more than one network device, you'll be asked to choose which device will be your primary network interface, i.e. the one which you want to use for installation. The other interfaces won't be configured at this time. You may configure additional interfaces after installation is complete; see the interfaces(5) man page. 6.3.1.5.1. Automatic network configuration By default, debian-installer tries to configure your computer's network automatically as far as possible. If the automatic configuration fails, that may be caused by many factors ranging from an unplugged network cable to missing infrastructure for automatic configuration. For further explanation in case of errors, check the error messages on the fourth console. In any case, you will be asked if you want to retry, or if you want to perform a manual setup. Sometimes the network services used for autoconfiguration can be slow in their responses, so if you are sure everything is in place, simply start the autoconfiguration attempt again. If autoconfiguration fails repeatedly, you can instead choose the manual network setup. 6.3.1.5.2. Manual network configuration The manual network setup in turn asks you a number of questions about your network, notably IP address, Netmask, Gateway, Name server addresses, and a Hostname. Moreover, if you have a wireless network interface, you will be asked to provide your Wireless ESSID (“wireless network name”) and a WEP key or WPA/WPA2 passphrase. Fill in the answers from Section 3.3, “Information You Will Need”. Note Some technical details you might, or might not, find handy: the program assumes the network IP address is the bitwise-AND of your system's IP address and your netmask. The default broadcast address is calculated as the bitwise OR of your system's IP address with the bitwise negation of the netmask. It will also guess your gateway. If you can't find any of these answers, use the offered defaults — if necessary, you can change them by editing /etc/network/interfaces once the system has been installed. 6.3.1.5.3. IPv4 and IPv6 From Debian GNU/Linux 7.0 (“Wheezy”) onwards, debian-installer supports IPv6 as well as the “classic” IPv4. All combinations of IPv4 and IPv6 (IPv4-only, IPv6-only and dual-stack configurations) are supported. Autoconfiguration for IPv4 is done via DHCP (Dynamic Host Configuration Protocol). Autoconfiguration for IPv6 supports stateless autoconfiguration using NDP (Neighbor Discovery Protocol, including recursive DNS server (RDNSS) assignment), stateful autoconfiguration via DHCPv6 and mixed stateless/stateful autoconfiguration (address configuration via NDP, additional parameters via DHCPv6). 6.3.1.6. Configuring the Clock and Time Zone The installer will first attempt to connect to a time server on the Internet (using the NTP protocol) in order to correctly set the system time. If this does not succeed, the installer will assume the time and date obtained from the system clock when the installation system was booted are correct. It is not possible to manually set the system time during the installation process. Depending on the location selected earlier in the installation process, you may be shown a list of time zones relevant for that location. If your location has only one time zone and you are doing a default installation, you will not be asked anything and the system will assume that time zone. In expert mode or when installing at medium priority, you will have the additional option to select “Coordinated Universal Time” (UTC) as time zone. If for some reason you wish to set a time zone for the installed system that does not match the selected location, there are two options. The simplest option is to just select a different time zone after the installation has been completed and you've booted into the new system. The command to do this is: # dpkg-reconfigure tzdata Alternatively, the time zone can be set at the very start of the installation by passing the parameter time/zone=value when you boot the installation system. The value should of course be a valid time zone, for example Europe/London or UTC. For automated installations the time zone can be set to any desired value using preseeding. 6.3.2. Setting Up Users And Passwords Just before configuring the clock, the installer will allow you to set up the “root” account and/or an account for the first user. Other user accounts can be created after the installation has been completed. 6.3.2.1. Set the Root Password The root account is also called the super-user; it is a login that bypasses all security protection on your system. The root account should only be used to perform system administration, and only used for as short a time as possible. Any password you create should contain at least 6 characters, and should contain both upper- and lower-case characters, as well as punctuation characters. Take extra care when setting your root password, since it is such a powerful account. Avoid dictionary words or use of any personal information which could be guessed. If anyone ever tells you they need your root password, be extremely wary. You should normally never give your root password out, unless you are administering a machine with more than one system administrator. 6.3.2.2. Create an Ordinary User The system will ask you whether you wish to create an ordinary user account at this point. This account should be your main personal log-in. You should not use the root account for daily use or as your personal login. Why not? Well, one reason to avoid using root's privileges is that it is very easy to do irreparable damage as root. Another reason is that you might be tricked into running a Trojan-horse program — that is a program that takes advantage of your super-user powers to compromise the security of your system behind your back. Any good book on Unix system administration will cover this topic in more detail — consider reading one if it is new to you. You will first be prompted for the user's full name. Then you'll be asked for a name for the user account; generally your first name or something similar will suffice and indeed will be the default. Finally, you will be prompted for a password for this account. If at any point after installation you would like to create another account, use the adduser command. 6.3.3. Partitioning and Mount Point Selection At this time, after hardware detection has been executed a final time, debian-installer should be at its full strength, customized for the user's needs and ready to do some real work. As the title of this section indicates, the main task of the next few components lies in partitioning your disks, creating filesystems, assigning mountpoints and optionally configuring closely related options like RAID, LVM or encrypted devices. If you are uncomfortable with partitioning, or just want to know more details, see Appendix C, Partitioning for Debian. First you will be given the opportunity to automatically partition either an entire drive, or available free space on a drive. This is also called “guided” partitioning. If you do not want to autopartition, choose Manual from the menu. 6.3.3.1. Supported partitioning options The partitioner used in debian-installer is fairly versatile. It allows to create many different partitioning schemes, using various partition tables, file systems and advanced block devices. Exactly which options are available depends mainly on the architecture, but also on other factors. For example, on systems with limited internal memory some options may not be available. Defaults may vary as well. The type of partition table used by default can for example be different for large capacity hard disks than for smaller hard disks. Some options can only be changed when installing at medium or low debconf priority; at higher priorities sensible defaults will be used. The installer supports various forms of advanced partitioning and use of storage devices, which in many cases can be used in combination. Logical Volume Management (LVM) Software RAID Supported are RAID levels 0, 1, 4, 5, 6 and 10. Encryption Serial ATA RAID (using dmraid) Also called “fake RAID” or “BIOS RAID”. Support for Serial ATA RAID is currently only available if enabled when the installer is booted. Further information is available on our Wiki. Multipath (experimental) See our Wiki for information. Support for multipath is currently only available if enabled when the installer is booted. The following file systems are supported. ext2, ext3, ext4 The default file system selected in most cases is ext4; for /boot partitions ext2 will be selected by default when guided partitioning is used. jfs (not available on all architectures) xfs (not available on all architectures) reiserfs (optional; not available on all architectures) Support for the Reiser file system is no longer available by default. When the installer is running at medium or low debconf priority it can be enabled by selecting the partman-reiserfs component. Only version 3 of the file system is supported. qnx4 Existing partitions will be recognized and it is possible to assign mount points for them. It is not possible to create new qnx4 partitions. FAT16, FAT32 NTFS (read-only) Existing NTFS partitions can be resized and it is possible to assign mount points for them. It is not possible to create new NTFS partitions. 6.3.3.2. Guided Partitioning If you choose guided partitioning, you may have three options: to create partitions directly on the hard disk (classic method), or to create them using Logical Volume Management (LVM), or to create them using encrypted LVM[11]. Note The option to use (encrypted) LVM may not be available on all architectures. When using LVM or encrypted LVM, the installer will create most partitions inside one big partition; the advantage of this method is that partitions inside this big partition can be resized relatively easily later. In the case of encrypted LVM the big partition will not be readable without knowing a special key phrase, thus providing extra security of your (personal) data. When using encrypted LVM, the installer will also automatically erase the disk by writing random data to it. This further improves security (as it makes it impossible to tell which parts of the disk are in use and also makes sure that any traces of previous installations are erased), but may take some time depending on the size of your disk. Note If you choose guided partitioning using LVM or encrypted LVM, some changes in the partition table will need to be written to the selected disk while LVM is being set up. These changes effectively erase all data that is currently on the selected hard disk and you will not be able to undo them later. However, the installer will ask you to confirm these changes before they are written to disk. If you choose guided partitioning (either classic or using (encrypted) LVM) for a whole disk, you will first be asked to select the disk you want to use. Check that all your disks are listed and, if you have several disks, make sure you select the correct one. The order they are listed in may differ from what you are used to. The size of the disks may help to identify them. Any data on the disk you select will eventually be lost, but you will always be asked to confirm any changes before they are written to the disk. If you have selected the classic method of partitioning, you will be able to undo any changes right until the end; when using (encrypted) LVM this is not possible. Next, you will be able to choose from the schemes listed in the table below. All schemes have their pros and cons, some of which are discussed in Appendix C, Partitioning for Debian. If you are unsure, choose the first one. Bear in mind that guided partitioning needs a certain minimal amount of free space to operate with. If you don't give it at least about 1GB of space (depends on chosen scheme), guided partitioning will fail. Partitioning scheme Minimum space Created partitions All files in one partition 600MB /, swap Separate /home partition 500MB /, /home, swap Separate /home, /usr, /var and /tmp partitions 1GB /, /home, /usr, /var, /tmp, swap If you choose guided partitioning using (encrypted) LVM, the installer will also create a separate /boot partition. The other partitions, including the swap partition, will be created inside the LVM partition. After selecting a scheme, the next screen will show your new partition table, including information on whether and how partitions will be formatted and where they will be mounted. The list of partitions might look like this: IDE1 master (hda) - 6.4 GB WDC AC36400L #1 primary 16.4 MB B f ext2 /boot #2 primary 551.0 MB swap swap #3 primary 5.8 GB ntfs pri/log 8.2 MB FREE SPACE IDE1 slave (hdb) - 80.0 GB ST380021A #1 primary 15.9 MB ext3 #2 primary 996.0 MB fat16 #3 primary 3.9 GB xfs /home #5 logical 6.0 GB f ext3 / #6 logical 1.0 GB f ext3 /var #7 logical 498.8 MB ext3 #8 logical 551.5 MB swap swap #9 logical 65.8 GB ext2 This example shows two IDE harddrives divided into several partitions; the first disk has some free space. Each partition line consists of the partition number, its type, size, optional flags, file system, and mountpoint (if any). Note: this particular setup cannot be created using guided partitioning but it does show possible variation that can be achieved using manual partitioning. This concludes the guided partitioning. If you are satisfied with the generated partition table, you can choose Finish partitioning and write changes to disk from the menu to implement the new partition table (as described at the end of this section). If you are not happy, you can choose to Undo changes to partitions and run guided partitioning again, or modify the proposed changes as described below for manual partitioning. 6.3.3.3. Manual Partitioning A similar screen to the one shown just above will be displayed if you choose manual partitioning except that your existing partition table will be shown and without the mount points. How to manually set up your partition table and the usage of partitions by your new Debian system will be covered in the remainder of this section. If you select a pristine disk which has neither partitions nor free space on it, you will be asked if a new partition table should be created (this is needed so you can create new partitions). After this, a new line entitled “FREE SPACE” should appear in the table under the selected disk. If you select some free space, you will have the opportunity to create a new partition. You will have to answer a quick series of questions about its size, type (primary or logical), and location (beginning or end of the free space). After this, you will be presented with a detailed overview of your new partition. The main setting is Use as:, which determines if the partition will have a file system on it, or be used for swap, software RAID, LVM, an encrypted file system, or not be used at all. Other settings include mountpoint, mount options, and bootable flag; which settings are shown depends on how the partition is to be used. If you don't like the preselected defaults, feel free to change them to your liking. E.g. by selecting the option Use as:, you can choose a different filesystem for this partition, including options to use the partition for swap, software RAID, LVM, or not use it at all. Another nice feature is the ability to copy data from an existing partition onto this one. When you are satisfied with your new partition, select Done setting up the partition and you will return to partman's main screen. If you decide you want to change something about your partition, simply select the partition, which will bring you to the partition configuration menu. This is the same screen as is used when creating a new partition, so you can change the same settings. One thing that may not be very obvious at a first glance is that you can resize the partition by selecting the item displaying the size of the partition. Filesystems known to work are at least fat16, fat32, ext2, ext3 and swap. This menu also allows you to delete a partition. Be sure to create at least two partitions: one for the root filesystem (which must be mounted as /) and one for swap. If you forget to mount the root filesystem, partman won't let you continue until you correct this issue. Capabilities of partman can be extended with installer modules, but are dependent on your system's architecture. So if you can't see all promised goodies, check if you have loaded all required modules (e.g. partman-ext3, partman-xfs, or partman-lvm). After you are satisfied with partitioning, select Finish partitioning and write changes to disk from the partitioning menu. You will be presented with a summary of changes made to the disks and asked to confirm that the filesystems should be created as requested. 6.3.3.4. Configuring Multidisk Devices (Software RAID) If you have more than one harddrive[12] in your computer, you can use mdcfg to set up your drives for increased performance and/or better reliability of your data. The result is called Multidisk Device (or after its most famous variant software RAID). MD is basically a bunch of partitions located on different disks and combined together to form a logical device. This device can then be used like an ordinary partition (i.e. in partman you can format it, assign a mountpoint, etc.). What benefits this brings depends on the type of MD device you are creating. Currently supported are: RAID0 Is mainly aimed at performance. RAID0 splits all incoming data into stripes and distributes them equally over each disk in the array. This can increase the speed of read/write operations, but when one of the disks fails, you will lose everything (part of the information is still on the healthy disk(s), the other part was on the failed disk). The typical use for RAID0 is a partition for video editing. RAID1 Is suitable for setups where reliability is the first concern. It consists of several (usually two) equally-sized partitions where every partition contains exactly the same data. This essentially means three things. First, if one of your disks fails, you still have the data mirrored on the remaining disks. Second, you can use only a fraction of the available capacity (more precisely, it is the size of the smallest partition in the RAID). Third, file-reads are load-balanced among the disks, which can improve performance on a server, such as a file server, that tends to be loaded with more disk reads than writes. Optionally you can have a spare disk in the array which will take the place of the failed disk in the case of failure. RAID5 Is a good compromise between speed, reliability and data redundancy. RAID5 splits all incoming data into stripes and distributes them equally on all but one disk (similar to RAID0). Unlike RAID0, RAID5 also computes parity information, which gets written on the remaining disk. The parity disk is not static (that would be called RAID4), but is changing periodically, so the parity information is distributed equally on all disks. When one of the disks fails, the missing part of information can be computed from remaining data and its parity. RAID5 must consist of at least three active partitions. Optionally you can have a spare disk in the array which will take the place of the failed disk in the case of failure. As you can see, RAID5 has a similar degree of reliability to RAID1 while achieving less redundancy. On the other hand, it might be a bit slower on write operations than RAID0 due to computation of parity information. RAID6 Is similar to RAID5 except that it uses two parity devices instead of one. A RAID6 array can survive up to two disk failures. RAID10 RAID10 combines striping (as in RAID0) and mirroring (as in RAID1). It creates n copies of incoming data and distributes them across the partitions so that none of the copies of the same data are on the same device. The default value of n is 2, but it can be set to something else in expert mode. The number of partitions used must be at least n. RAID10 has different layouts for distributing the copies. The default is near copies. Near copies have all of the copies at about the same offset on all of the disks. Far copies have the copies at different offsets on the disks. Offset copies copy the stripe, not the individual copies. RAID10 can be used to achieve reliability and redundancy without the drawback of having to calculate parity. To sum it up: Type Minimum Devices Spare Device Survives disk failure? Available Space RAID0 2 no no Size of the smallest partition multiplied by number of devices in RAID RAID1 2 optional yes Size of the smallest partition in RAID RAID5 3 optional yes Size of the smallest partition multiplied by (number of devices in RAID minus one) RAID6 4 optional yes Size of the smallest partition multiplied by (number of devices in RAID minus two) RAID10 2 optional yes Total of all partitions divided by the number of chunk copies (defaults to two) If you want to know more about Software RAID, have a look at Software RAID HOWTO. To create an MD device, you need to have the desired partitions it should consist of marked for use in a RAID. (This is done in partman in the Partition settings menu where you should select Use as: → physical volume for RAID.) Note Make sure that the system can be booted with the partitioning scheme you are planning. In general it will be necessary to create a separate file system for /boot when using RAID for the root (/) file system. Most boot loaders (including lilo and grub) do support mirrored (not striped!) RAID1, so using for example RAID5 for / and RAID1 for /boot can be an option. Warning Support for MD is a relatively new addition to the installer. You may experience problems for some RAID levels and in combination with some bootloaders if you try to use MD for the root (/) file system. For experienced users, it may be possible to work around some of these problems by executing some configuration or installation steps manually from a shell. Next, you should choose Configure software RAID from the main partman menu. (The menu will only appear after you mark at least one partition for use as physical volume for RAID.) On the first screen of mdcfg simply select Create MD device. You will be presented with a list of supported types of MD devices, from which you should choose one (e.g. RAID1). What follows depends on the type of MD you selected. RAID0 is simple — you will be issued with the list of available RAID partitions and your only task is to select the partitions which will form the MD. RAID1 is a bit more tricky. First, you will be asked to enter the number of active devices and the number of spare devices which will form the MD. Next, you need to select from the list of available RAID partitions those that will be active and then those that will be spare. The count of selected partitions must be equal to the number provided earlier. Don't worry. If you make a mistake and select a different number of partitions, debian-installer won't let you continue until you correct the issue. RAID5 has a setup procedure similar to RAID1 with the exception that you need to use at least three active partitions. RAID6 also has a setup procedure similar to RAID1 except that at least four active partitions are required. RAID10 again has a setup procedure similar to RAID1 except in expert mode. In expert mode, debian-installer will ask you for the layout. The layout has two parts. The first part is the layout type. It is either n (for near copies), f (for far copies), or o (for offset copies). The second part is the number of copies to make of the data. There must be at least that many active devices so that all of the copies can be distributed onto different disks. It is perfectly possible to have several types of MD at once. For example, if you have three 200 GB hard drives dedicated to MD, each containing two 100 GB partitions, you can combine the first partitions on all three disks into the RAID0 (fast 300 GB video editing partition) and use the other three partitions (2 active and 1 spare) for RAID1 (quite reliable 100 GB partition for /home). After you set up MD devices to your liking, you can Finish mdcfg to return back to the partman to create filesystems on your new MD devices and assign them the usual attributes like mountpoints. 6.3.3.5. Configuring the Logical Volume Manager (LVM) If you are working with computers at the level of system administrator or “advanced” user, you have surely seen the situation where some disk partition (usually the most important one) was short on space, while some other partition was grossly underused and you had to manage this situation by moving stuff around, symlinking, etc. To avoid the described situation you can use Logical Volume Manager (LVM). Simply said, with LVM you can combine your partitions (physical volumes in LVM lingo) to form a virtual disk (so called volume group), which can then be divided into virtual partitions (logical volumes). The point is that logical volumes (and of course underlying volume groups) can span across several physical disks. Now when you realize you need more space for your old 160GB /home partition, you can simply add a new 300GB disk to the computer, join it with your existing volume group and then resize the logical volume which holds your /home filesystem and voila — your users have some room again on their renewed 460GB partition. This example is of course a bit oversimplified. If you haven't read it yet, you should consult the LVM HOWTO. LVM setup in debian-installer is quite simple and completely supported inside partman. First, you have to mark the partition(s) to be used as physical volumes for LVM. This is done in the Partition settings menu where you should select Use as: → physical volume for LVM. When you return to the main partman screen, you will see a new option Configure the Logical Volume Manager. When you select that, you will first be asked to confirm pending changes to the partition table (if any) and after that the LVM configuration menu will be shown. Above the menu a summary of the LVM configuration is shown. The menu itself is context sensitive and only shows valid actions. The possible actions are: Display configuration details: shows LVM device structure, names and sizes of logical volumes and more Create volume group Create logical volume Delete volume group Delete logical volume Extend volume group Reduce volume group Finish: return to the main partman screen Use the options in that menu to first create a volume group and then create your logical volumes inside it. After you return to the main partman screen, any created logical volumes will be displayed in the same way as ordinary partitions (and you should treat them as such). 6.3.3.6. Configuring Encrypted Volumes debian-installer allows you to set up encrypted partitions. Every file you write to such a partition is immediately saved to the device in encrypted form. Access to the encrypted data is granted only after entering the passphrase used when the encrypted partition was originally created. This feature is useful to protect sensitive data in case your laptop or hard drive gets stolen. The thief might get physical access to the hard drive, but without knowing the right passphrase, the data on the hard drive will look like random characters. The two most important partitions to encrypt are: the home partition, where your private data resides, and the swap partition, where sensitive data might be stored temporarily during operation. Of course, nothing prevents you from encrypting any other partitions that might be of interest. For example /var where database servers, mail servers or print servers store their data, or /tmp which is used by various programs to store potentially interesting temporary files. Some people may even want to encrypt their whole system. The only exception is the /boot partition which must remain unencrypted, because currently there is no way to load the kernel from an encrypted partition. Note Please note that the performance of encrypted partitions will be less than that of unencrypted ones because the data needs to be decrypted or encrypted for every read or write. The performance impact depends on your CPU speed, chosen cipher and a key length. To use encryption, you have to create a new partition by selecting some free space in the main partitioning menu. Another option is to choose an existing partition (e.g. a regular partition, an LVM logical volume or a RAID volume). In the Partition settings menu, you need to select physical volume for encryption at the Use as: option. The menu will then change to include several cryptographic options for the partition. debian-installer supports several encryption methods. The default method is dm-crypt (included in newer Linux kernels, able to host LVM physical volumes), the other is loop-AES (older, maintained separately from the Linux kernel tree). Unless you have compelling reasons to do otherwise, it is recommended to use the default. First, let's have a look at the options available when you select Device-mapper (dm-crypt) as the encryption method. As always: when in doubt, use the defaults, because they have been carefully chosen with security in mind. Encryption: aes This option lets you select the encryption algorithm (cipher) which will be used to encrypt the data on the partition. debian-installer currently supports the following block ciphers: aes, blowfish, serpent, and twofish. It is beyond the scope of this document to discuss the qualities of these different algorithms, however, it might help your decision to know that in 2000, AES was chosen by the American National Institute of Standards and Technology as the standard encryption algorithm for protecting sensitive information in the 21st century. Key size: 256 Here you can specify the length of the encryption key. With a larger key size, the strength of the encryption is generally improved. On the other hand, increasing the length of the key usually has a negative impact on performance. Available key sizes vary depending on the cipher. IV algorithm: cbc-essiv:sha256 The Initialization Vector or IV algorithm is used in cryptography to ensure that applying the cipher on the same clear text data with the same key always produces a unique cipher text. The idea is to prevent the attacker from deducing information from repeated patterns in the encrypted data. From the provided alternatives, the default cbc-essiv:sha256 is currently the least vulnerable to known attacks. Use the other alternatives only when you need to ensure compatibility with some previously installed system that is not able to use newer algorithms. Encryption key: Passphrase Here you can choose the type of the encryption key for this partition. Passphrase The encryption key will be computed[13] on the basis of a passphrase which you will be able to enter later in the process. Random key A new encryption key will be generated from random data each time you try to bring up the encrypted partition. In other words: on every shutdown the content of the partition will be lost as the key is deleted from memory. (Of course, you could try to guess the key with a brute force attack, but unless there is an unknown weakness in the cipher algorithm, it is not achievable in our lifetime.) Random keys are useful for swap partitions because you do not need to bother yourself with remembering the passphrase or wiping sensitive information from the swap partition before shutting down your computer. However, it also means that you will not be able to use the “suspend-to-disk” functionality offered by newer Linux kernels as it will be impossible (during a subsequent boot) to recover the suspended data written to the swap partition. Erase data: yes Determines whether the content of this partition should be overwritten with random data before setting up the encryption. This is recommended because it might otherwise be possible for an attacker to discern which parts of the partition are in use and which are not. In addition, this will make it harder to recover any leftover data from previous installations[14]. If you select Encryption method: → Loopback (loop-AES), the menu changes to provide the following options: Encryption: AES256 For loop-AES, unlike dm-crypt, the options for cipher and key size are combined, so you can select both at the same time. Please see the above sections on ciphers and key sizes for further information. Encryption key: Keyfile (GnuPG) Here you can select the type of the encryption key for this partition. Keyfile (GnuPG) The encryption key will be generated from random data during the installation. Moreover this key will be encrypted with GnuPG, so to use it, you will need to enter the proper passphrase (you will be asked to provide one later in the process). Random key Please see the section on random keys above. Erase data: yes Please see the the section on erasing data above. After you have selected the desired parameters for your encrypted partitions, return back to the main partitioning menu. There should now be a new menu item called Configure encrypted volumes. After you select it, you will be asked to confirm the deletion of data on partitions marked to be erased and possibly other actions such as writing a new partition table. For large partitions this might take some time. Next you will be asked to enter a passphrase for partitions configured to use one. Good passphrases should be longer than 8 characters, should be a mixture of letters, numbers and other characters and should not contain common dictionary words or information easily associable with you (such as birthdates, hobbies, pet names, names of family members or relatives, etc.). Warning Before you input any passphrases, you should have made sure that your keyboard is configured correctly and generates the expected characters. If you are unsure, you can switch to the second virtual console and type some text at the prompt. This ensures that you won't be surprised later, e.g. by trying to input a passphrase using a qwerty keyboard layout when you used an azerty layout during the installation. This situation can have several causes. Maybe you switched to another keyboard layout during the installation, or the selected keyboard layout might not have been set up yet when entering the passphrase for the root file system. If you selected to use methods other than a passphrase to create encryption keys, they will be generated now. Because the kernel may not have gathered a sufficient amount of entropy at this early stage of the installation, the process may take a long time. You can help speed up the process by generating entropy: e.g. by pressing random keys, or by switching to the shell on the second virtual console and generating some network and disk traffic (downloading some files, feeding big files into /dev/null, etc.). This will be repeated for each partition to be encrypted. After returning to the main partitioning menu, you will see all encrypted volumes as additional partitions which can be configured in the same way as ordinary partitions. The following example shows two different volumes. The first one is encrypted via dm-crypt, the second one via loop-AES. Encrypted volume (sda2_crypt) - 115.1 GB Linux device-mapper #1 115.1 GB F ext3 Loopback (loop0) - 515.2 MB AES256 keyfile #1 515.2 MB F ext3 Now is the time to assign mount points to the volumes and optionally change the file system types if the defaults do not suit you. Pay attention to the identifiers in parentheses (sda2_crypt and loop0 in this case) and the mount points you assigned to each encrypted volume. You will need this information later when booting the new system. The differences between the ordinary boot process and the boot process with encryption involved will be covered later in Section 7.2, “Mounting encrypted volumes”. Once you are satisfied with the partitioning scheme, continue with the installation. 6.3.4. Installing the Base System Although this stage is the least problematic, it consumes a significant fraction of the install because it downloads, verifies and unpacks the whole base system. If you have a slow computer or network connection, this could take some time. During installation of the base system, package unpacking and setup messages are redirected to tty4. You can access this terminal by pressing Left Alt+F4; get back to the main installer process with Left Alt+F1. The unpack/setup messages generated during this phase are also saved in /var/log/syslog. You can check them there if the installation is performed over a serial console. As part of the installation, a Linux kernel will be installed. At the default priority, the installer will choose one for you that best matches your hardware. In lower priority modes, you will be able to choose from a list of available kernels. When packages are installed using the package management system, it will by default also install packages that are recommended by those packages. Recommended packages are not strictly required for the core functionality of the selected software, but they do enhance that software and should, in the view of the package maintainers, normally be installed together with that software. Note For technical reasons packages installed during the installation of the base system are installed without their “Recommends”. The rule described above only takes effect after this point in the installation process. 6.3.5. Installing Additional Software At this point you have a usable but limited system. Most users will want to install additional software on the system to tune it to their needs, and the installer allows you do so. This step can take even longer than installing the base system if you have a slow computer or network connection. 6.3.5.1. Configuring apt One of the tools used to install packages on a Debian GNU/Linux system is a program called apt-get, from the apt package[15]. Other front-ends for package management, like aptitude and synaptic, are also in use. These front-ends are recommended for new users, since they integrate some additional features (package searching and status checks) in a nice user interface. In fact, aptitude is now the recommended utility for package management. apt must be configured so that it knows from where to retrieve packages. The results of this configuration are written to the file /etc/apt/sources.list. You can examine and edit this file to your liking after the installation is complete. If you are installing at default priority, the installer will largely take care of the configuration automatically, based on the installation method you are using and possibly using choices made earlier in the installation. In most cases the installer will automatically add a security mirror and, if you are installing the stable distribution, a mirror for the “volatile” update service. If you are installing at a lower priority (e.g. in expert mode), you will be able to make more decisions yourself. You can choose whether or not to use the security and/or volatile update services, and you can choose to add packages from the “contrib” and “non-free” sections of the archive. 6.3.5.1.1. Installing from more than one CD or DVD If you are installing from a CD or a DVD that is part of a larger set, the installer will ask if you want to scan additional CDs or DVDs. If you have additional CDs or DVDs available, you probably want to do this so the installer can use the packages included on them. If you do not have any additional CDs or DVDs, that is no problem: using them is not required. If you also do not use a network mirror (as explained in the next section), it can mean that not all packages belonging to the tasks you select in the next step of the installation can be installed. Note Packages are included on CDs (and DVDs) in the order of their popularity. This means that for most uses only the first CDs in a set are needed and that only very few people actually use any of the packages included on the last CDs in a set. It also means that buying or downloading and burning a full CD set is just a waste of money as you'll never use most of them. In most cases you are better off getting only the first 3 to 8 CDs and installing any additional packages you may need from the Internet by using a mirror. The same goes for DVD sets: the first DVD, or maybe the first two DVDs will cover most needs. A good rule of thumb is that for a regular desktop installation (using the GNOME desktop environment) only the first three CDs are needed. For the alternative desktop environments (KDE or Xfce), additional CDs are needed. The first DVD easily covers all three desktop environments. If you do scan multiple CDs or DVDs, the installer will prompt you to exchange them when it needs packages from another CD/DVD than the one currently in the drive. Note that only CDs or DVDs that belong to the same set should be scanned. The order in which they are scanned does not really matter, but scanning them in ascending order will reduce the chance of mistakes. 6.3.5.1.2. Using a network mirror One question that will be asked during most installs is whether or not to use a network mirror as a source for packages. In most cases the default answer should be fine, but there are some exceptions. If you are not installing from a full CD or DVD or using a full CD/DVD image, you really should use a network mirror as otherwise you will end up with only a very minimal system. However, if you have a limited Internet connection it is best not to select the desktop task in the next step of the installation. If you are installing from a single full CD or using a full CD image, using a network mirror is not required, but is still strongly recommended because a single CD contains only a fairly limited number of packages. If you have a limited Internet connection it may still be best to not select a network mirror here, but to finish the installation using only what's available on the CD and selectively install additional packages after the installation (i.e. after you have rebooted into the new system). If you are installing from a DVD or using a DVD image, any packages needed during the installation should be present on the first DVD. The same is true if you have scanned multiple CDs as explained in the previous section. Use of a network mirror is optional. One advantage of adding a network mirror is that updates that have occurred since the CD/DVD set was created and have been included in a point release, will become available for installation, thus extending the life of your CD/DVD set without compromising the security or stability of the installed system. In summary: selecting a network mirror is generally a good idea, except if you do not have a good Internet connection. If the current version of a package is available from CD/DVD, the installer will always use that. The amount of data that will be downloaded if you do select a mirror thus depends on the tasks you select in the next step of the installation, which packages are needed for those tasks, which of those packages are present on the CDs or DVDs you have scanned, and whether any updated versions of packages included on the CDs or DVDs are available from a mirror (either a regular package mirror, or a mirror for security or volatile updates). Note that the last point means that, even if you choose not to use a network mirror, some packages may still be downloaded from the Internet if there is a security or volatile update available for them and those services have been configured. 6.3.5.1.3. Choosing a network mirror If you have selected to use a network mirror during the installation (optional for CD/DVD installs, required for netboot images), you will be presented with a list of geographically nearby (and therefore hopefully fast) network mirrors, based upon your country selection earlier in the installation process. Choosing the offered default is usually fine. A mirror can also be specified by hand by choosing “enter information manually” . You can then specify a mirror host name and an optional port number. As of Wheezy, that actually has to be a URL base, i.e. when specifying an IPv6 address, one has to add square brackets around it, for instance “[2001:db8::1]”. If your computer is on an IPv6-only network (which is probably not the case for the vast majority of users), using the default mirror for your country might not work. All the mirrors in the list are reachable via IPv4, but only some of them can be used via IPv6. As connectivity of individual mirrors can change over time, this information is not available in the installer. If there is no IPv6 connectivity for the default mirror for your country, you can either try some of the other mirrors offered to you or choose the “enter information manually” option. You can then specify “ftp.ipv6.debian.org” as the mirror name, which is an alias for a mirror available via IPv6, although it will probably not be the fastest possible one. Another option when choosing to specify the mirror manually is to use “http.debian.net” as your mirror. “http.debian.net” is not a physical mirror but a mirror redirection service, i.e. it automatically refers your system to a real mirror near you in terms of network topology. It takes into account by which protocol you connect to it, i.e. if you use IPv6, it will refer you to an IPv6-capable mirror near you. 6.3.5.2. Selecting and Installing Software During the installation process, you are given the opportunity to select additional software to install. Rather than picking individual software packages from the 52118 available packages, this stage of the installation process focuses on selecting and installing predefined collections of software to quickly set up your computer to perform various tasks. So, you have the ability to choose tasks first, and then add on more individual packages later. These tasks loosely represent a number of different jobs or things you want to do with your computer, such as “Desktop environment”, “Web server”, or “Print server”[16]. Section D.2, “Disk Space Needed for Tasks” lists the space requirements for the available tasks. Some tasks may be pre-selected based on the characteristics of the computer you are installing. If you disagree with these selections you can deselect them. You can even opt to install no tasks at all at this point. Tip In the standard user interface of the installer, you can use the space bar to toggle selection of a task. Note Unless you are using the special KDE or Xfce/LXDE CDs, the “Desktop environment” task will install the GNOME desktop environment. It is not possible to interactively select a different desktop during the installation. However, it is possible to get debian-installer to install a KDE desktop environment instead of GNOME by using preseeding (see Section B.4.10, “Package selection”) or by adding the parameter desktop=kde at the boot prompt when starting the installer. Alternatively the more lightweight Xfce and LXDE desktop environments can be selected by using desktop=xfce or desktop=lxde. Some CD images (netinst and DVD) also allow selection of the desired desktop environment from the graphical boot menu. Select the “Advanced options” option in the main menu and look for “Alternative desktop environments”. Note that this will only work if the packages needed for the desired desktop environment are actually available. If you are installing using a single full CD image, they will need to be downloaded from a mirror as most needed packages are only included on later CDs; installing KDE, Xfce or LXDE this way should work fine if you are using a DVD image or any other installation method. The various server tasks will install software roughly as follows. DNS server: bind9; File server: samba, nfs; Mail server: exim4, spamassassin, uw-imap; Print server: cups; SQL database: postgresql; Web server: apache2. The “Standard system” task will install any package that has a priority “standard”. This includes a lot of common utilities that are normally available on any Linux or Unix system. You should leave this task selected unless you know what you are doing and want a really minimal system. If during language selection a default locale other than the “C” locale was selected, tasksel will check if any localization tasks are defined for that locale and will automatically try to install relevant localization packages. This includes for example packages containing word lists or special fonts for your language. If a desktop environment was selected, it will also install appropriate localization packages for that (if available). Once you've selected your tasks, select Continue. At this point, aptitude will install the packages that are part of the selected tasks. If a particular program needs more information from the user, it will prompt you during this process. You should be aware that especially the Desktop task is very large. Especially when installing from a normal CD-ROM in combination with a mirror for packages not on the CD-ROM, the installer may want to retrieve a lot of packages over the network. If you have a relatively slow Internet connection, this can take a long time. There is no option to cancel the installation of packages once it has started. Even when packages are included on the CD-ROM, the installer may still retrieve them from the mirror if the version available on the mirror is more recent than the one included on the CD-ROM. If you are installing the stable distribution, this can happen after a point release (an update of the original stable release); if you are installing the testing distribution this will happen if you are using an older image. 6.3.6. Making Your System Bootable If you are installing a diskless workstation, obviously, booting off the local disk isn't a meaningful option, and this step will be skipped. 6.3.6.1. Detecting other operating systems Before a boot loader is installed, the installer will attempt to probe for other operating systems which are installed on the machine. If it finds a supported operating system, you will be informed of this during the boot loader installation step, and the computer will be configured to boot this other operating system in addition to Debian. Note that multiple operating systems booting on a single machine is still something of a black art. The automatic support for detecting and setting up boot loaders to boot other operating systems varies by architecture and even by subarchitecture. If it does not work you should consult your boot manager's documentation for more information. 6.3.6.2. Install the Grub Boot Loader on a Hard Disk The main i386 boot loader is called “grub”. Grub is a flexible and robust boot loader and a good default choice for new users and old hands alike. By default, grub will be installed into the Master Boot Record (MBR), where it will take over complete control of the boot process. If you prefer, you can install it elsewhere. See the grub manual for complete information. If you do not want to install grub, use the Go Back button to get to the main menu, and from there select whatever bootloader you would like to use. 6.3.6.3. Install the LILO Boot Loader on a Hard Disk The second i386 boot loader is called “LILO”. It is an old complex program which offers lots of functionality, including DOS, Windows, and OS/2 boot management. Please carefully read the instructions in the directory /usr/share/doc/lilo/ if you have special needs; also see the LILO mini-HOWTO. Note Currently the LILO installation will only create menu entries for other operating systems if these can be chainloaded. This means you may have to manually add a menu entry for operating systems like GNU/Linux and GNU/Hurd after the installation. debian-installer offers you three choices on where to install the LILO boot loader: Master Boot Record (MBR) This way the LILO will take complete control of the boot process. new Debian partition Choose this if you want to use another boot manager. LILO will install itself at the beginning of the new Debian partition and it will serve as a secondary boot loader. Other choice Useful for advanced users who want to install LILO somewhere else. In this case you will be asked for desired location. You can use traditional device names such as /dev/hda or /dev/sda. If you can no longer boot into Windows 9x (or DOS) after this step, you'll need to use a Windows 9x (MS-DOS) boot disk and use the fdisk /mbr command to reinstall the MS-DOS master boot record — however, this means that you'll need to use some other way to get back into Debian! 6.3.6.4. Continue Without Boot Loader This option can be used to complete the installation even when no boot loader is to be installed, either because the arch/subarch doesn't provide one, or because none is desired (e.g. you will use existing boot loader). If you plan to manually configure your bootloader, you should check the name of the installed kernel in /target/boot. You should also check that directory for the presence of an initrd; if one is present, you will probably have to instruct your bootloader to use it. Other information you will need are the disk and partition you selected for your / filesystem and, if you chose to install /boot on a separate partition, also your /boot filesystem. 6.3.7. Finishing the Installation This is the last step in the Debian installation process during which the installer will do any last minute tasks. It mostly consists of tidying up after the debian-installer. 6.3.7.1. Setting the System Clock The installer may ask you if the computer's clock is set to UTC. Normally this question is avoided if possible and the installer tries to work out whether the clock is set to UTC based on things like what other operating systems are installed. In expert mode you will always be able to choose whether or not the clock is set to UTC. Systems that (also) run Dos or Windows are normally set to local time. If you want to dual-boot, select local time instead of UTC. At this point debian-installer will also attempt to save the current time to the system's hardware clock. This will be done either in UTC or local time, depending on the selection that was just made. 6.3.7.2. Reboot the System You will be prompted to remove the boot media (CD, floppy, etc) that you used to boot the installer. After that the system will be rebooted into your new Debian system. 6.3.8. Troubleshooting The components listed in this section are usually not involved in the installation process, but are waiting in the background to help the user in case something goes wrong. 6.3.8.1. Saving the installation logs If the installation is successful, the logfiles created during the installation process will be automatically saved to /var/log/installer/ on your new Debian system. Choosing Save debug logs from the main menu allows you to save the log files to a floppy disk, network, hard disk, or other media. This can be useful if you encounter fatal problems during the installation and wish to study the logs on another system or attach them to an installation report. 6.3.8.2. Using the Shell and Viewing the Logs There are several methods you can use to get a shell while running an installation. On most systems, and if you are not installing over serial console, the easiest method is to switch to the second virtual console by pressing Left Alt+F2[17] (on a Mac keyboard, Option+F2). Use Left Alt+F1 to switch back to the installer itself. For the graphical installer see also Section D.6.1, “Using the graphical installer”. If you cannot switch consoles, there is also an Execute a Shell item on the main menu that can be used to start a shell. You can get to the main menu from most dialogs by using the Go Back button one or more times. Type exit to close the shell and return to the installer. At this point you are booted from the RAM disk, and there is a limited set of Unix utilities available for your use. You can see what programs are available with the command ls /bin /sbin /usr/bin /usr/sbin and by typing help. The shell is a Bourne shell clone called ash and has some nice features like autocompletion and history. To edit and view files, use the text editor nano. Log files for the installation system can be found in the /var/log directory. Note Although you can do basically anything in a shell that the available commands allow you to do, the option to use a shell is really only there in case something goes wrong and for debugging. Doing things manually from the shell may interfere with the installation process and result in errors or an incomplete installation. In particular, you should always use let the installer activate your swap partition and not do this yourself from a shell. 6.3.9. Installation Over the Network One of the more interesting components is network-console. It allows you to do a large part of the installation over the network via SSH. The use of the network implies you will have to perform the first steps of the installation from the console, at least to the point of setting up the networking. (Although you can automate that part with Section 4.6, “Automatic Installation”.) This component is not loaded into the main installation menu by default, so you have to explicitly ask for it. If you are installing from CD, you need to boot with medium priority or otherwise invoke the main installation menu and choose Load installer components from CD and from the list of additional components select network-console: Continue installation remotely using SSH. Successful load is indicated by a new menu entry called Continue installation remotely using SSH. After selecting this new entry, you will be asked for a new password to be used for connecting to the installation system and for its confirmation. That's all. Now you should see a screen which instructs you to login remotely as the user installer with the password you just provided. Another important detail to notice on this screen is the fingerprint of this system. You need to transfer the fingerprint securely to the person who will continue the installation remotely. Should you decide to continue with the installation locally, you can always press Enter, which will bring you back to the main menu, where you can select another component. Now let's switch to the other side of the wire. As a prerequisite, you need to configure your terminal for UTF-8 encoding, because that is what the installation system uses. If you do not, remote installation will be still possible, but you may encounter strange display artefacts like destroyed dialog borders or unreadable non-ascii characters. Establishing a connection with the installation system is as simple as typing: $ ssh -l installer install_host Where install_host is either the name or IP address of the computer being installed. Before the actual login the fingerprint of the remote system will be displayed and you will have to confirm that it is correct. Note The ssh server in the installer uses a default configuration that does not send keep-alive packets. In principle, a connection to the system being installed should be kept open indefinitely. However, in some situations — depending on your local network setup — the connection may be lost after some period of inactivity. One common case where this can happen is when there is some form of Network Address Translation (NAT) somewhere between the client and the system being installed. Depending on at which point of the installation the connection was lost, you may or may not be able to resume the installation after reconnecting. You may be able to avoid the connection being dropped by adding the option -o ServerAliveInterval=value when starting the ssh connection, or by adding that option in your ssh configuration file. Note however that in some cases adding this option may also cause a connection to be dropped (for example if keep-alive packets are sent during a brief network outage, from which ssh would otherwise have recovered), so it should only be used when needed. Note If you install several computers in turn and they happen to have the same IP address or hostname, ssh will refuse to connect to such host. The reason is that it will have different fingerprint, which is usually a sign of a spoofing attack. If you are sure this is not the case, you will need to delete the relevant line from ~/.ssh/known_hosts[18] and try again. After the login you will be presented with an initial screen where you have two possibilities called Start menu and Start shell. The former brings you to the main installer menu, where you can continue with the installation as usual. The latter starts a shell from which you can examine and possibly fix the remote system. You should only start one SSH session for the installation menu, but may start multiple sessions for shells. Warning After you have started the installation remotely over SSH, you should not go back to the installation session running on the local console. Doing so may corrupt the database that holds the configuration of the new system. This in turn may result in a failed installation or problems with the installed system. [8] In technical terms: where multiple locales exist for that language with differing country codes. [9] At medium and low priority you can always select your preferred locale from those available for the selected language (if there's more than one). [10] Legacy locales are locales which do not use UTF-8, but one of the older standards for character encoding such as ISO 8859-1 (used by West European languages) or EUC-JP (used by Japanese). [11] The installer will encrypt the LVM volume group using a 256 bit AES key and makes use of the kernel's “dm-crypt” support. [12] To be honest, you can construct an MD device even from partitions residing on single physical drive, but that won't give any benefits. [13] Using a passphrase as the key currently means that the partition will be set up using LUKS. [14] It is believed that the guys from three-letter agencies can restore the data even after several rewrites of the magnetooptical media, though. [15] Note that the program which actually installs the packages is called dpkg. However, this program is more of a low-level tool. apt-get is a higher-level tool, which will invoke dpkg as appropriate. It knows how to retrieve packages from your CD, the network, or wherever. It is also able to automatically install other packages which are required to make the package you're trying to install work correctly. [16] You should know that to present this list, the installer is merely invoking the tasksel program. It can be run at any time after installation to install more packages (or remove them), or you can use a more fine-grained tool such as aptitude. If you are looking for a specific single package, after installation is complete, simply run aptitude install package, where package is the name of the package you are looking for. [17] That is: press the Alt key on the left-hand side of the space bar and the F2 function key at the same time. [18] The following command will remove an existing entry for a host: ssh-keygen -R &lt;hostname|IP address&gt;. Prev Up Next 6.2. Components Introduction Home 6.4. Loading Missing Firmware " />
  <RDF:Description RDF:about="urn:scrapbook:item20130528181005#index"
                   NS1:folder="urn:scrapbook:root"
                   NS1:content=" &gt;&gt;&gt; &gt;&gt; &gt;&gt; Yes, as Jhonatan saids, FPDF (and the PDF standard, BTW) only &gt;&gt;&gt; &gt;&gt; &gt;&gt; support &gt;&gt;&gt; &gt;&gt; &gt;&gt; latin1 characters for standard font. &gt;&gt;&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;&gt; If you need utf8 characters, you need to embeed a T &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; You need to embed a UTF8 TTF font, for example: &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; # Add a DejaVu Unicode font (uses UTF-8) &gt;&gt;&gt; &gt;&gt; &gt; # Supports more than 200 languages. For a coverage status see: &gt;&gt;&gt; &gt;&gt; &gt; # &gt;&gt;&gt; &gt;&gt; &gt; &gt;&gt;&gt; &gt;&gt; &gt; http://dejavu.svn.sourceforge.net/viewvc/dejavu/trunk/dejavu-fonts/langcover.txt &gt;&gt;&gt; &gt;&gt; &gt; pdf.add_font('DejaVu', '', 'DejaVuSansCondensed.ttf', uni=True) " />
  <RDF:Description RDF:about="urn:scrapbook:item20130524055741#index"
                   NS1:folder="urn:scrapbook:item20130523104421"
                   NS1:content=" Debian Installer Internationalization and Localization Guide Next Debian Installer Internationalization and Localization Guide Copyright © 2001-2010 the Debian Installer team, Petter Reinholdtsen, Dennis Stampfer, Christian Perrier This manual is free software; you may redistribute it and/or modify it under the terms of the GNU General Public License. Please refer to the license in Appendix H, GNU General Public License. Abstract This document describes how Debian Installer internationalisation (i18n) and localisation (l10n) are handled. It is aimed at being used as a reference for all Debian Installer translators and developers when i18n/l10n topics are involved. Table of Contents Organisation of the document and covered topics 1. For translators: translating Debian Installer 1.1. The Debian Installer levels of translation 1.2. Levels summary 1.3. Prioritizing work 1.4. Level 1 1.4.1. Contents 1.4.2. Sublevels 1.4.3. Files location and access methods 1.4.4. Updating/Adding translations 1.4.5. Prioritizing work 1.4.6. Specific recommendations 1.5. Level 2 1.5.1. Contents 1.5.2. Tasksel 1.5.3. Iso-codes 1.5.4. Popularity-contest 1.5.5. Eject 1.5.6. Espeakup 1.5.7. Grub2 1.6. Level 3 1.6.1. Contents 1.6.2. Debconf 1.6.3. Newt 1.6.4. Win32-loader 1.7. String freezes and the Debian Installer release process 2. For maintainers: maintaining internationalized Debian Installer packages 2.1. Debian Installer packages internationalization and localization 2.2. English templates handling 2.2.1. General recommendations 2.2.2. New debconf templates introduction 2.2.3. Marking strings for translation 2.3. Translators work method 2.4. Handling modifications to templates 2.4.1. Regular modifications 2.4.2. Review changes to existing templates 2.4.3. Trivial modifications 2.5. String freezes 2.6. Releasing packages 3. The New Language Process: adding a new language to Debian Installer 3.1. First contact with Debian Installer development team 3.2. New language identification 3.3. Locale checking/writing 3.4. Localized language name 3.5. Localechooser entry 3.6. Needed characters 3.7. Font for the graphical version of Debian Installer 3.8. Default keymap 3.9. Account creation in Alioth 3.10. Granting and checking the translator commit access 3.11. Choosing the translator's working tools 3.12. Subscribe to the &lt;debian-i18n@lists.debian.org&gt; mailing list 3.13. Announcement of the translation effort 3.14. Follow the Debian Installer development 4. Installation manual translations 4.1. Introduction 5. Coordination of Debian Installer i18n/l10n 6. Technical details about i18n/l10n handling 6.1. Translation status pages 6.1.1. Introduction 6.1.2. Status pages generation scripts 6.1.3. Status pages monitoring 6.2. Supported languages list 6.3. Prospective languages 6.4. Active languages 6.4.1. Removing the language from the prospective list 6.4.2. Run the synchronization script 6.4.3. Activate language in localechooser 6.4.4. Uploading packages 6.4.5. Add or check tasks in tasksel 6.4.6. Check the availability of font for the graphical installer 6.4.7. Record the new status of the language 6.4.8. Add language to utility script 6.5. Translation synchronisation 6.5.1. The need for a synchronization process 6.5.2. Localization files synchronisation process 7. Translations spellchecking 7.1. Introduction 7.2. Understanding the output 7.3. Spotting typos 7.4. Suspect variables 8. Language tasks for tasksel 8.1. Introduction 8.2. &lt;language&gt; task 8.3. &lt;language&gt;-desktop task 8.4. Requesting changes/addition of language tasks A. Translation methods and advices A.1. Introduction A.2. Work with translation teams A.3. Use peer review A.4. Remain consistent A.5. Work with previous translators A.6. Follow development A.7. Testing translations A.8. Variables substitutions B. Some basic notions about SVN B.1. Getting an account on alioth.debian.org B.2. Installing SVN B.3. Using SVN to get and commit files B.4. Testing SVN commit access to Debian Installer repository B.5. Core Debian Installer and various levels packages repositories checkout command lines B.6. Changelog entries handling C. Checkout commands C.1. Translation checkout commands for d-i D. Reporting bugs against Debian packages D.1. Debian bug reports, severities and tags D.2. Recommended bug formatting for translation bug reports D.3. Generic method to send bug reports D.4. Sending bug reports from a Debian system D.5. Attaching files to bug reports E. Gettext files editors and tools E.1. Gettext files editors E.2. Gettext files tools E.3. Debian specific tools E.4. Spellchecking tools E.5. Gettext files headers E.6. Plural Forms F. Languages codes G. Debian Installer i18n coordinators H. GNU General Public License H.1. Preamble H.2. GNU GENERAL PUBLIC LICENSE H.3. How to Apply These Terms to Your New Programs Next Organisation of the document and covered topics " />
  <RDF:Description RDF:about="urn:scrapbook:item20130524050654#index"
                   NS1:content=" tazjel@gmail.com ▼ | My favorites ▼ | Profile | Sign out Logo pyfpdf Simple PDF generation for Python (FPDF PHP port) AKA fpdf.py Project Home Downloads Wiki Issues Source Search for Unicode unicode utf-8 ttf font support (based on sFPDF) Phase-Support, Featured Updated Dec 20, 2012 by romiq...@gmail.com Introduction The FPDF class was modified adding UTF-8 support. Moreover, it embeds only the necessary parts of the fonts that are used in the document, making the file size much smaller than if the whole fonts were embedded. These features were originally developed for the mPDF project, and ported from Ian Back's sFPDF LGPL PHP version. Before you can use UTF-8, you have to install at least one Unicode font in the font directory (or system font folder). Some free font packages are available for download (extract them into font folder): DejaVu family: Sans, Sans Condensed, Serif, Serif Condensed, Sans Mono (Supports more than 200 languages) GNU FreeFont family: FreeSans, FreeSerif, FreeMono Indic (ttf-indic-fonts debian/ubuntu package) for Bengali, Devanagari, Gujarati, Gurmukhi (including the variants for Punjabi), Kannada, Malayalam, Oriya, Tamil, Telugu, Tibetan AR PL New Sung (firefly): The Open Source Chinese Font (also supports others east-asia languages) Alee (ttf-alee arch linux package): General purpose Hangul truetype fonts that Contain Korean syllable and Latin9 (iso8859-15) characters. Fonts-TLWG (formerly ThaiFonts-Scalable) These fonts are included with this library installers, see Free Font Pack for FPDF below for more information. Then, to use a Unicode font in your script, pass True as the fourth parameter of AddFont(). Example This example uses several free fonts to display some Unicode strings. Be sure to install the fonts in the font directory first. #!/usr/bin/env python # -*- coding: utf8 -*- from fpdf import FPDF pdf = FPDF() pdf.add_page() # Add a DejaVu Unicode font (uses UTF-8) # Supports more than 200 languages. For a coverage status see: # http://dejavu.svn.sourceforge.net/viewvc/dejavu/trunk/dejavu-fonts/langcover.txt pdf.add_font('DejaVu', '', 'DejaVuSansCondensed.ttf', uni=True) pdf.set_font('DejaVu', '', 14) text = u&quot;&quot;&quot; English: Hello World Greek: Γειά σου κόσμος Polish: Witaj świecie Portuguese: Olá mundo Russian: Здравствуй, Мир Vietnamese: Xin chào thế giới Arabic: مرحبا العالم Hebrew: שלום עולם &quot;&quot;&quot; for txt in text.split('\n'): pdf.write(8, txt) pdf.ln(8) # Add a Indic Unicode font (uses UTF-8) # Supports: Bengali, Devanagari, Gujarati, # Gurmukhi (including the variants for Punjabi) # Kannada, Malayalam, Oriya, Tamil, Telugu, Tibetan pdf.add_font('gargi', '', 'gargi.ttf', uni=True) pdf.set_font('gargi', '', 14) pdf.write(8, u'Hindi: नमस्ते दुनिया') pdf.ln(20) # Add a AR PL New Sung Unicode font (uses UTF-8) # The Open Source Chinese Font (also supports others east-asia languages) pdf.add_font('fireflysung', '', 'fireflysung.ttf', uni=True) pdf.set_font('fireflysung', '', 14) pdf.write(8, u'Chinese: 你好世界\n') pdf.write(8, u'Japanese: こんにちは世界\n') pdf.ln(10) # Add a Alee Unicode font (uses UTF-8) # General purpose Hangul truetype fonts that Contain Korean syllable # and Latin9 (iso8859-15) characters. pdf.add_font('eunjin', '', 'Eunjin.ttf', uni=True) pdf.set_font('eunjin', '', 14) pdf.write(8, u'Korean: 안녕하세요') pdf.ln(20) # Add a Fonts-TLWG (formerly ThaiFonts-Scalable) (uses UTF-8) pdf.add_font('waree', '', 'Waree.ttf', uni=True) pdf.set_font('waree', '', 14) pdf.write(8, u'Thai: สวัสดีชาวโลก') pdf.ln(20) # Select a standard font (uses windows-1252) pdf.set_font('Arial', '', 14) pdf.ln(10) pdf.write(5, 'This is standard built-in font') pdf.output(&quot;unicode.pdf&quot;, 'F') View the result here: unicode.pdf Metric Files FPDF will try to automatically generate metrics (i.e. character widths) about TTF font files to speed up their processing. Such metrics are stored using the Python Pickle format (.pkl extension), by default in the font directory (ensure Read/Write permission!). TTF metric files often weight about 650K, so keep that in mind if you use many TTF fonts and have disk size or memory limitations. By design, metric files are not imported as they could cause a temporary memory leak if not managed properly (this could be an issue in a webserver environment with many processes/threads, so the current implementation discards metrics when FPDF objects are disposed). In most circumstances, you will not notice any difference about storing metric files vs. generating them in each run on-the-fly (according basic tests, elapsed time is equivalent, YMMV) Like the original php implementation, this library should work even if it could not store the metric file, and as no source code file is generated at runtime, it should work in restricted environments. Free Font Pack and Copyright Restrictions For your convenience, this library collected 96 TTF files in an optional &quot;Free Unicode TrueType Font Pack for FPDF&quot;, with useful fonts commonly distributed with GNU/Linux operating systems (see above for a complete description). This pack is included in the windows installers, or can be downloaded separately (for any operating system). You could use any TTF font file as long embedding usage is allowed in the licence. If not, a runtime exception will be raised saying: &quot;ERROR - Font file filename.ttf cannot be embedded due to copyright restrictions.&quot; Comment by project member jurgis.pralgauskis, Apr 28, 2013 if You use write_html( ..some unicode content.. ) https://code.google.com/p/pyfpdf/wiki/WriteHTML you should set font via &lt;font&gt; tag pdf.write_html(u&quot;&lt;H1&gt;&lt;font face='DejaVu' size='20'&gt;Ąžuolas&lt;/font&gt;&lt;H2&gt;&quot;) Hint: You can use Wiki Syntax. Enter a comment: [It's All Text!] Terms - Privacy - Project Hosting Help Powered by Google Project Hosting Projects tazjel Starred projects altdragapt-cygardesiaautokeycopyqcyg-aptdragonflygooglefontdirectoryjquery-ui-vkkey-monminttymobileterminalmsysgitmusic21puttycygswapytextroomtweetxuc-debugweb2py Find open source projects...Create a project... tazjel@gmail.comabobani@gmail.com Sign in with another account... "
                   NS1:folder="urn:scrapbook:item20130523104421" />
  <RDF:Description RDF:about="urn:scrapbook:item20130524050415#index"
                   NS1:content=" web2py™ administrative interface Site Edit About Errors Versioning Help Logout Debug Editing file &quot;arbani/controllers/default.py&quot; exposes: get_me_a_pdf, get_me_a_pyfpdf, report, listing, import_csv, invoice, index, user, download, call edit views: user, index toggle breakpoint &lt;&lt;back docs Save file: Save Saved file hash: Last saved on: # -*- coding: utf-8 -*- ######################################################################### ## This is a samples controller ## - index is the default action of any application ## - user is required for authentication and authorization ## - download is for downloading files uploaded in the db (does streaming) ## - call exposes all registered services (none by default) ######################################################################### from reportlab.platypus import * from reportlab.lib.styles import getSampleStyleSheet from reportlab.rl_config import defaultPageSize from reportlab.lib.units import inch, mm from reportlab.lib.enums import TA_LEFT, TA_RIGHT, TA_CENTER, TA_JUSTIFY from reportlab.lib import colors from uuid import uuid4 from cgi import escape import os def get_me_a_pdf(): # Begin with regular font pdf.SetFont('Arial','',14) pdf.Write(5,'Visit '); # Then put a blue underlined link pdf.SetTextColor(0,0,255); pdf.SetFont('','U'); pdf.Write(5,'www.fpdf.org','http://www.fpdf.org'); title = &quot;احمد باني&quot; heading = &quot;First Paragraph&quot; text = 'bla '* 10000 styles = getSampleStyleSheet() tmpfilename=os.path.join(request.folder,'private',str(uuid4())) doc = SimpleDocTemplate(tmpfilename) story = [] story.append(Paragraph(escape(title),styles[&quot;Title&quot;])) story.append(Paragraph(escape(heading),styles[&quot;Heading2&quot;])) story.append(Paragraph(escape(text),styles[&quot;Normal&quot;])) story.append(Spacer(1,2*inch)) doc.build(story) data = open(tmpfilename,&quot;rb&quot;).read() os.unlink(tmpfilename) response.headers['Content-Type']='application/pdf' return data from gluon.contrib.pyfpdf import FPDF import os def get_me_a_pyfpdf(): title = &quot;This The Doc Title&quot; heading = &quot;First Paragraph&quot; text = 'bla '* 10000 pdf=FPDF() pdf.add_page() pdf.set_font('Times','B',15) pdf.cell(w=210,h=9,txt=title,border=0,ln=1,align='C',fill=0) pdf.set_font('Times','B',15) pdf.cell(w=0,h=6,txt=heading,border=0,ln=1,align='L',fill=0) pdf.set_font('Times','',12) pdf.multi_cell(w=0,h=5,txt=text) response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') def report(): response.title = &quot;web2py sample report&quot; # include a google chart! url = &quot;http://chart.apis.google.com/chart?cht=p3&amp;chd=t:60,40&amp;chs=250x100&amp;chl=Hello|World&amp;.png&quot; chart = IMG(_src=url, _width=&quot;250&quot;,_height=&quot;100&quot;) # create a small table with some data: rows = [THEAD(TR(TH(&quot;Key&quot;,_width=&quot;70%&quot;), TH(&quot;Value&quot;,_width=&quot;30%&quot;))), TBODY(TR(TD(&quot;Hello&quot;),TD(&quot;60&quot;)), TR(TD(&quot;World&quot;),TD(&quot;40&quot;)))] table = TABLE(*rows, _border=&quot;0&quot;, _align=&quot;center&quot;, _width=&quot;50%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # create a custom class with the required functionalities class MyFPDF(FPDF, HTMLMixin): def header(self): &quot;hook to draw custom page header&quot; logo=os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo_pb.png&quot;) self.image(logo,10,8,33) self.set_font('Arial','B',15) self.cell(65) # padding self.cell(60,10,response.title,1,0,'C') self.ln(20) def footer(self): &quot;hook to draw custom page header (printing page numbers)&quot; self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # create a page and serialize/render HTML objects pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) pdf.write_html(str(XML(CENTER(chart), sanitize=False))) # prepare PDF to download: response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(chart=chart, table=table) def listing(): response.title = &quot;web2py sample listing&quot; # define header and footers: head = THEAD(TR(TH(&quot;Header 1&quot;,_width=&quot;50%&quot;), TH(&quot;Header 2&quot;,_width=&quot;30%&quot;), TH(&quot;Header 3&quot;,_width=&quot;20%&quot;), _bgcolor=&quot;#A0A0A0&quot;)) foot = TFOOT(TR(TH(&quot;Footer 1&quot;,_width=&quot;50%&quot;), TH(&quot;Footer 2&quot;,_width=&quot;30%&quot;), TH(&quot;Footer 3&quot;,_width=&quot;20%&quot;), _bgcolor=&quot;#E0E0E0&quot;)) # create several rows: rows = [] for i in range(1000): col = i % 2 and &quot;#F0F0F0&quot; or &quot;#FFFFFF&quot; rows.append(TR(TD(&quot;Row %s&quot; %i), TD(&quot;something&quot;, _align=&quot;center&quot;), TD(&quot;%s&quot; % i, _align=&quot;right&quot;), _bgcolor=col)) # make the table object body = TBODY(*rows) table = TABLE(*[head,foot, body], _border=&quot;1&quot;, _align=&quot;center&quot;, _width=&quot;100%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # define our FPDF class (move to modules if it is reused frequently) class MyFPDF(FPDF, HTMLMixin): def header(self): self.set_font('Arial','B',15) self.cell(0,10, response.title ,1,0,'C') self.ln(20) def footer(self): self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # first page: pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(table=table) def import_csv(): from gluon.contrib.pyfpdf import Template f = Template() f.parse_csv(infile=&quot;/home/reingart/web2py/gluon/contrib/pyfpdf/invoice.csv&quot;, delimiter=&quot;;&quot;, decimal_sep=&quot;,&quot;) for v in f.fields.elements(): v['align']= {'I':'L','D':'R','C':'C','':''}.get(v['align'], 'L') v['pdf_template_id'] = 1 db.pdf_element.insert(**v) def invoice(): from gluon.contrib.pyfpdf import Template import os.path # generate sample invoice (according Argentina's regulations) import random from decimal import Decimal # read elements from db elements = db(db.pdf_element.pdf_template_id==1).select(orderby=db.pdf_element.priority) f = Template(format=&quot;A4&quot;, elements = elements, title=&quot;Sample Invoice&quot;, author=&quot;Sample Company&quot;, subject=&quot;Sample Customer&quot;, keywords=&quot;Electronic TAX Invoice&quot;) detail = &quot;Lorem ipsum dolor sit amet, consectetur. &quot; * 5 items = [] for i in range(1, 30): ds = &quot;Sample product %s&quot; % i qty = random.randint(1,10) price = round(random.random()*100,3) code = &quot;%s%s%02d&quot; % (chr(random.randint(65,90)), chr(random.randint(65,90)),i) items.append(dict(code=code, unit='u', qty=qty, price=price, amount=qty*price, ds=&quot;%s: %s&quot; % (i,ds))) # divide and count lines lines = 0 li_items = [] for it in items: qty = it['qty'] code = it['code'] unit = it['unit'] for ds in f.split_multicell(it['ds'], 'item_description01'): # add item description line (without price nor amount) li_items.append(dict(code=code, ds=ds, qty=qty, unit=unit, price=None, amount=None)) # clean qty and code (show only at first) unit = qty = code = None # set last item line price and amount li_items[-1].update(amount = it['amount'], price = it['price']) obs=&quot;\n&lt;U&gt;Detail:&lt;/U&gt;\n\n&quot; + detail for ds in f.split_multicell(obs, 'item_description01'): li_items.append(dict(code=code, ds=ds, qty=qty, unit=unit, price=None, amount=None)) # calculate pages: lines = len(li_items) max_lines_per_page = 24 pages = lines / (max_lines_per_page - 1) if lines % (max_lines_per_page - 1): pages = pages + 1 # completo campos y hojas for page in range(1, pages+1): f.add_page() f['page'] = 'Page %s of %s' % (page, pages) if pages&gt;1 and page&lt;pages: s = 'Continues on page %s' % (page+1) else: s = '' f['item_description%02d' % (max_lines_per_page+1)] = s f[&quot;company_name&quot;] = &quot;Sample Company&quot; f[&quot;company_logo&quot;] = os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo.png&quot;) f[&quot;company_header1&quot;] = &quot;Some Address - somewhere -&quot; f[&quot;company_header2&quot;] = &quot;http://www.example.com&quot; f[&quot;company_footer1&quot;] = &quot;Tax Code ...&quot; f[&quot;company_footer2&quot;] = &quot;Tax/VAT ID ...&quot; f['number'] = '0001-00001234' f['issue_date'] = '2010-09-10' f['due_date'] = '2099-09-10' f['customer_name'] = &quot;Sample Client&quot; f['customer_address'] = &quot;Siempreviva 1234&quot; # print line item... li = 0 k = 0 total = Decimal(&quot;0.00&quot;) for it in li_items: k = k + 1 if k &gt; page * (max_lines_per_page - 1): break if it['amount']: total += Decimal(&quot;%.6f&quot; % it['amount']) if k &gt; (page - 1) * (max_lines_per_page - 1): li += 1 if it['qty'] is not None: f['item_quantity%02d' % li] = it['qty'] if it['code'] is not None: f['item_code%02d' % li] = it['code'] if it['unit'] is not None: f['item_unit%02d' % li] = it['unit'] f['item_description%02d' % li] = it['ds'] if it['price'] is not None: f['item_price%02d' % li] = &quot;%0.3f&quot; % it['price'] if it['amount'] is not None: f['item_amount%02d' % li] = &quot;%0.2f&quot; % it['amount'] if pages == page: f['net'] = &quot;%0.2f&quot; % (total/Decimal(&quot;1.21&quot;)) f['vat'] = &quot;%0.2f&quot; % (total*(1-1/Decimal(&quot;1.21&quot;))) f['total_label'] = 'Total:' else: f['total_label'] = 'SubTotal:' f['total'] = &quot;%0.2f&quot; % total response.headers['Content-Type']='application/pdf' return f.render('invoice.pdf', dest='S') def index(): &quot;&quot;&quot; example action using the internationalization operator T and flash rendered by views/default/index.html or views/generic.html &quot;&quot;&quot; response.flash = T('Welcome to web2py') return dict(message=T('Hello World')) def user(): &quot;&quot;&quot; exposes: http://..../[app]/default/user/login http://..../[app]/default/user/logout http://..../[app]/default/user/register http://..../[app]/default/user/profile http://..../[app]/default/user/retrieve_password http://..../[app]/default/user/change_password use @auth.requires_login() @auth.requires_membership('group name') @auth.requires_permission('read','table name',record_id) to decorate functions that need access control &quot;&quot;&quot; return dict(form=auth()) def download(): &quot;&quot;&quot; allows downloading of uploaded files http://..../[app]/default/download/[filename] &quot;&quot;&quot; return response.download(request,db) def call(): &quot;&quot;&quot; exposes services. for example: http://..../[app]/default/call/jsonrpc decorate with @services.jsonrpc the functions to expose supports xml, json, xmlrpc, jsonrpc, amfrpc, rss, csv &quot;&quot;&quot; session.forget() return service() [It's All Text!] [It's All Text!] 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 # -*- coding: utf-8 -*- ######################################################################### ## This is a samples controller ## - index is the default action of any application ## - user is required for authentication and authorization ## - download is for downloading files uploaded in the db (does streaming) ## - call exposes all registered services (none by default) ######################################################################### from reportlab.platypus import * from reportlab.lib.styles import getSampleStyleSheet from reportlab.rl_config import defaultPageSize from reportlab.lib.units import inch, mm from reportlab.lib.enums import TA_LEFT, TA_RIGHT, TA_CENTER, TA_JUSTIFY from reportlab.lib import colors from uuid import uuid4 from cgi import escape import os def get_me_a_pdf(): # Begin with regular font pdf.SetFont('Arial','',14) pdf.Write(5,'Visit '); # Then put a blue underlined link pdf.SetTextColor(0,0,255); pdf.SetFont('','U'); pdf.Write(5,'www.fpdf.org','http://www.fpdf.org'); title = &quot;احمد باني&quot; heading = &quot;First Paragraph&quot; text = 'bla '* 10000 styles = getSampleStyleSheet() tmpfilename=os.path.join(request.folder,'private',str(uuid4())) doc = SimpleDocTemplate(tmpfilename) story = [] story.append(Paragraph(escape(title),styles[&quot;Title&quot;])) story.append(Paragraph(escape(heading),styles[&quot;Heading2&quot;])) story.append(Paragraph(escape(text),styles[&quot;Normal&quot;])) story.append(Spacer(1,2*inch)) doc.build(story) data = open(tmpfilename,&quot;rb&quot;).read() os.unlink(tmpfilename) response.headers['Content-Type']='application/pdf' return data from gluon.contrib.pyfpdf import FPDF import os def get_me_a_pyfpdf(): title = &quot;This The Doc Title&quot; heading = &quot;First Paragraph&quot; text = 'bla '* 10000 pdf=FPDF() pdf.add_page() pdf.set_font('Times','B',15) pdf.cell(w=210,h=9,txt=title,border=0,ln=1,align='C',fill=0) pdf.set_font('Times','B',15) pdf.cell(w=0,h=6,txt=heading,border=0,ln=1,align='L',fill=0) pdf.set_font('Times','',12) pdf.multi_cell(w=0,h=5,txt=text) response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') def report(): response.title = &quot;web2py sample report&quot; # include a google chart! url = &quot;http://chart.apis.google.com/chart?cht=p3&amp;chd=t:60,40&amp;chs=250x100&amp;chl=Hello|World&amp;.png&quot; chart = IMG(_src=url, _width=&quot;250&quot;,_height=&quot;100&quot;) # create a small table with some data: rows = [THEAD(TR(TH(&quot;Key&quot;,_width=&quot;70%&quot;), TH(&quot;Value&quot;,_width=&quot;30%&quot;))), TBODY(TR(TD(&quot;Hello&quot;),TD(&quot;60&quot;)), TR(TD(&quot;World&quot;),TD(&quot;40&quot;)))] table = TABLE(*rows, _border=&quot;0&quot;, _align=&quot;center&quot;, _width=&quot;50%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # create a custom class with the required functionalities class MyFPDF(FPDF, HTMLMixin): def header(self): &quot;hook to draw custom page header&quot; logo=os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo_pb.png&quot;) self.image(logo,10,8,33) self.set_font('Arial','B',15) self.cell(65) # padding self.cell(60,10,response.title,1,0,'C') self.ln(20) def footer(self): &quot;hook to draw custom page header (printing page numbers)&quot; self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # create a page and serialize/render HTML objects pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) pdf.write_html(str(XML(CENTER(chart), sanitize=False))) # prepare PDF to download: response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: restore currently saved or revert to previous version. Key bindings Ctrl+SSave via Ajax Ctrl+F11Toggle Fullscreen Ctrl-F / Cmd-FStart searching Ctrl-G / Cmd-GFind Next Shift-Ctrl-G / Shift-Cmd-GFind Previous Shift-Ctrl-F / Cmd-Option-FReplace Shift-Ctrl-R / Shift-Cmd-Option-FReplace All Powered by web2py™ created by Massimo Di Pierro ©2007-2013 - Admin language "
                   NS1:folder="urn:scrapbook:item20130523104421" />
  <RDF:Description RDF:about="urn:scrapbook:item20130524055045#index"
                   NS1:folder="urn:scrapbook:item20130523104421"
                   NS1:content=" Xfce Wiki Sub domains Home Docs Archive Wiki Forum Bugs Blog Translate GIT Site Tools Translations of this page?: Show pagesourceOld revisionsBacklinksRecent changesMedia ManagerSitemapLoginRegister You are here: start » midori » faq −Table of Contents Midori - Frequently asked questions Getting started Common problems Security features Flash doesn't work Privacy Blacklist cookies Adblock Modes Web Applications Private Browsing Portable mode/ Win32 Kiosk mode Always open Midori in Fullscreen Overriding settings and loading extensions Proxy servers Keyboard Hotkeys Mouse Gestures User scripts and styles User styles Midori - Frequently asked questions This document is licensed under the LGPL 2.1. This is a list of frequently asked questions about the Midori Web Browser. Anyone feel free to improve and/ or extend this page, but keep it clean and easy to read for other Xfce users. Getting started What is &quot;Midori&quot; and why should I use it? Midori is a Web Browser, that aims to be lightweight and fast. It aligns well with the Xfce philosophy of making the most out of available resources. How to pronounce Midori and what does the name mean? Pronounce it “midoɺi”, with a Spanish/ Japanese “r” or “Mee-Doh-Ree” in English or read it Italian. The name comes from the Japanese word 緑 (みどり) for the colour “green”. What does the logo mean? The paw of a green cat. Obviously. Also it resembles the letter “M” in “Midori”. The curving is supposed to emphasize speed. On which platforms does Midori run currently? Midori is basically very portable and should run on all platforms that its dependencies support. Under which license is Midori distributed? Midori and all delivered artwork are licensed under the LGPL2. Common problems Why does Google Mail/ Calendar/ Maps, Facebook not work or show mobile version? Some websites discriminate against your browser. If you have Midori older than 0.3.5, go to Preferences &gt; Network &gt; Identify As, and choose Custom. Paste this into the entry: Mozilla/5.0 (X11; Linux) AppleWebKit/531.2+ Midori/0.3 If this doesn't do the trick, try choosing Safari or Firefox. Many other websites use similar means of detecting the browser. Ideally Google would follow their own recommendation at some point. There are missing icons/ warnings The set of themed icons Midori can use is very limited. For instance icons for a new tab or the throbber are not guaranteed to be available. To fix this, install a Freedesktop.org spec compliant icon theme, such as Elementary, Faenza, Buuf or GNOME. Tweaking Midori on the Gtk level If you don't have a desktop application that takes care of Gtk settings or if your interface doesn't support a particular feature, you can modify any settings easily manually by specifying them in a text file called ~/.gtkrc-2.0 or /etc/gtk-2.0/gtkrc: Use Tango as a fallback for your icon theme: gtk-icon-theme-name = &quot;MySuperFancyTheme&quot; gtk-fallback-icon-theme = &quot;Tango&quot; Use a smaller toolbar: gtk-toolbar-icon-size = GTK_ICON_SIZE_SMALL_TOOLBAR Only for those not running a complete DE like Xfce, Elementary, etc… There is a preference: Preferences → Browsing → Toolbar Style: Small icons Enable changing hotkeys while hovering menu items: gtk-can-change-accels = 1 Midori crashes shortly before pages are loaded There appears to be an issue with Glib 2.16. The recommended solution is to upgrade your Glib package to 2.18. How can I change the cache folder (to tmpfs)? On Linux and BSD, you can set XDG_CACHE_HOME for all applications, or just Midori. Midori saves icons and cache files in that location. The default is ~/.cache. export XDG_CACHE_HOME=/dev/shm Security features HSTS/ HTTP Strict Transport Security Midori &gt;= 0.4.7 automatically picks up the Strict-Transport-Security header and caches sites locally. By design, there's no UI. System administrators can however place a pre-loaded cache at /etc/xdg/midori/hsts. Certificate Handling Midori &gt;= 0.4.7 supports gcr for certificate display and management, you can click the lock in the urlbar to see detailed information. Earlier versions, or one without gcr will not handle certificates beyond the lock icon in the urlbar. Error granting trust: Couldn't find a place to store the imported certificate No key store is available or it's incorrectly setup. By default GNOME keyring can do this. Under Xfce it is recommended to enable “GNOME services” under “Session and Startup settings”. Otherwise this can occur if a script doesn't correctly send the output of “gnome-keyring –startup” to the environment. A testcase for self-signed certificates https://selfsigned.notyours.dk:444/menu.gif Flash doesn't work Windows support Starting with WebkitGTK+ 1.8.2 (Midori 0.4.7) Netscape plugins are now supported if they're installed in Application Data\Mozilla\plugins or bin\Plugins in Midori's folder (ie. NPSWF32.dll for Flash). Netscape plugins on Linux, BSD and OS X You need to set MOZ_PLUGIN_PATH, for example like this: export MOZ_PLUGIN_PATH=&quot;/usr/lib/mozilla/plugins&quot; The official Flash plugin is called libflashplayer.so . You can either run that above line and run Midori in the same terminal afterwards or, for the long term, put it in ~/.bash_profile or /etc/profile.d or your respective distribution's place for this. Flash is crashing/ No Flash with GTK+3 nspluginwrapper is a program that runs Flash and other Netscape plugins in a separate process. So a crash can't crash the whole browser and Flash, which is GTK+2 can run in GTK+3. sudo apt-get install flashplugin-installer sudo apt-get install nspluginwrapper sudo nspluginwrapper -i /usr/lib/flashplugin-installer/libflashplayer.so nspluginwrapper -v -a -n -i Another remedy is using WebKit2 - starting with Midori 0.4.9 experimental support is available, progress on WebKit2GTK+ can be seen in the WebKit wiki. HTTPS URLS won't load That's a problem with WebKit. You can work around it to some extent if you start Midori like so: export WEBKIT_IGNORE_SSL_ERRORS=&quot;1&quot; midori 256-bit encryption isn't supported? There's no official support right now. It's possible to patch glib-networking to enable 256-bit SSL. Scroll with middle mouse button/ pan-scrolling http://ubuntuforums.org/showthread.php?t=478418 Bug: https://bugs.launchpad.net/webkit/+bug/871425 Upstream Bug: https://bugs.webkit.org/show_bug.cgi?id=50561 HTML5 Video doesn't play You need to have GStreamer plugins installed which implement the codecs. You need gstreamer0.10-pulse if you're using PulseAudio. You may need gstreamer0.10-alsa for ALSA, depending on your distribution. You need plugins for Theora, gstreamer0.10-base and MPEG-4 incluing aac (e.g. gst-plugins-faad), gstreamer0.10-bad. For WebM, you'll need plugins for vorbis (-base), matroska (-good), and vp8 (-bad). Have a look at http://www.gstreamer.net/documentation/plugins.html for details. For Youtube or Vimeo, you need WebKitGTK+ 1.1.20 or newer. You can test your installed codecs here.. Since Midori 0.3.5 you can look at “about:version” to see which video codecs you have installed. Java doesn't work, applets don't show up Java is supported in WebKitGTK+ since 1.1.22. If you need Java, you need to upgrade to at least that version. Sun/ Oracle Java as well as IcedTea are known to work. Distribution specific setup might be required, such as setting LD_LIBRARY_PATH to include the location of libxul.so and making a symbolic link for libnpjp2.so to /usr/lib/mozilla. icedtea6 version 1.8 and above has been known to crash midori. If this is the case for you, try sun-jre. How do I get rid of the menubar? In the menubar, go to View → Toolbars → Menubar, voilà the menubar is gone and a new icon appears at the right end of the toolbar. Click the icon to access functionality that otherwise sits in the menubar. Midori 0.3.2 disables the menubar by default. Why can't I use periods when searching from the location bar? Midori tries to make a smart guess on whether you are searching for something or typing a valid address by hand. Yet there are ambiguous cases so it fails. Try using 'g' in front of the search terms, like 'g Ms.Marple'. The 'g' is a token that tells the browser you want to use Google. See Tools &gt; Manage Search Engines or right-click the location bar and select the menu item, to look at search engines and tokens. How can I reload and bypass the cache? Hold the Shift key while clicking Refresh in the toolbar (this works in Chromium, Mozilla, Opera and Safari, too). Since Midori 0.3.2 you can use Ctrl+Shift+R. How do I make tabs pinned/ sticky/ minimized? Right-click the tab label, and click 'Minimize' or 'Show Tab Icon Only' (Midori 0.3.5 or older). Why doesn't Google &quot;live search&quot; work? You need to set Preferences &gt; Network &gt; Identify As to Firefox. Google Docs says &quot;Clear your caches&quot; If you use the Adblock extension, EasyPrivacy may conflict with Google Docs. Disable the subscription if you use it. Otherwise try disabling Adblock entirely. Opening html email with Mutt Place the following in ~/.mutt/mailcap or ~/.mailcap: text/html; midori -a '%s'; test=test -n &quot;$DISPLAY&quot;; nametemplate=%s.html Scrolling on website xyz is very slow Go to Tools &gt; Extensions Enable 'User Addons' if it's not yet enabled Create a text file .local/share/midori/styles/scrollfix.user.css Put this into the file: * {-webkit-box-shadow: none !important;} File opening doesn't work/ PDFs are opened with GIMP Midori opens files with GIO, and falls back to xdg-open, exo-open or gnome-open if these are available. All of this relies on freedesktop.org MIME configuration. To tweak this there are multiple options: Use 'Open With' with a graphical file manager Edit ~/.local/share/applications/defaults.list with a text editor Run something like ‘xdg-mime default evince.desktop application/pdf’ xdg-open knows how to handle GNOME, KDE and Xfce. LXDE is unfortunately not supported yet, see https://bugs.freedesktop.org/show_bug.cgi?id=26058 Open magnet:, irc:, apt:, bitcoin: with an application As of git 2011-03-05 02:40:00 UTC and Midori 0.3.3 you can Add a line to ~/.local/share/applications/mimeapps.list: x-scheme-handler/magnet=transmission-gtk.desktop Or install an application which advertises the scheme like so: MimeType=x-scheme-handler/magnet; Note that incomplete .desktop files will silently fail and it will look as if it doesn't exist. For bitcoin:, try Electrum or Multibit. Spell check First enable spell checking: Edit→Preferences→Behavior and check “Enable Spell Checking”. Now while typing any errors should get underlined in red. To get suggestions, highlight the word and right-click. You should see a list of suggestions at the top of the menu. On Windows you need to download OpenOffice dictionaries, find the zipped file(s) for your locale(s) and unpack the contents into share/myspell/dicts/ in your Midori installation. The folder should contain *.aff and *.dic files Is it possible to disable Same Origin Policy? What Webkit settings not in the preferences can I change? You can change all values of WebKitWebSettings in the config file (~/.config/midori/config on unices, %APPDATA%\midori\config [please check :)] on Windows). For example, to disable Same Origin Policy for local files, add enable-universal-access-from-file-uris=true to your config file. How do I change the proxy server from the toolbar or statusbar? Activate the Statusbar Features plugin. Close Midori. Create a folder ~/.config/midori/extensions/libstatusbar-features.so/ Create a text file “config” Type the following for the default setup: [settings] items=auto-load-images;enable-scripts;enable-plugins;identify-as;zoom-level Add button types separated by semicolon: proxy-type Proxy Server preferred-encoding Character Set/ Encoding enable-spell-checking Spell Check zoom-text-and-images Only zoom in text, or text and images first-party-cookies-only First party cookies only site-data-rules see Blacklisting cookies Most settings listed at http://webkitgtk.org/reference/webkitgtk/stable/WebKitWebSettings.html will also work as button types. Privacy Blacklist cookies As of Midori 0.4.4 you can add a hidden option to ~/.config/midori/config like so: site-data-rules=-google.com,-facebook.com,!bugzilla.gnome.org,+bugs.launchpad.net Values prefixed with ”-” are always blocked Values prefixed with ”+” are always accepted Values prefixed with ”!” are not cleared in Clear Private Data No wildcards. LSO, local storage and application caches ignore all policies. The feature is currently experimental and will change in future versions. Adblock The Advertisement Blocker can be activated under Extensions. It uses the same lists as Adblock Plus. URLs are blocked completely and never loaded. Lists can be added through the option button on the right side in the extension list. Modes Web Applications There are two closely related features to open websites as dedicated windows of their own. You can do the following to use them: Right-click a hyperlink → Open as Web Application Add or Edit a bookmark → [x] Run as web application Type ‘midori -a http://foo.bar’ on a command line You can also add options such as ‘-e Fullscreen’, ‘-e Navigationbar’ or ‘-e Statusbar’ (as of Midori 0.2.9 ‘midori –help-execute will list all available commands’) Private Browsing File menu/ App Menu button → Private Browsing A private window is a separate process, so crashes don't affect the normal browser session. No sensitive data such as cookies, history or bookmarks are stored. No extensions are loaded. Panels are not available. As of Midori 0.2.9 Private Browsing uses preferences, cookies, keyboard shortcuts and search engines from the normal session, but it won't save any changes. This behaviour can be emulated from the command line with ”-a” and ”-c”. As of Midori 0.3.4 the –private command line switch opens a private browsing instance with normal preferences, cookies, shortcuts and search engines. But no changes will be saved. DNS prefetching is disabled in this mode, also referrers are stripped down to the hostname when navigating between different websites. The same options available to -a/ –app can be used for private browsing mode. Portable mode/ Win32 On Windows builds, -P/ –portable causes all data to be written to the “profile” folder in the Midori folder. Everything, including temporary files and cache, is stored in a sub-folder without touching the system. So Midori can be run eg. from a USB stick on different machines. Kiosk mode There is no specific mode, instead you use several command line switches. A typical fullscreen setup with no toolbar that opens about:blank and resets the session after 2 minutes of inactivity for instance: midori -i 120 -e Fullscreen -e Navigationbar -a about:blank Available commands for -e can be listed with “midori –help-execute”. If needed, a customized profile can be created with “midori -c /path/to/folder”. Using the shortcut editor extension, keyboard shortcuts can be removed as needed. Afterwards just append ”-c /path/to/folder” to the kiosk mode command line. To restrict pages that can be opened, you can use a regular expression. The expression is a blacklist. To block undesirable sites you can do something like: -b 'youtube|youporn' By negating the expression you can also whitelist pages. -b '^(?!.*?(gmail|mail\.google|accounts\.google)).*' Any links outside end up in an error page. All images and other files won't be loaded. Always open Midori in Fullscreen Using the WM to get Midori into fullscreen mode, or calling “midori -e Fullscreen” is the typical way. On the next startup Midori will remember the last window size and state. If for whatever reason this isn't enough, DevilsPie can force Midori to the desired state: ~/.devilspie/midori.ds (begin (if (and (is (application_name) &quot;Midori&quot;) ) (begin (maximize) ) ) ) Overriding settings and loading extensions As of Midori 0.5.0 the –execute command line switch got more powerful: midori -e libcolorful-tabs.so=true midori -e enable-javascript=false Proxy servers By running a local proxy you can modify web content even before it has reached Midori. That allows you to do things similar to what user scripts and user styles provide and even others that neither is suitable for. Privoxy Privoxy is a non-caching web proxy with filter capabilites and particular support for blocking advertisements before even loading them. http://www.privoxy.org/faq/ Mousehole Mousehole is a scriptable proxy server written in Ruby. http://code.whytheluckystiff.net/mouseHole/ Polipo Polipo is a caching web proxy (a web cache) designed to be used by one person or a small group of people. It is similar in spirit to WWWOFFLE, but the implementation techniques are more like the ones used by Squid. http://www.pps.jussieu.fr/~jch/software/polipo/ Are SOCKS proxy servers supported? As of Midori 0.5.0 and libSoup 2.40 SOCKS proxies can be used, the Preferences dialog lists detected types and accepts curl syntax. libSoup &lt; 2.40 only supports HTTP proxy servers directly. A way to use SOCKS on Unix is to use tsocks with SSH as follows: Install 'tsocks' Open /etc/tsocks.conf in an editor Type something like this, you can choose the port freely: server = 127.0.0.1 server_type = 5 server_port = 5555 Open an SSH connection with the same port: ssh -D localhost:5555 myhost.com Run Midori with “tsocks” in front of it: tsocks midori Now you can use for example http://www.whatsmyip.org/ to verify that you are using a SOCKS connection. The IP address should match the one of your SSH host. Remember to keep the SSH login running, and don't suspend it, otherwise it won't work. If the connection fails for some reason, you should see a connection error. Keyboard Hotkeys HJKL You can use the Vim-like key bindings [hjkl] to navigate a page. h=left j=down k=up l=right In a picture: k h l j You can also use the arrow keys to do the same. Following Links To enable Hints in Midori, similar to vimperator in Firefox or xxxterm, press . With hints enabled, type the link number, and press Enter to open the link in the current tab, or Ctrl-Enter to open the link in a new tab. To clear a typed link number before pressing Enter or Ctrl-Enter, use Escape. Use Ctrl(+Shift)+Tab to switch between pages Since Midori 0.3.5 Ctrl+Tab is supported by default. In older versions you can enable the History List extension under Tools → Extensions. Customizing keyboard shortcuts Enable the Shortcuts extension Tools → Extensions. To edit a keybinding Tools → Customize Shortcuts… Using Find Default shortcuts for Find are: Find: Ctrl+f ”/” and ”,” FindNext: Ctrl+g and Enter FindPrevious: Shift+Ctrl+g Dismissing Find: When using Ctrl+f to bring up Find, use Ctrl+f again or ESC. When using ”/” or ”,” to bring up Find, the previous works here as well and by simply moving focus away from the Find box. For example: a Tab or a mouse click anywhere[besides links of course]. Mouse Gestures By default the right mouse button initiates gestures. You can change the button using a hidden option: Create a text file ~/.config/midori/extensions/libmouse-gestures.so/config . Type the following in there: [settings] button=2 As of Midori 0.5.0 individual gestures can be configured freely, consult “midori –help-execute” for a list of available left-hand actions: [gestures] Quit=W;E; TabPrevious=SW; TabNext=SE; Separated by ; the right-hand values are cardinal directions, (W)est, (E)east, (N)orth, (S)outh. You can also combine eg. WE for West East. Additionally, there are programs allowing mouse gestures system-wide, for example EasyStroke. User scripts and styles UserScripts are scripts applied on some, or on all web pages. They can modify pages locally to add or alter functionality. That includes fixing bugs in web pages. User scripts are also available in other browsers, in the form of Mozilla's Greasemonkey or Opera's User JavaScript. How to install a UserScript First enable the “User Addons” extension. It will show up as a “User Scripts” panel (and it also provides “User Styles”). Now you need to find some scripts. You can find some at userscripts.org. Most scripts work fine, some may be written specifically for other browsers. If you have Midori 0.3.0 or newer, you will be offered to install scripts as soon as you see them on the page. To manually install a userscript, you have to download the script as a file, and put it in the folder ~/.local/share/midori/scripts. You need to create that folder if it doesn't exist yet. Midori will automatically see and use it, which you can also see in the user scripts panel. If the script is only shown as source code on the page, you first have to create a new text file in a text editor, copy the source code into the new file, and save it as my-user-script.js where ”.js” is the extension. Compatibility with GreaseMonkey As previously mentioned, Midori can use most scripts you will find. Midori supports Greasemonkey's @include and @exclude metadata so that scripts are only loaded on appropriate pages. Midori doesn't support advanced metadata, such as @require and @resource, so user scripts can't define dependencies on other scripts - most of the time this isn't a problem. Midori also does not support Greasemonkey API. Scripts must also be compatible with Webkit, since Midori is based on WebKit. A Greasemonkey script that makes use of functionality of Gecko/ Firefox will not work in Midori. Flash blocking via a User script You can use BlockFlash2 as a user script which replaces all Flash elements with a button that says “Play Flash”. Flash blocking via a User style You can also use FlashBlock WannaBe as a user script in order to replace Flash elements with placeholders and load them on click. The script is pretty advanced compared to most Flash blockers found on the web. User styles User styles are CSS Cascading Style sheets that are loaded locally and applied on top of web pages, similar to User scripts, in order to add or alter functionality and also fix bugs. How to install a user style First, you need to find some styles (or write your own). You can find some at userstyles.org. Many styles may or may not work, depending on whether the author decided to use browser specific features. To install a user style, you have to download the style as a file, and put it in the following directory ~/.local/share/midori/styles (you may need to create that directory if it does not exist). Midori will automatically see and use it, which you can also see in the user styles panel. Note, if the style is only shown as source code on the page, you first have to create a new text file in a text editor, copy the source code into the new file, and save it as my-user-style.css where ”.css” is the extension. How to install a user style before Midori 0.0.20 Open up the Preferences and use the file chooser button beside User Stylesheet to choose a style sheet file. The style sheet will from now on be applied to all sites automatically. A user css to display the url when a link is hovered This user css is used to display the corresponding url when a link is hovered. This is similar to what chromium/chrome provides when hovering over a link, shown on the bottom left of the page. Add the following to ~/.local/share/midori/styles, then restart Midori and make sure that it is enabled Tools → Userstyles. Customize as needed: a[href]:hover { text-decoration: none !important; } a[href]:hover:after { content: attr(href); position: fixed; left: 4px; bottom: 4px; padding: 0 6px !important; max-width: 95%; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; font:10pt sans-serif !important; text-shadow: 0 0 12px white; background-color: ButtonFace !important; color: ButtonText !important; opacity: 0.8; outline: ButtonFace solid thick; z-index: 9999; } midori/faq.txt · Last modified: 2013/05/13 12:47 by kalikiana Page Tools Show pagesource Old revisions Backlinks Media Manager Back to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Noncommercial-Share Alike 3.0 Unported Copyright 2003-2013 Xfce Development Team. " />
  <RDF:Description RDF:about="urn:scrapbook:item20130528180922#index"
                   NS1:folder="urn:scrapbook:root"
                   NS1:content=" &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; ok, SOLVED ttf issue for Âunicode example &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; http://code.google.com/p/pyfpdf/wiki/Unicode &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; just needed to create directory Â Âgluon &gt; contrib &gt; fpdf &gt; font &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; and place needed ttf files insited it :) &gt;&gt;&gt; &gt;&gt; &gt;&gt;&gt; then pdf.write(8, u&quot;ÄÅuolas&quot;) Âworks fine " />
  <RDF:Description RDF:about="urn:scrapbook:item20130529190308#index"
                   NS1:folder="urn:scrapbook:root"
                   NS1:content=" web2py™ administrative interface Site Edit About Errors Versioning Help Logout Debug Editing file &quot;arbani/controllers/default.py&quot; exposes: pdfexp, report, get_me_a_pdf, get_me_a_pyfpdf, report, listing, import_csv, invoice, index, user, download, call edit views: user, index toggle breakpoint &lt;&lt;back docs Save file: Save Saved file hash: Last saved on: # -*- coding: utf-8 -*- ######################################################################### ## This is a samples controller ## - index is the default action of any application ## - user is required for authentication and authorization ## - download is for downloading files uploaded in the db (does streaming) ## - call exposes all registered services (none by default) ######################################################################### from reportlab.platypus import * from reportlab.lib.styles import getSampleStyleSheet from reportlab.rl_config import defaultPageSize from reportlab.lib.units import inch, mm from reportlab.lib.enums import TA_LEFT, TA_RIGHT, TA_CENTER, TA_JUSTIFY from reportlab.lib import colors from uuid import uuid4 from cgi import escape import os ###{{{ Bani from gluon.contrib.fpdf import FPDF def pdfexp(): pdf=FPDF() pdf.add_page() pdf.set_font('Arial','B',16) pdf.cell(40,10,'احمد الباني') pdf.output('tuto1.pdf','F') return response.stream(open('tuto1.pdf')) def report(): response.title = &quot;web2py sample report&quot; # include a google chart (download it dynamically!) url = &quot;http://chart.apis.google.com/chart?cht=p3&amp;chd=t:60,40&amp;chs=500x200&amp;chl=Hello|World&amp;.png&quot; chart = IMG(_src=url, _width=&quot;250&quot;,_height=&quot;100&quot;) # create a small table with some data: rows = [THEAD(TR(TH(&quot;Key&quot;,_width=&quot;70%&quot;), TH(&quot;Value&quot;,_width=&quot;30%&quot;))), TBODY(TR(TD(&quot;Hello&quot;),TD(&quot;60&quot;)), TR(TD(&quot;World&quot;),TD(&quot;40&quot;)))] table = TABLE(*rows, _border=&quot;0&quot;, _align=&quot;center&quot;, _width=&quot;50%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # create a custom class with the required functionalities class MyFPDF(FPDF, HTMLMixin): def header(self): &quot;hook to draw custom page header (logo and title)&quot; logo=os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo_pb.png&quot;) self.image(logo,10,8,33) self.set_font('Arial','B',15) self.cell(65) # padding self.cell(60,10,response.title,1,0,'C') self.ln(20) def footer(self): &quot;hook to draw custom page footer (printing page numbers)&quot; self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # create a page and serialize/render HTML objects pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) pdf.write_html(str(XML(CENTER(chart), sanitize=False))) # prepare PDF to download: response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(chart=chart, table=table) ###}}} #try: # from gluon.contrib.pyfpdf import FPDF, HTMLMixin # # class MyFPDF(FPDF, HTMLMixin): # pass # pdf=MyFPDF() #First page # pdf.add_page() #pdf.write_html(str(XML(chart, sanitize=False))) #print(XML(chart, sanitize=False)) #print(XML(table, sanitize=False)) ##pdf.write_html(str(XML(table, sanitize=False))) # response.headers['Content-Type']='application/pdf' # response.write(pdf.output(dest='S')) #except: # raise ##raise HTTP(405,'no pdf') def get_me_a_pdf(): # Begin with regular font pdf.add_font('Amiri', '', 'amiri-regular.ttf', uni=True) pdf.Write(5,'Visit '); # Then put a blue underlined link pdf.SetTextColor(0,0,255); pdf.Write(5,'www.fpdf.org','http://www.fpdf.org'); title = &quot;احمد باني&quot; heading = &quot;First Paragraph&quot; text = 'bla '* 10000 styles = getSampleStyleSheet() tmpfilename=os.path.join(request.folder,'private',str(uuid4())) doc = SimpleDocTemplate(tmpfilename) story = [] story.append(Paragraph(escape(title),styles[&quot;Title&quot;])) story.append(Paragraph(escape(heading),styles[&quot;Heading2&quot;])) story.append(Paragraph(escape(text),styles[&quot;Normal&quot;])) story.append(Spacer(1,2*inch)) doc.build(story) data = open(tmpfilename,&quot;rb&quot;).read() os.unlink(tmpfilename) response.headers['Content-Type']='application/pdf' return data def get_me_a_pyfpdf(): title = &quot;This The Doc Title&quot; heading = &quot;First Paragraph&quot; text = 'bla '* 10000 pdf=FPDF() pdf.add_page() pdf.set_font('Times','B',15) pdf.cell(w=210,h=9,txt=title,border=0,ln=1,align='C',fill=0) pdf.set_font('Times','B',15) pdf.cell(w=0,h=6,txt=heading,border=0,ln=1,align='L',fill=0) pdf.set_font('Times','',12) pdf.multi_cell(w=0,h=5,txt=text) response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') def report(): response.title = &quot;web2py sample report&quot; # include a google chart! url = &quot;http://chart.apis.google.com/chart?cht=p3&amp;chd=t:60,40&amp;chs=250x100&amp;chl=Hello|World&amp;.png&quot; chart = IMG(_src=url, _width=&quot;250&quot;,_height=&quot;100&quot;) # create a small table with some data: rows = [THEAD(TR(TH(&quot;Key&quot;,_width=&quot;70%&quot;), TH(&quot;Value&quot;,_width=&quot;30%&quot;))), TBODY(TR(TD(&quot;Hello&quot;),TD(&quot;60&quot;)), TR(TD(&quot;World&quot;),TD(&quot;40&quot;)))] table = TABLE(*rows, _border=&quot;0&quot;, _align=&quot;center&quot;, _width=&quot;50%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # create a custom class with the required functionalities class MyFPDF(FPDF, HTMLMixin): def header(self): &quot;hook to draw custom page header&quot; logo=os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo_pb.png&quot;) self.image(logo,10,8,33) self.set_font('Arial','B',15) self.cell(65) # padding self.cell(60,10,response.title,1,0,'C') self.ln(20) def footer(self): &quot;hook to draw custom page header (printing page numbers)&quot; self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # create a page and serialize/render HTML objects pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) pdf.write_html(str(XML(CENTER(chart), sanitize=False))) # prepare PDF to download: response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(chart=chart, table=table) def listing(): response.title = &quot;web2py sample listing&quot; # define header and footers: head = THEAD(TR(TH(&quot;Header 1&quot;,_width=&quot;50%&quot;), TH(&quot;Header 2&quot;,_width=&quot;30%&quot;), TH(&quot;Header 3&quot;,_width=&quot;20%&quot;), _bgcolor=&quot;#A0A0A0&quot;)) foot = TFOOT(TR(TH(&quot;Footer 1&quot;,_width=&quot;50%&quot;), TH(&quot;Footer 2&quot;,_width=&quot;30%&quot;), TH(&quot;Footer 3&quot;,_width=&quot;20%&quot;), _bgcolor=&quot;#E0E0E0&quot;)) # create several rows: rows = [] for i in range(1000): col = i % 2 and &quot;#F0F0F0&quot; or &quot;#FFFFFF&quot; rows.append(TR(TD(&quot;Row %s&quot; %i), TD(&quot;something&quot;, _align=&quot;center&quot;), TD(&quot;%s&quot; % i, _align=&quot;right&quot;), _bgcolor=col)) # make the table object body = TBODY(*rows) table = TABLE(*[head,foot, body], _border=&quot;1&quot;, _align=&quot;center&quot;, _width=&quot;100%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # define our FPDF class (move to modules if it is reused frequently) class MyFPDF(FPDF, HTMLMixin): def header(self): self.set_font('Arial','B',15) self.cell(0,10, response.title ,1,0,'C') self.ln(20) def footer(self): self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # first page: pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(table=table) def import_csv(): from gluon.contrib.pyfpdf import Template f = Template() f.parse_csv(infile=&quot;/home/reingart/web2py/gluon/contrib/pyfpdf/invoice.csv&quot;, delimiter=&quot;;&quot;, decimal_sep=&quot;,&quot;) for v in f.fields.elements(): v['align']= {'I':'L','D':'R','C':'C','':''}.get(v['align'], 'L') v['pdf_template_id'] = 1 db.pdf_element.insert(**v) def invoice(): from gluon.contrib.pyfpdf import Template import os.path # generate sample invoice (according Argentina's regulations) import random from decimal import Decimal # read elements from db elements = db(db.pdf_element.pdf_template_id==1).select(orderby=db.pdf_element.priority) f = Template(format=&quot;A4&quot;, elements = elements, title=&quot;Sample Invoice&quot;, author=&quot;Sample Company&quot;, subject=&quot;Sample Customer&quot;, keywords=&quot;Electronic TAX Invoice&quot;) detail = &quot;Lorem ipsum dolor sit amet, consectetur. &quot; * 5 items = [] for i in range(1, 30): ds = &quot;Sample product %s&quot; % i qty = random.randint(1,10) price = round(random.random()*100,3) code = &quot;%s%s%02d&quot; % (chr(random.randint(65,90)), chr(random.randint(65,90)),i) items.append(dict(code=code, unit='u', qty=qty, price=price, amount=qty*price, ds=&quot;%s: %s&quot; % (i,ds))) # divide and count lines lines = 0 li_items = [] for it in items: qty = it['qty'] code = it['code'] unit = it['unit'] for ds in f.split_multicell(it['ds'], 'item_description01'): # add item description line (without price nor amount) li_items.append(dict(code=code, ds=ds, qty=qty, unit=unit, price=None, amount=None)) # clean qty and code (show only at first) unit = qty = code = None # set last item line price and amount li_items[-1].update(amount = it['amount'], price = it['price']) obs=&quot;\n&lt;U&gt;Detail:&lt;/U&gt;\n\n&quot; + detail for ds in f.split_multicell(obs, 'item_description01'): li_items.append(dict(code=code, ds=ds, qty=qty, unit=unit, price=None, amount=None)) # calculate pages: lines = len(li_items) max_lines_per_page = 24 pages = lines / (max_lines_per_page - 1) if lines % (max_lines_per_page - 1): pages = pages + 1 # completo campos y hojas for page in range(1, pages+1): f.add_page() f['page'] = 'Page %s of %s' % (page, pages) if pages&gt;1 and page&lt;pages: s = 'Continues on page %s' % (page+1) else: s = '' f['item_description%02d' % (max_lines_per_page+1)] = s f[&quot;company_name&quot;] = &quot;Sample Company&quot; f[&quot;company_logo&quot;] = os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo.png&quot;) f[&quot;company_header1&quot;] = &quot;Some Address - somewhere -&quot; f[&quot;company_header2&quot;] = &quot;http://www.example.com&quot; f[&quot;company_footer1&quot;] = &quot;Tax Code ...&quot; f[&quot;company_footer2&quot;] = &quot;Tax/VAT ID ...&quot; f['number'] = '0001-00001234' f['issue_date'] = '2010-09-10' f['due_date'] = '2099-09-10' f['customer_name'] = &quot;Sample Client&quot; f['customer_address'] = &quot;Siempreviva 1234&quot; # print line item... li = 0 k = 0 total = Decimal(&quot;0.00&quot;) for it in li_items: k = k + 1 if k &gt; page * (max_lines_per_page - 1): break if it['amount']: total += Decimal(&quot;%.6f&quot; % it['amount']) if k &gt; (page - 1) * (max_lines_per_page - 1): li += 1 if it['qty'] is not None: f['item_quantity%02d' % li] = it['qty'] if it['code'] is not None: f['item_code%02d' % li] = it['code'] if it['unit'] is not None: f['item_unit%02d' % li] = it['unit'] f['item_description%02d' % li] = it['ds'] if it['price'] is not None: f['item_price%02d' % li] = &quot;%0.3f&quot; % it['price'] if it['amount'] is not None: f['item_amount%02d' % li] = &quot;%0.2f&quot; % it['amount'] if pages == page: f['net'] = &quot;%0.2f&quot; % (total/Decimal(&quot;1.21&quot;)) f['vat'] = &quot;%0.2f&quot; % (total*(1-1/Decimal(&quot;1.21&quot;))) f['total_label'] = 'Total:' else: f['total_label'] = 'SubTotal:' f['total'] = &quot;%0.2f&quot; % total response.headers['Content-Type']='application/pdf' return f.render('invoice.pdf', dest='S') def index(): &quot;&quot;&quot; example action using the internationalization operator T and flash rendered by views/default/index.html or views/generic.html &quot;&quot;&quot; response.flash = T('Welcome to web2py') return dict(message=T('Hello World')) def user(): &quot;&quot;&quot; exposes: http://..../[app]/default/user/login http://..../[app]/default/user/logout http://..../[app]/default/user/register http://..../[app]/default/user/profile http://..../[app]/default/user/retrieve_password http://..../[app]/default/user/change_password use @auth.requires_login() @auth.requires_membership('group name') @auth.requires_permission('read','table name',record_id) to decorate functions that need access control &quot;&quot;&quot; return dict(form=auth()) def download(): &quot;&quot;&quot; allows downloading of uploaded files http://..../[app]/default/download/[filename] &quot;&quot;&quot; return response.download(request,db) def call(): &quot;&quot;&quot; exposes services. for example: http://..../[app]/default/call/jsonrpc decorate with @services.jsonrpc the functions to expose supports xml, json, xmlrpc, jsonrpc, amfrpc, rss, csv &quot;&quot;&quot; session.forget() return service() [It's All Text!] [It's All Text!] 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 # -*- coding: utf-8 -*- ######################################################################### ## This is a samples controller ## - index is the default action of any application ## - user is required for authentication and authorization ## - download is for downloading files uploaded in the db (does streaming) ## - call exposes all registered services (none by default) ######################################################################### from reportlab.platypus import * from reportlab.lib.styles import getSampleStyleSheet from reportlab.rl_config import defaultPageSize from reportlab.lib.units import inch, mm from reportlab.lib.enums import TA_LEFT, TA_RIGHT, TA_CENTER, TA_JUSTIFY from reportlab.lib import colors from uuid import uuid4 from cgi import escape import os ###{{{ Bani from gluon.contrib.fpdf import FPDF def pdfexp(): pdf=FPDF() pdf.add_page() pdf.set_font('Arial','B',16) pdf.cell(40,10,'احمد الباني') pdf.output('tuto1.pdf','F') return response.stream(open('tuto1.pdf')) def report(): response.title = &quot;web2py sample report&quot; # include a google chart (download it dynamically!) url = &quot;http://chart.apis.google.com/chart?cht=p3&amp;chd=t:60,40&amp;chs=500x200&amp;chl=Hello|World&amp;.png&quot; chart = IMG(_src=url, _width=&quot;250&quot;,_height=&quot;100&quot;) # create a small table with some data: rows = [THEAD(TR(TH(&quot;Key&quot;,_width=&quot;70%&quot;), TH(&quot;Value&quot;,_width=&quot;30%&quot;))), TBODY(TR(TD(&quot;Hello&quot;),TD(&quot;60&quot;)), TR(TD(&quot;World&quot;),TD(&quot;40&quot;)))] table = TABLE(*rows, _border=&quot;0&quot;, _align=&quot;center&quot;, _width=&quot;50%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # create a custom class with the required functionalities class MyFPDF(FPDF, HTMLMixin): def header(self): &quot;hook to draw custom page header (logo and title)&quot; logo=os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo_pb.png&quot;) self.image(logo,10,8,33) self.set_font('Arial','B',15) self.cell(65) # padding self.cell(60,10,response.title,1,0,'C') self.ln(20) def footer(self): &quot;hook to draw custom page footer (printing page numbers)&quot; self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # create a page and serialize/render HTML objects pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) pdf.write_html(str(XML(CENTER(chart), sanitize=False))) # prepare PDF to download: response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(chart=chart, table=table) ###}}} #try: # from gluon.contrib.pyfpdf import FPDF, HTMLMixin # # class MyFPDF(FPDF, HTMLMixin): # pass # pdf=MyFPDF() #First page # pdf.add_page() #pdf.write_html(str(XML(chart, sanitize=False))) #print(XML(chart, sanitize=False)) #print(XML(table, sanitize=False)) ##pdf.write_html(str(XML(table, sanitize=False))) # response.headers['Content-Type']='application/pdf' # response.write(pdf.output(dest='S')) #except: # raise ##raise HTTP(405,'no pdf') def get_me_a_pdf(): # Begin with regular font pdf.add_font('Amiri', '', 'amiri-regular.ttf', uni=True) pdf.Write(5,'Visit '); # Then put a blue underlined link pdf.SetTextColor(0,0,255); pdf.Write(5,'www.fpdf.org','http://www.fpdf.org'); title = &quot;احمد باني&quot; heading = &quot;First Paragraph&quot; text = 'bla '* 10000 styles = getSampleStyleSheet() tmpfilename=os.path.join(request.folder,'private',str(uuid4())) doc = SimpleDocTemplate(tmpfilename) story = [] story.append(Paragraph(escape(title),styles[&quot;Title&quot;])) story.append(Paragraph(escape(heading),styles[&quot;Heading2&quot;])) story.append(Paragraph(escape(text),styles[&quot;Normal&quot;])) story.append(Spacer(1,2*inch)) doc.build(story) data = open(tmpfilename,&quot;rb&quot;).read() os.unlink(tmpfilename) response.headers['Content-Type']='application/pdf' return data def get_me_a_pyfpdf(): title = &quot;This The Doc Title&quot; heading = &quot;First Paragraph&quot; text = 'bla '* 10000 pdf=FPDF() pdf.add_page() pdf.set_font('Times','B',15) pdf.cell(w=210,h=9,txt=title,border=0,ln=1,align='C',fill=0) pdf.set_font('Times','B',15) pdf.cell(w=0,h=6,txt=heading,border=0,ln=1,align='L',fill=0) pdf.set_font('Times','',12) pdf.multi_cell(w=0,h=5,txt=text) response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') def report(): response.title = &quot;web2py sample report&quot; # include a google chart! url = &quot;http://chart.apis.google.com/chart?cht=p3&amp;chd=t:60,40&amp;chs=250x100&amp;chl=Hello|World&amp;.png&quot; chart = IMG(_src=url, _width=&quot;250&quot;,_height=&quot;100&quot;) # create a small table with some data: rows = [THEAD(TR(TH(&quot;Key&quot;,_width=&quot;70%&quot;), TH(&quot;Value&quot;,_width=&quot;30%&quot;))), TBODY(TR(TD(&quot;Hello&quot;),TD(&quot;60&quot;)), TR(TD(&quot;World&quot;),TD(&quot;40&quot;)))] table = TABLE(*rows, _border=&quot;0&quot;, _align=&quot;center&quot;, _width=&quot;50%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # create a custom class with the required functionalities class MyFPDF(FPDF, HTMLMixin): def header(self): &quot;hook to draw custom page header&quot; logo=os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo_pb.png&quot;) self.image(logo,10,8,33) self.set_font('Arial','B',15) self.cell(65) # padding self.cell(60,10,response.title,1,0,'C') self.ln(20) def footer(self): &quot;hook to draw custom page header (printing page numbers)&quot; self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # create a page and serialize/render HTML objects pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) pdf.write_html(str(XML(CENTER(chart), sanitize=False))) # prepare PDF to download: response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(chart=chart, table=table) def listing(): response.title = &quot;web2py sample listing&quot; # define header and footers: head = THEAD(TR(TH(&quot;Header 1&quot;,_width=&quot;50%&quot;), TH(&quot;Header 2&quot;,_width=&quot;30%&quot;), TH(&quot;Header 3&quot;,_width=&quot;20%&quot;), _bgcolor=&quot;#A0A0A0&quot;)) foot = TFOOT(TR(TH(&quot;Footer 1&quot;,_width=&quot;50%&quot;), TH(&quot;Footer 2&quot;,_width=&quot;30%&quot;), TH(&quot;Footer 3&quot;,_width=&quot;20%&quot;), _bgcolor=&quot;#E0E0E0&quot;)) # create several rows: rows = [] for i in range(1000): col = i % 2 and &quot;#F0F0F0&quot; or &quot;#FFFFFF&quot; rows.append(TR(TD(&quot;Row %s&quot; %i), TD(&quot;something&quot;, _align=&quot;center&quot;), TD(&quot;%s&quot; % i, _align=&quot;right&quot;), _bgcolor=col)) # make the table object body = TBODY(*rows) table = TABLE(*[head,foot, body], _border=&quot;1&quot;, _align=&quot;center&quot;, _width=&quot;100%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # define our FPDF class (move to modules if it is reused frequently) class MyFPDF(FPDF, HTMLMixin): def header(self): self.set_font('Arial','B',15) self.cell(0,10, response.title ,1,0,'C') self.ln(20) def footer(self): self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # first page: pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(table=table) def import_csv(): from gluon.contrib.pyfpdf import Template f = Template() f.parse_csv(infile=&quot;/home/reingart/web2py/gluon/contrib/pyfpdf/invoice.csv&quot;, delimiter=&quot;;&quot;, decimal_sep=&quot;,&quot;) for v in f.fields.elements(): v['align']= {'I':'L','D':'R','C':'C','':''}.get(v['align'], 'L') v['pdf_template_id'] = 1 db.pdf_element.insert(**v) def invoice(): from gluon.contrib.pyfpdf import Template import os.path # generate sample invoice (according Argentina's regulations) import random from decimal import Decimal # read elements from db elements = db(db.pdf_element.pdf_template_id==1).select(orderby=db.pdf_element.priority) f = Template(format=&quot;A4&quot;, elements = elements, title=&quot;Sample Invoice&quot;, author=&quot;Sample Company&quot;, subject=&quot;Sample Customer&quot;, keywords=&quot;Electronic TAX Invoice&quot;) detail = &quot;Lorem ipsum dolor sit amet, consectetur. &quot; * 5 items = [] for i in range(1, 30): ds = &quot;Sample product %s&quot; % i qty = random.randint(1,10) price = round(random.random()*100,3) code = &quot;%s%s%02d&quot; % (chr(random.randint(65,90)), chr(random.randint(65,90)),i) items.append(dict(code=code, unit='u', qty=qty, price=price, amount=qty*price, ds=&quot;%s: %s&quot; % (i,ds))) # divide and count lines lines = 0 li_items = [] for it in items: qty = it['qty'] code = it['code'] unit = it['unit'] for ds in f.split_multicell(it['ds'], 'item_description01'): # add item description line (without price nor amount) li_items.append(dict(code=code, ds=ds, qty=qty, unit=unit, price=None, amount=None)) # clean qty and code (show only at first) unit = qty = code = None # set last item line price and amount li_items[-1].update(amount = it['amount'], price = it['price']) obs=&quot;\n&lt;U&gt;Detail:&lt;/U&gt;\n\n&quot; + detail for ds in f.split_multicell(obs, 'item_description01'): li_items.append(dict(code=code, ds=ds, qty=qty, unit=unit, price=None, amount=None)) # calculate pages: lines = len(li_items) max_lines_per_page = 24 pages = lines / (max_lines_per_page - 1) if lines % (max_lines_per_page - 1): pages = pages + 1 # completo campos y hojas for page in range(1, pages+1): f.add_page() f['page'] = 'Page %s of %s' % (page, pages) if pages&gt;1 and page&lt;pages: s = 'Continues on page %s' % (page+1) else: s = '' f['item_description%02d' % (max_lines_per_page+1)] = s f[&quot;company_name&quot;] = &quot;Sample Company&quot; f[&quot;company_logo&quot;] = os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo.png&quot;) f[&quot;company_header1&quot;] = &quot;Some Address - somewhere -&quot; f[&quot;company_header2&quot;] = &quot;http://www.example.com&quot; f[&quot;company_footer1&quot;] = &quot;Tax Code ...&quot; f[&quot;company_footer2&quot;] = &quot;Tax/VAT ID ...&quot; f['number'] = '0001-00001234' f['issue_date'] = '2010-09-10' f['due_date'] = '2099-09-10' f['customer_name'] = &quot;Sample Client&quot; f['customer_address'] = &quot;Siempreviva 1234&quot; # print line item... li = 0 k = 0 total = Decimal(&quot;0.00&quot;) for it in li_items: k = k + 1 if k &gt; page * (max_lines_per_page - 1): break if it['amount']: total += Decimal(&quot;%.6f&quot; % it['amount']) if k &gt; (page - 1) * (max_lines_per_page - 1): li += 1 if it['qty'] is not None: f['item_quantity%02d' % li] = it['qty'] if it['code'] is not None: f['item_code%02d' % li] = it['code'] if it['unit'] is not None: f['item_unit%02d' % li] = it['unit'] f['item_description%02d' % li] = it['ds'] if it['price'] is not None: f['item_price%02d' % li] = &quot;%0.3f&quot; % it['price'] if it['amount'] is not None: f['item_amount%02d' % li] = &quot;%0.2f&quot; % it['amount'] if pages == page: f['net'] = &quot;%0.2f&quot; % (total/Decimal(&quot;1.21&quot;)) f['vat'] = &quot;%0.2f&quot; % (total*(1-1/Decimal(&quot;1.21&quot;))) f['total_label'] = 'Total:' else: f['total_label'] = 'SubTotal:' f['total'] = &quot;%0.2f&quot; % total response.headers['Content-Type']='application/pdf' return f.render('invoice.pdf', dest='S') def index(): &quot;&quot;&quot; example action using the internationalization operator T and flash rendered by views/default/index.html or views/generic.html &quot;&quot;&quot; response.flash = T('Welcome to web2py') return dict(message=T('Hello World')) def user(): &quot;&quot;&quot; exposes: http://..../[app]/default/user/login http://..../[app]/default/user/logout http://..../[app]/default/user/register http://..../[app]/default/user/profile http://..../[app]/default/user/retrieve_password http://..../[app]/default/user/change_password use @auth.requires_login() @auth.requires_membership('group name') @auth.requires_permission('read','table name',record_id) to decorate functions that need access control &quot;&quot;&quot; return dict(form=auth()) def download(): &quot;&quot;&quot; allows downloading of uploaded files http://..../[app]/default/download/[filename] &quot;&quot;&quot; return response.download(request,db) def call(): &quot;&quot;&quot; exposes services. for example: http://..../[app]/default/call/jsonrpc decorate with @services.jsonrpc the functions to expose supports xml, json, xmlrpc, jsonrpc, amfrpc, rss, csv &quot;&quot;&quot; session.forget() return service() restore currently saved or revert to previous version. Key bindings Ctrl+SSave via Ajax Ctrl+F11Toggle Fullscreen Ctrl-F / Cmd-FStart searching Ctrl-G / Cmd-GFind Next Shift-Ctrl-G / Shift-Cmd-GFind Previous Shift-Ctrl-F / Cmd-Option-FReplace Shift-Ctrl-R / Shift-Cmd-Option-FReplace All Powered by web2py™ created by Massimo Di Pierro ©2007-2013 - Admin language " />
  <RDF:Description RDF:about="urn:scrapbook:item20130529190307#index"
                   NS1:folder="urn:scrapbook:root"
                   NS1:content=" web2py™ administrative interface Site Edit About Errors Versioning Help Logout Debug Editing file &quot;arbani/controllers/default.py&quot; exposes: pdfexp, report, get_me_a_pdf, get_me_a_pyfpdf, report, listing, import_csv, invoice, index, user, download, call edit views: user, index toggle breakpoint &lt;&lt;back docs Save file: Save Saved file hash: Last saved on: # -*- coding: utf-8 -*- ######################################################################### ## This is a samples controller ## - index is the default action of any application ## - user is required for authentication and authorization ## - download is for downloading files uploaded in the db (does streaming) ## - call exposes all registered services (none by default) ######################################################################### from reportlab.platypus import * from reportlab.lib.styles import getSampleStyleSheet from reportlab.rl_config import defaultPageSize from reportlab.lib.units import inch, mm from reportlab.lib.enums import TA_LEFT, TA_RIGHT, TA_CENTER, TA_JUSTIFY from reportlab.lib import colors from uuid import uuid4 from cgi import escape import os ###{{{ Bani from gluon.contrib.fpdf import FPDF def pdfexp(): pdf=FPDF() pdf.add_page() pdf.set_font('Arial','B',16) pdf.cell(40,10,'احمد الباني') pdf.output('tuto1.pdf','F') return response.stream(open('tuto1.pdf')) def report(): response.title = &quot;web2py sample report&quot; # include a google chart (download it dynamically!) url = &quot;http://chart.apis.google.com/chart?cht=p3&amp;chd=t:60,40&amp;chs=500x200&amp;chl=Hello|World&amp;.png&quot; chart = IMG(_src=url, _width=&quot;250&quot;,_height=&quot;100&quot;) # create a small table with some data: rows = [THEAD(TR(TH(&quot;Key&quot;,_width=&quot;70%&quot;), TH(&quot;Value&quot;,_width=&quot;30%&quot;))), TBODY(TR(TD(&quot;Hello&quot;),TD(&quot;60&quot;)), TR(TD(&quot;World&quot;),TD(&quot;40&quot;)))] table = TABLE(*rows, _border=&quot;0&quot;, _align=&quot;center&quot;, _width=&quot;50%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # create a custom class with the required functionalities class MyFPDF(FPDF, HTMLMixin): def header(self): &quot;hook to draw custom page header (logo and title)&quot; logo=os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo_pb.png&quot;) self.image(logo,10,8,33) self.set_font('Arial','B',15) self.cell(65) # padding self.cell(60,10,response.title,1,0,'C') self.ln(20) def footer(self): &quot;hook to draw custom page footer (printing page numbers)&quot; self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # create a page and serialize/render HTML objects pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) pdf.write_html(str(XML(CENTER(chart), sanitize=False))) # prepare PDF to download: response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(chart=chart, table=table) ###}}} #try: # from gluon.contrib.pyfpdf import FPDF, HTMLMixin # # class MyFPDF(FPDF, HTMLMixin): # pass # pdf=MyFPDF() #First page # pdf.add_page() #pdf.write_html(str(XML(chart, sanitize=False))) #print(XML(chart, sanitize=False)) #print(XML(table, sanitize=False)) ##pdf.write_html(str(XML(table, sanitize=False))) # response.headers['Content-Type']='application/pdf' # response.write(pdf.output(dest='S')) #except: # raise ##raise HTTP(405,'no pdf') def get_me_a_pdf(): # Begin with regular font pdf.add_font('Amiri', '', 'amiri-regular.ttf', uni=True) pdf.Write(5,'Visit '); # Then put a blue underlined link pdf.SetTextColor(0,0,255); pdf.Write(5,'www.fpdf.org','http://www.fpdf.org'); title = &quot;احمد باني&quot; heading = &quot;First Paragraph&quot; text = 'bla '* 10000 styles = getSampleStyleSheet() tmpfilename=os.path.join(request.folder,'private',str(uuid4())) doc = SimpleDocTemplate(tmpfilename) story = [] story.append(Paragraph(escape(title),styles[&quot;Title&quot;])) story.append(Paragraph(escape(heading),styles[&quot;Heading2&quot;])) story.append(Paragraph(escape(text),styles[&quot;Normal&quot;])) story.append(Spacer(1,2*inch)) doc.build(story) data = open(tmpfilename,&quot;rb&quot;).read() os.unlink(tmpfilename) response.headers['Content-Type']='application/pdf' return data def get_me_a_pyfpdf(): title = &quot;This The Doc Title&quot; heading = &quot;First Paragraph&quot; text = 'bla '* 10000 pdf=FPDF() pdf.add_page() pdf.set_font('Times','B',15) pdf.cell(w=210,h=9,txt=title,border=0,ln=1,align='C',fill=0) pdf.set_font('Times','B',15) pdf.cell(w=0,h=6,txt=heading,border=0,ln=1,align='L',fill=0) pdf.set_font('Times','',12) pdf.multi_cell(w=0,h=5,txt=text) response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') def report(): response.title = &quot;web2py sample report&quot; # include a google chart! url = &quot;http://chart.apis.google.com/chart?cht=p3&amp;chd=t:60,40&amp;chs=250x100&amp;chl=Hello|World&amp;.png&quot; chart = IMG(_src=url, _width=&quot;250&quot;,_height=&quot;100&quot;) # create a small table with some data: rows = [THEAD(TR(TH(&quot;Key&quot;,_width=&quot;70%&quot;), TH(&quot;Value&quot;,_width=&quot;30%&quot;))), TBODY(TR(TD(&quot;Hello&quot;),TD(&quot;60&quot;)), TR(TD(&quot;World&quot;),TD(&quot;40&quot;)))] table = TABLE(*rows, _border=&quot;0&quot;, _align=&quot;center&quot;, _width=&quot;50%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # create a custom class with the required functionalities class MyFPDF(FPDF, HTMLMixin): def header(self): &quot;hook to draw custom page header&quot; logo=os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo_pb.png&quot;) self.image(logo,10,8,33) self.set_font('Arial','B',15) self.cell(65) # padding self.cell(60,10,response.title,1,0,'C') self.ln(20) def footer(self): &quot;hook to draw custom page header (printing page numbers)&quot; self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # create a page and serialize/render HTML objects pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) pdf.write_html(str(XML(CENTER(chart), sanitize=False))) # prepare PDF to download: response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(chart=chart, table=table) def listing(): response.title = &quot;web2py sample listing&quot; # define header and footers: head = THEAD(TR(TH(&quot;Header 1&quot;,_width=&quot;50%&quot;), TH(&quot;Header 2&quot;,_width=&quot;30%&quot;), TH(&quot;Header 3&quot;,_width=&quot;20%&quot;), _bgcolor=&quot;#A0A0A0&quot;)) foot = TFOOT(TR(TH(&quot;Footer 1&quot;,_width=&quot;50%&quot;), TH(&quot;Footer 2&quot;,_width=&quot;30%&quot;), TH(&quot;Footer 3&quot;,_width=&quot;20%&quot;), _bgcolor=&quot;#E0E0E0&quot;)) # create several rows: rows = [] for i in range(1000): col = i % 2 and &quot;#F0F0F0&quot; or &quot;#FFFFFF&quot; rows.append(TR(TD(&quot;Row %s&quot; %i), TD(&quot;something&quot;, _align=&quot;center&quot;), TD(&quot;%s&quot; % i, _align=&quot;right&quot;), _bgcolor=col)) # make the table object body = TBODY(*rows) table = TABLE(*[head,foot, body], _border=&quot;1&quot;, _align=&quot;center&quot;, _width=&quot;100%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # define our FPDF class (move to modules if it is reused frequently) class MyFPDF(FPDF, HTMLMixin): def header(self): self.set_font('Arial','B',15) self.cell(0,10, response.title ,1,0,'C') self.ln(20) def footer(self): self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # first page: pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(table=table) def import_csv(): from gluon.contrib.pyfpdf import Template f = Template() f.parse_csv(infile=&quot;/home/reingart/web2py/gluon/contrib/pyfpdf/invoice.csv&quot;, delimiter=&quot;;&quot;, decimal_sep=&quot;,&quot;) for v in f.fields.elements(): v['align']= {'I':'L','D':'R','C':'C','':''}.get(v['align'], 'L') v['pdf_template_id'] = 1 db.pdf_element.insert(**v) def invoice(): from gluon.contrib.pyfpdf import Template import os.path # generate sample invoice (according Argentina's regulations) import random from decimal import Decimal # read elements from db elements = db(db.pdf_element.pdf_template_id==1).select(orderby=db.pdf_element.priority) f = Template(format=&quot;A4&quot;, elements = elements, title=&quot;Sample Invoice&quot;, author=&quot;Sample Company&quot;, subject=&quot;Sample Customer&quot;, keywords=&quot;Electronic TAX Invoice&quot;) detail = &quot;Lorem ipsum dolor sit amet, consectetur. &quot; * 5 items = [] for i in range(1, 30): ds = &quot;Sample product %s&quot; % i qty = random.randint(1,10) price = round(random.random()*100,3) code = &quot;%s%s%02d&quot; % (chr(random.randint(65,90)), chr(random.randint(65,90)),i) items.append(dict(code=code, unit='u', qty=qty, price=price, amount=qty*price, ds=&quot;%s: %s&quot; % (i,ds))) # divide and count lines lines = 0 li_items = [] for it in items: qty = it['qty'] code = it['code'] unit = it['unit'] for ds in f.split_multicell(it['ds'], 'item_description01'): # add item description line (without price nor amount) li_items.append(dict(code=code, ds=ds, qty=qty, unit=unit, price=None, amount=None)) # clean qty and code (show only at first) unit = qty = code = None # set last item line price and amount li_items[-1].update(amount = it['amount'], price = it['price']) obs=&quot;\n&lt;U&gt;Detail:&lt;/U&gt;\n\n&quot; + detail for ds in f.split_multicell(obs, 'item_description01'): li_items.append(dict(code=code, ds=ds, qty=qty, unit=unit, price=None, amount=None)) # calculate pages: lines = len(li_items) max_lines_per_page = 24 pages = lines / (max_lines_per_page - 1) if lines % (max_lines_per_page - 1): pages = pages + 1 # completo campos y hojas for page in range(1, pages+1): f.add_page() f['page'] = 'Page %s of %s' % (page, pages) if pages&gt;1 and page&lt;pages: s = 'Continues on page %s' % (page+1) else: s = '' f['item_description%02d' % (max_lines_per_page+1)] = s f[&quot;company_name&quot;] = &quot;Sample Company&quot; f[&quot;company_logo&quot;] = os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo.png&quot;) f[&quot;company_header1&quot;] = &quot;Some Address - somewhere -&quot; f[&quot;company_header2&quot;] = &quot;http://www.example.com&quot; f[&quot;company_footer1&quot;] = &quot;Tax Code ...&quot; f[&quot;company_footer2&quot;] = &quot;Tax/VAT ID ...&quot; f['number'] = '0001-00001234' f['issue_date'] = '2010-09-10' f['due_date'] = '2099-09-10' f['customer_name'] = &quot;Sample Client&quot; f['customer_address'] = &quot;Siempreviva 1234&quot; # print line item... li = 0 k = 0 total = Decimal(&quot;0.00&quot;) for it in li_items: k = k + 1 if k &gt; page * (max_lines_per_page - 1): break if it['amount']: total += Decimal(&quot;%.6f&quot; % it['amount']) if k &gt; (page - 1) * (max_lines_per_page - 1): li += 1 if it['qty'] is not None: f['item_quantity%02d' % li] = it['qty'] if it['code'] is not None: f['item_code%02d' % li] = it['code'] if it['unit'] is not None: f['item_unit%02d' % li] = it['unit'] f['item_description%02d' % li] = it['ds'] if it['price'] is not None: f['item_price%02d' % li] = &quot;%0.3f&quot; % it['price'] if it['amount'] is not None: f['item_amount%02d' % li] = &quot;%0.2f&quot; % it['amount'] if pages == page: f['net'] = &quot;%0.2f&quot; % (total/Decimal(&quot;1.21&quot;)) f['vat'] = &quot;%0.2f&quot; % (total*(1-1/Decimal(&quot;1.21&quot;))) f['total_label'] = 'Total:' else: f['total_label'] = 'SubTotal:' f['total'] = &quot;%0.2f&quot; % total response.headers['Content-Type']='application/pdf' return f.render('invoice.pdf', dest='S') def index(): &quot;&quot;&quot; example action using the internationalization operator T and flash rendered by views/default/index.html or views/generic.html &quot;&quot;&quot; response.flash = T('Welcome to web2py') return dict(message=T('Hello World')) def user(): &quot;&quot;&quot; exposes: http://..../[app]/default/user/login http://..../[app]/default/user/logout http://..../[app]/default/user/register http://..../[app]/default/user/profile http://..../[app]/default/user/retrieve_password http://..../[app]/default/user/change_password use @auth.requires_login() @auth.requires_membership('group name') @auth.requires_permission('read','table name',record_id) to decorate functions that need access control &quot;&quot;&quot; return dict(form=auth()) def download(): &quot;&quot;&quot; allows downloading of uploaded files http://..../[app]/default/download/[filename] &quot;&quot;&quot; return response.download(request,db) def call(): &quot;&quot;&quot; exposes services. for example: http://..../[app]/default/call/jsonrpc decorate with @services.jsonrpc the functions to expose supports xml, json, xmlrpc, jsonrpc, amfrpc, rss, csv &quot;&quot;&quot; session.forget() return service() [It's All Text!] [It's All Text!] 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 # -*- coding: utf-8 -*- ######################################################################### ## This is a samples controller ## - index is the default action of any application ## - user is required for authentication and authorization ## - download is for downloading files uploaded in the db (does streaming) ## - call exposes all registered services (none by default) ######################################################################### from reportlab.platypus import * from reportlab.lib.styles import getSampleStyleSheet from reportlab.rl_config import defaultPageSize from reportlab.lib.units import inch, mm from reportlab.lib.enums import TA_LEFT, TA_RIGHT, TA_CENTER, TA_JUSTIFY from reportlab.lib import colors from uuid import uuid4 from cgi import escape import os ###{{{ Bani from gluon.contrib.fpdf import FPDF def pdfexp(): pdf=FPDF() pdf.add_page() pdf.set_font('Arial','B',16) pdf.cell(40,10,'احمد الباني') pdf.output('tuto1.pdf','F') return response.stream(open('tuto1.pdf')) def report(): response.title = &quot;web2py sample report&quot; # include a google chart (download it dynamically!) url = &quot;http://chart.apis.google.com/chart?cht=p3&amp;chd=t:60,40&amp;chs=500x200&amp;chl=Hello|World&amp;.png&quot; chart = IMG(_src=url, _width=&quot;250&quot;,_height=&quot;100&quot;) # create a small table with some data: rows = [THEAD(TR(TH(&quot;Key&quot;,_width=&quot;70%&quot;), TH(&quot;Value&quot;,_width=&quot;30%&quot;))), TBODY(TR(TD(&quot;Hello&quot;),TD(&quot;60&quot;)), TR(TD(&quot;World&quot;),TD(&quot;40&quot;)))] table = TABLE(*rows, _border=&quot;0&quot;, _align=&quot;center&quot;, _width=&quot;50%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # create a custom class with the required functionalities class MyFPDF(FPDF, HTMLMixin): def header(self): &quot;hook to draw custom page header (logo and title)&quot; logo=os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo_pb.png&quot;) self.image(logo,10,8,33) self.set_font('Arial','B',15) self.cell(65) # padding self.cell(60,10,response.title,1,0,'C') self.ln(20) def footer(self): &quot;hook to draw custom page footer (printing page numbers)&quot; self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # create a page and serialize/render HTML objects pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) pdf.write_html(str(XML(CENTER(chart), sanitize=False))) # prepare PDF to download: response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(chart=chart, table=table) ###}}} #try: # from gluon.contrib.pyfpdf import FPDF, HTMLMixin # # class MyFPDF(FPDF, HTMLMixin): # pass # pdf=MyFPDF() #First page # pdf.add_page() #pdf.write_html(str(XML(chart, sanitize=False))) #print(XML(chart, sanitize=False)) #print(XML(table, sanitize=False)) ##pdf.write_html(str(XML(table, sanitize=False))) # response.headers['Content-Type']='application/pdf' # response.write(pdf.output(dest='S')) #except: # raise ##raise HTTP(405,'no pdf') def get_me_a_pdf(): # Begin with regular font pdf.add_font('Amiri', '', 'amiri-regular.ttf', uni=True) pdf.Write(5,'Visit '); # Then put a blue underlined link pdf.SetTextColor(0,0,255); pdf.Write(5,'www.fpdf.org','http://www.fpdf.org'); title = &quot;احمد باني&quot; heading = &quot;First Paragraph&quot; text = 'bla '* 10000 styles = getSampleStyleSheet() tmpfilename=os.path.join(request.folder,'private',str(uuid4())) doc = SimpleDocTemplate(tmpfilename) story = [] story.append(Paragraph(escape(title),styles[&quot;Title&quot;])) story.append(Paragraph(escape(heading),styles[&quot;Heading2&quot;])) story.append(Paragraph(escape(text),styles[&quot;Normal&quot;])) story.append(Spacer(1,2*inch)) doc.build(story) data = open(tmpfilename,&quot;rb&quot;).read() os.unlink(tmpfilename) response.headers['Content-Type']='application/pdf' return data def get_me_a_pyfpdf(): title = &quot;This The Doc Title&quot; heading = &quot;First Paragraph&quot; text = 'bla '* 10000 pdf=FPDF() pdf.add_page() pdf.set_font('Times','B',15) pdf.cell(w=210,h=9,txt=title,border=0,ln=1,align='C',fill=0) pdf.set_font('Times','B',15) pdf.cell(w=0,h=6,txt=heading,border=0,ln=1,align='L',fill=0) pdf.set_font('Times','',12) pdf.multi_cell(w=0,h=5,txt=text) response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') def report(): response.title = &quot;web2py sample report&quot; # include a google chart! url = &quot;http://chart.apis.google.com/chart?cht=p3&amp;chd=t:60,40&amp;chs=250x100&amp;chl=Hello|World&amp;.png&quot; chart = IMG(_src=url, _width=&quot;250&quot;,_height=&quot;100&quot;) # create a small table with some data: rows = [THEAD(TR(TH(&quot;Key&quot;,_width=&quot;70%&quot;), TH(&quot;Value&quot;,_width=&quot;30%&quot;))), TBODY(TR(TD(&quot;Hello&quot;),TD(&quot;60&quot;)), TR(TD(&quot;World&quot;),TD(&quot;40&quot;)))] table = TABLE(*rows, _border=&quot;0&quot;, _align=&quot;center&quot;, _width=&quot;50%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # create a custom class with the required functionalities class MyFPDF(FPDF, HTMLMixin): def header(self): &quot;hook to draw custom page header&quot; logo=os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo_pb.png&quot;) self.image(logo,10,8,33) self.set_font('Arial','B',15) self.cell(65) # padding self.cell(60,10,response.title,1,0,'C') self.ln(20) def footer(self): &quot;hook to draw custom page header (printing page numbers)&quot; self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # create a page and serialize/render HTML objects pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) pdf.write_html(str(XML(CENTER(chart), sanitize=False))) # prepare PDF to download: response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(chart=chart, table=table) def listing(): response.title = &quot;web2py sample listing&quot; # define header and footers: head = THEAD(TR(TH(&quot;Header 1&quot;,_width=&quot;50%&quot;), TH(&quot;Header 2&quot;,_width=&quot;30%&quot;), TH(&quot;Header 3&quot;,_width=&quot;20%&quot;), _bgcolor=&quot;#A0A0A0&quot;)) foot = TFOOT(TR(TH(&quot;Footer 1&quot;,_width=&quot;50%&quot;), TH(&quot;Footer 2&quot;,_width=&quot;30%&quot;), TH(&quot;Footer 3&quot;,_width=&quot;20%&quot;), _bgcolor=&quot;#E0E0E0&quot;)) # create several rows: rows = [] for i in range(1000): col = i % 2 and &quot;#F0F0F0&quot; or &quot;#FFFFFF&quot; rows.append(TR(TD(&quot;Row %s&quot; %i), TD(&quot;something&quot;, _align=&quot;center&quot;), TD(&quot;%s&quot; % i, _align=&quot;right&quot;), _bgcolor=col)) # make the table object body = TBODY(*rows) table = TABLE(*[head,foot, body], _border=&quot;1&quot;, _align=&quot;center&quot;, _width=&quot;100%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # define our FPDF class (move to modules if it is reused frequently) class MyFPDF(FPDF, HTMLMixin): def header(self): self.set_font('Arial','B',15) self.cell(0,10, response.title ,1,0,'C') self.ln(20) def footer(self): self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # first page: pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(table=table) def import_csv(): from gluon.contrib.pyfpdf import Template f = Template() f.parse_csv(infile=&quot;/home/reingart/web2py/gluon/contrib/pyfpdf/invoice.csv&quot;, delimiter=&quot;;&quot;, decimal_sep=&quot;,&quot;) for v in f.fields.elements(): v['align']= {'I':'L','D':'R','C':'C','':''}.get(v['align'], 'L') v['pdf_template_id'] = 1 db.pdf_element.insert(**v) def invoice(): from gluon.contrib.pyfpdf import Template import os.path # generate sample invoice (according Argentina's regulations) import random from decimal import Decimal # read elements from db elements = db(db.pdf_element.pdf_template_id==1).select(orderby=db.pdf_element.priority) f = Template(format=&quot;A4&quot;, elements = elements, title=&quot;Sample Invoice&quot;, author=&quot;Sample Company&quot;, subject=&quot;Sample Customer&quot;, keywords=&quot;Electronic TAX Invoice&quot;) detail = &quot;Lorem ipsum dolor sit amet, consectetur. &quot; * 5 items = [] for i in range(1, 30): ds = &quot;Sample product %s&quot; % i qty = random.randint(1,10) price = round(random.random()*100,3) code = &quot;%s%s%02d&quot; % (chr(random.randint(65,90)), chr(random.randint(65,90)),i) items.append(dict(code=code, unit='u', qty=qty, price=price, amount=qty*price, ds=&quot;%s: %s&quot; % (i,ds))) # divide and count lines lines = 0 li_items = [] for it in items: qty = it['qty'] code = it['code'] unit = it['unit'] for ds in f.split_multicell(it['ds'], 'item_description01'): # add item description line (without price nor amount) li_items.append(dict(code=code, ds=ds, qty=qty, unit=unit, price=None, amount=None)) # clean qty and code (show only at first) unit = qty = code = None # set last item line price and amount li_items[-1].update(amount = it['amount'], price = it['price']) obs=&quot;\n&lt;U&gt;Detail:&lt;/U&gt;\n\n&quot; + detail for ds in f.split_multicell(obs, 'item_description01'): li_items.append(dict(code=code, ds=ds, qty=qty, unit=unit, price=None, amount=None)) # calculate pages: lines = len(li_items) max_lines_per_page = 24 pages = lines / (max_lines_per_page - 1) if lines % (max_lines_per_page - 1): pages = pages + 1 # completo campos y hojas for page in range(1, pages+1): f.add_page() f['page'] = 'Page %s of %s' % (page, pages) if pages&gt;1 and page&lt;pages: s = 'Continues on page %s' % (page+1) else: s = '' f['item_description%02d' % (max_lines_per_page+1)] = s f[&quot;company_name&quot;] = &quot;Sample Company&quot; f[&quot;company_logo&quot;] = os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo.png&quot;) f[&quot;company_header1&quot;] = &quot;Some Address - somewhere -&quot; f[&quot;company_header2&quot;] = &quot;http://www.example.com&quot; f[&quot;company_footer1&quot;] = &quot;Tax Code ...&quot; f[&quot;company_footer2&quot;] = &quot;Tax/VAT ID ...&quot; f['number'] = '0001-00001234' f['issue_date'] = '2010-09-10' f['due_date'] = '2099-09-10' f['customer_name'] = &quot;Sample Client&quot; f['customer_address'] = &quot;Siempreviva 1234&quot; # print line item... li = 0 k = 0 total = Decimal(&quot;0.00&quot;) for it in li_items: k = k + 1 if k &gt; page * (max_lines_per_page - 1): break if it['amount']: total += Decimal(&quot;%.6f&quot; % it['amount']) if k &gt; (page - 1) * (max_lines_per_page - 1): li += 1 if it['qty'] is not None: f['item_quantity%02d' % li] = it['qty'] if it['code'] is not None: f['item_code%02d' % li] = it['code'] if it['unit'] is not None: f['item_unit%02d' % li] = it['unit'] f['item_description%02d' % li] = it['ds'] if it['price'] is not None: f['item_price%02d' % li] = &quot;%0.3f&quot; % it['price'] if it['amount'] is not None: f['item_amount%02d' % li] = &quot;%0.2f&quot; % it['amount'] if pages == page: f['net'] = &quot;%0.2f&quot; % (total/Decimal(&quot;1.21&quot;)) f['vat'] = &quot;%0.2f&quot; % (total*(1-1/Decimal(&quot;1.21&quot;))) f['total_label'] = 'Total:' else: f['total_label'] = 'SubTotal:' f['total'] = &quot;%0.2f&quot; % total response.headers['Content-Type']='application/pdf' return f.render('invoice.pdf', dest='S') def index(): &quot;&quot;&quot; example action using the internationalization operator T and flash rendered by views/default/index.html or views/generic.html &quot;&quot;&quot; response.flash = T('Welcome to web2py') return dict(message=T('Hello World')) def user(): &quot;&quot;&quot; exposes: http://..../[app]/default/user/login http://..../[app]/default/user/logout http://..../[app]/default/user/register http://..../[app]/default/user/profile http://..../[app]/default/user/retrieve_password http://..../[app]/default/user/change_password use @auth.requires_login() @auth.requires_membership('group name') @auth.requires_permission('read','table name',record_id) to decorate functions that need access control &quot;&quot;&quot; return dict(form=auth()) def download(): &quot;&quot;&quot; allows downloading of uploaded files http://..../[app]/default/download/[filename] &quot;&quot;&quot; return response.download(request,db) def call(): &quot;&quot;&quot; exposes services. for example: http://..../[app]/default/call/jsonrpc decorate with @services.jsonrpc the functions to expose supports xml, json, xmlrpc, jsonrpc, amfrpc, rss, csv &quot;&quot;&quot; session.forget() return service() restore currently saved or revert to previous version. Key bindings Ctrl+SSave via Ajax Ctrl+F11Toggle Fullscreen Ctrl-F / Cmd-FStart searching Ctrl-G / Cmd-GFind Next Shift-Ctrl-G / Shift-Cmd-GFind Previous Shift-Ctrl-F / Cmd-Option-FReplace Shift-Ctrl-R / Shift-Cmd-Option-FReplace All Powered by web2py™ created by Massimo Di Pierro ©2007-2013 - Admin language " />
  <RDF:Description RDF:about="urn:scrapbook:item20130524055310#index"
                   NS1:folder="urn:scrapbook:item20130523104421"
                   NS1:content=" apt-cache search xfce4 " />
  <RDF:Description RDF:about="urn:scrapbook:item20130524043318#index"
                   NS1:content=" ﻿﻿ Jeddah Saudi Arabia Accurate Prayer Times أوقات الصلاة , Qiblah, Qibla اتجاه القبلة Mosques (Masjids), Islamic Centers, Organizations and Muslim Owned Businesses, Athan Azan Adhan Salah Salat Software Sahor Sahar Imsak Iftar Starting Fast Breaking Fast Ramazan Ramzan Ramdan Ramadan 2013 worldwide. Sunrise Sunset Latitude Longitude Fajr Dhuhr Asr Maghrib Isha Muslim Prayer Times, Islamic Prayer times, Namaz Salat, 1432 Ramadan 2013, Namaz Times, Salat Prayer Timetable, Ramadan Timings, Ramadan Timetable, Namaz/Namaaz Timings worldwide, whole world, global Athan Software Athan Software Mobile Athan Mobile Athan SMS Prayer Times SMS Prayer Times Islamic Screen Savers Islamic Screen Savers Islamic Wallpapers Islamic Wallpapers USA USA Canada Canada Other Countries Other Countries Add Prayer Times to Your Site Add Prayer Times to Your Site Add Masjid or Islamic Center Add Masjid or Islamic Center MyMasjid Customization Form MyMasjid Customization Form Directory Map Directory Map Add Directory to Your Site Add Directory to Your Site Download Athan Software Download Athan Software Hajj &amp; Umrah Hajj &amp; Umrah Islamic Desktop Wallpapers Islamic Desktop Wallpapers Download Screensavers Download Screensavers The Glorious Quran The Glorious Quran Prophet's Biography Prophet's Biography Supplications Supplications Quran Broadcasting Quran Broadcasting My Masjid My Masjid Listen to Athan Listen to Athan Enhance Your Website Enhance Your Website Promote IslamicFinder Promote IslamicFinder Hijri Calendar Hijri Calendar Date Conversion Date Conversion Special Islamic Dates Special Islamic Dates Add Calendar to Your Site Add Calendar to Your Site Articles Articles FAQs About Islam FAQs About Islam The Glorious Quran The Glorious Quran Prophet's Biography Prophet's Biography Supplications Supplications How to Pray? How to Pray? Hajj &amp; Umrah Hajj &amp; Umrah Quran Broadcasting Quran Broadcasting IslamicFinder Home Prayer Times for 6 Million Cities,Towns and Villages Download Athan (Azan) Software Islamic web directory covering Islam, Quran, Hadith, Fiqh and Fatawa, Muslim Family, Education, etc. Articles List Hijri Calendar Islamic Photo Gallery عربي 24 May, 2013 Friday 14 Rajab, 1434 | Affiliate | Guest Book | FaceBook | Contact us ﻿ Jeddah, Saudi Arabia Prayer Times (State: Makkah) Prayer Schedule May / 2013 Date Day Fajr Sunrise Dhuhr Asr Maghrib Isha 23 Thu 4:17 5:41 12:20 3:36 6:59 8:29 24 Fri 4:16 5:41 12:20 3:36 6:59 8:29 25 Sat 4:16 5:41 12:21 3:35 6:59 8:29 26 Sun 4:15 5:41 12:21 3:35 7:00 8:30 27 Mon 4:15 5:40 12:21 3:35 7:00 8:30 28 Tue 4:15 5:40 12:21 3:35 7:01 8:31 29 Wed 4:14 5:40 12:21 3:36 7:01 8:31 Monthly/Annual Schedule FREE Mobile Athan having Jeddah prayer times for Cell Phone 97.610722 (From North Clockwise) Qiblah Details &amp; Qiblah Map Kabah is 39.84 miles away Qiblah direction using the sun shadow (Most Accurate Method) Latitude: 21.5169 Longitude: 39.2192 Juristic Method: Standard Calculation Method: Umm Al-Qura Click Here To Change Allah says: &quot;But there came after them an evil generation, who neglected prayers and followed sensual desires, so they will be thrown in Hell.&quot; 19/59 Receive Jeddah Prayer Times SMS on your Cell/Mobile Phone Now! Search another city: (Saudi Arabia) Download FREE Athan (Azan, Adhan) software for Jeddah, Makkah, Saudi Arabia to hear Automatic Athan on every prayer time in your Computer. Islamic Places in Jeddah, Saudi Arabia Add Here Masjids, Islamic Centers and Muslim Owned Businesses جامعة الملك عبد العزيز, Jeddah URL: www.kau.edu.sa Phone: 1268411 AL-SAIDA AMENA ZAHED MOSQUE, Jeddah, Makkah Phone: 0597291941 ELAF TRAVEL AND TOURISM, Jeddah, Jeddah URL: www.elaftours.com Phone: 9662-6690603 AL-NASER TRAVEL, TOUR &amp; UMRAH CO., Jeddah Phone: +966-507413044 Jeddah Dawah Center (JDC), Jeddah, Jeddah URL: www.jdci.org Phone: 9662-6828888 Ext 100 Bugshan Mosque, Jeddah Phone: 6633645-9662 Hajeej for Umrah &amp; Haj Services, Jeddah URL: www.hajeej.biz Phone: 966-2 6040985 Masjid Al-Raza, Jeddah Int'l. Association for New Muslims الهيئة العالمية للمسلمين الجدد, Jeddah URL: www.4newmuslims.org Phone: 966-2 6608622 Desert Store Islamic Clothing, Jeddah, Saudi Arabia URL: www.desertstore.com Phone: +9662-227-4302 More Other Cities in Saudi Arabia having Islamic Centers Email Subscription Email: Get monthly prayer times every month for Jeddah by email FREE. Neighboring Cities within: ﻿ Text Advertisements Connect with the Qur'an New video series reveals how to read Arabic in 21 days. www.FreeArabicReport.com Super Value China Tour Muslim special offer, 2013 Halal friendly tour packages. www.Muslim2China.com Easy Learning Arabic Proven Learning Techniques. For Kids &amp; Adults. Buy Now! www.ArabianSinbad.com ﻿ ﻿ Text Advertisements FREE ARABIC LESSONS New video series reveals how to read Arabic in 21 days. www.FreeArabicReport.com Super Value China Tour Muslim special offer, 2013 Halal friendly tour packages. www.Muslim2China.com Easy Learning Arabic Proven Learning Techniques. For Kids &amp; Adults. Buy Now! www.ArabianSinbad.com Text Advertisements Cheap International Calls FREE mins! NO FEES. Pinless Call Instantly. Manage Online www.MiniCalls.com Athan (Azan) Software Hear automatic Athan (Azan) five times a day in your computer. www.islamicfinder.org Athan Software for Mobile Phone Hear Automatic Athan (Azan) in your phone on Prayer Time. www.islamicfinder.org/mobile/ Monthly Prayer Times Subscription (Email): Search Islamic Web Directory: Download Athan (Azan) Software Prayer Times: Disclaimer | Contact us | Add new services to your site | Tell a friend | Help | Advertise with us | About Us | FaceBook | Download Athan (Azan) Software for iPhone / iPad / iPod touch | Android | Computers Desktop / Laptop | Mobile Phones Copyright © 2013 IslamicFinder.org. All rights reserved. Developed by Wasat Alnaseej Map: Zoom In Zoom Out "
                   NS1:folder="urn:scrapbook:item20130523104421" />
  <RDF:Description RDF:about="urn:scrapbook:item20130524055901#index"
                   NS1:folder="urn:scrapbook:item20130523104421"
                   NS1:content=" Debian Wiki Login FrontPage RecentChanges FindPage HelpContents DebianDesktopHowTo Search: Debian Wiki/ Immutable Page Comments Info Attachments DebianDesktopHowTo Translation(s): English - Italiano This is a community-maintained list of things to do in order to get an appealing DebianDesktop installation. If you have any additions, you should keep this page up to date. If you are able to integrate things into Debian, please help to shorten the list. Select Appropriate Debian Release Refer to Debian Releases for more information about the Debian versions, but the following ideas may guide your decision. Using (released) stable versions + security updates and selected newer backport packages? (a full distribution upgrade is made available about every two years) Choose Debian Stable if you want the computer to just work for a prolonged period of time, without the risk of new packages breaking your habits or workflow. You may still install more recent versions of selected packages, e.g. from the Debian Backports and Debian Mozilla team repositiories, to get newer versions of specific programs and to always use a current web browser. Using rolling (recent) testing package versions? (distributed for public testing) If it is important to you to have recent versions of all the installed software continuously rolling onto your desktop or laptop, and you are fine with constantly downloading and installing updates that may stir up a bug every once in a while, you may choose Debian Testing. Using rolling (currently new) unstable package versions? (they just made it out of the Debian developer &quot;labs&quot;) Well, if you are sure you really need this for all the installed packages, you should learn about Debian &quot;Sid&quot;. Downloading Please refer to the Firmware Page to determine if and how you may need to download firmware for a successfull installation. Official installation images are available from the Debian download page. Select a Desktop Environment To select the desktop environment that the debian-installer installs, enter &quot;Advanced options&quot; on the boot screen and scroll down to &quot;Alternative desktop environments&quot;. Otherwise, debian-installer will choose GNOME. KDE is of course a renown heavy alternative. Xfce is a fast and light alternative, and especially suited if you were using GNOME 2 and find GNOME 3 disappointing. For older computers, consider using LXDE or Xfce, because they are less resource-hungry than GNOME or KDE. Or, you may choose e17 (Enlightenment), a new candidate that also features a touchscreen mode. Installing System To use sudo and your regular password for system administration, leave the root password empty during installation. There is a neat universal partitioning scheme you can set up, especially if you have an SSD, may want redundant drives, or want to keep laptop drives spun down to lower noise and power consumption. Find it together with instructions on how to minimize disk writes as at SSD Optimizations. Bug 653760 - The audio group must not have any members, otherwise consolekit won't adjust audio permissions (ACLs) when switching between users. To get the correct umask that leverages the private user groups (see group dirs below), you need to configure the umask adaption in /etc/pam.d/common-session manually until the bug 646692 is fixed: echo &quot;session optional pam_umask.so usergroups&quot; &gt;&gt; /etc/pam.d/common-session Note that the GNOME display manager (gdm) overrides the system's default umask. Thus, if you use gdm you may try to fix it, or just install another dm like kdm, slim, or LightDM. &quot;Green&quot; or laptop harddisk models often suffer from parking/unparking their heads every 10 seconds or so, causing excessive wear. Check 'smartctl -a /dev/sdX' to see your current Load_Cycle_Count. As a countermeasure, install laptop-mode-tools and set CONTROL_HD_POWERMGMT=1 in /etc/laptop-mode.conf (sets &quot;hdparm -B 254&quot; on AC to stop those clicks). Alternatively, you may be able to set the hard drives's head parking idle timeout to something like 1-3 minutes, or to disable the timeout altogether on NON-mobile devices (idle3-tools), have a process generate more frequent disk activity as long as it sees other activity (https://code.google.com/p/wdsaver), or hunt down and eliminate the source of the periodic disk accesses (probably log messages). Check that /etc/aliases contains a root: &lt;mail-user&gt; line that forwards mail directed at the root user to your own user account, and execute &quot;sudo newaliases&quot; if changes were necessary. (And set up your mail program to check your local mailbox under /var/mail/. To monitor harddrive health staus, install smartmontools and smart-notifier, then set &quot;start smartd = yes&quot; in /etc/default/smartmontools. Maybe consider using AppArmor / Tomoyo and separate sub-users to confine browsers, email clients, etc. Enable users to create (windows/cifs) network shares Install samba (if not present already), then &quot;sudo adduser &lt;username&gt; sambashare&quot; to allow &lt;username&gt; to create file shares. To avoid that samba creates files as the reserved user &quot;nobody&quot; (who should never own any files on the system), create a &quot;sambaguest&quot; user and add the following to the global section of /etc/samba/smb.conf: guest account = sambaguest To ensure that files created by samba guests are locally accessible, add this to the global section of /etc/samba/smb.conf: inherit permissions = yes Also remember to &quot;chmod g+s&quot; the directories of writable shares to be setguid dirs and set their read/write permissions according to the allowed samba users (i.e. publicly to enable guest access). (Bug Debian 678834) The &quot;inherit permissions = yes&quot; option lets samba create files with the permissions of the containing directory (but x bits are still mapped to the Windows' system flags: archive, hidden). If your router does not resolve local hostnames correctly, and your ISPs DNS servers respond with false IPs instead of returning &quot;unknown&quot;, also enable the &quot;name resolve order&quot; line (remove the &quot;;&quot;) and move &quot;host&quot; to the end of the list. (Locally Shared) Group Directories With the umask correction from above, plus some default skeleton directories, Debian can easily provide a really nice out-of-the-box user collaboration experience: users can simply collaborate on files, pictures, documents, etc. on multi-user systems (e.g. family PCs, servers etc.) in their group directories. Out of the box, the default group &quot;users&quot; allows all users to collaborate on files in /home/users; for finer grained collaboration, you can set up additional user groups. See the UserPrivateGroups (UPG) wiki page for details and MultiUserManagement Web Browser For a recent and still maintained version of a mozilla browser, you need to enable the &quot;release&quot; source from mozilla.debian.net. For secure and sane browsing, install the following extensions with the Debian package manager: xul-ext-noscript (clean companies from default whitelist), xul-ext-adblock-plus (disable its default whitelist), xul-ext-cookie-monster, xul-ext-https-everywhere, xul-ext-useragentswitcher (set genericly), and xul-ext-refcontrol (set to block). Disable third-party cookies, enable deletion of cookies when closing the browser (or disable all cookies), and delete all the cookies you were already fed with against your independence. The add-ons HTTPS-Finder and RequestPolicy (remove the companies it sneaks into your whitelist) may only be available through the Add-ons download. If you need to use the flashplugin-nonfree, it is in the non-free repository, and consider installing the betterprivacy extension. Stop the browser from sending Google a hash of every site you visit (ready to be added to your hashed browsing track) by disabling the options flagged as &quot;block reported forgery and attack sites&quot; in the security properties. Disable the search engine &quot;support&quot; and of course the custom Google startpage, to prevent the browser from connecting there everytime you start the browser or search something and identifying you reliably in the process. See https://panopticlick.eff.org to find out how generic your fingerprint on the web really is, and monitor your firewall logs to even get to know the strange places your computer connects to. Consider BFilter. http://bfilter.sourceforge.net (newer packages: http://wiki.ubuntuusers.de/bfilter) Additional packages you may want to install Use apt-get install &lt;packagename&gt;, or the synaptic package manager to find, select and install the following packages: firmware-linux* (from non-free repository may be needed even to install with certain hardware) synaptic (not included with the Xfce desktop) preload (will preload often used programms into ram) mc (midnight commander, a console filemanager) a ssh-askpass package (lets ssh use a graphical password prompt window when run under X) geeqie (fast picture viewer) vlc, browser-plugin-vlc, freetuxtv (video player) parcellite or clipit (lightweight clipboard manager) autokey (keyboard shortcuts) zim (mangaging notes) + scrot (for screenshot plugin) Put &quot;zim --plugin trayicon&quot; in autostart. (e.g. on SSDs autosave after ten minutes instead of 10 seconds: ~/.config/zim/preferences.conf: autosave_timeout=600) goldendict-worldnet (english dictionary, and trans-de-en current selection with hotkey) ding + trans-de-en + agrep (translations) backintime (backup program) User Set up checking of the local /var/mail/&lt;user&gt; mailbox (e.g. add a mail notification icon to the panel). Depending on the chosen desktop environment, your habit and the strain on your fingers, you may have to enable/disable single-click file opening in the file browser's preferences. If you need a specific program that is not in the repositories, or installed stable and need a more recent version of a program, refer to DebianSoftware. If you want to adjust system-wide defaults for all users, refer to DesktopDefaultSettings. Desktop Specific Adaptions GNOME To create network shares with Nautilus, install package &quot;nautilus-share&quot;. To enable the greyed &quot;Password: not asked at login&quot; option for users in System &gt; Administration &gt; Users and Groups (Needed for (guest) account switching in addition to auto login.): Create the nopasswdlogin group, sudo addgroup --system nopasswdlogin and add the following to gdm's pam config in /etc/pam.d/gdm: auth sufficient pam_succeed_if.so user ingroup nopasswdlogin Make sure this line goes right before the &quot;@include common-auth&quot; line. You can use &quot;sudo adduser &lt;user&gt; nopasswdlogin&quot; to add a user to the group. Xfce For network browsing in the thunar filemaneger, install gvfs-backends and gvfs-fuse, and add your users to the &quot;fuse&quot; group (sudo adduser &lt;user&gt; fuse). Thunar is missing a plugin to create network shares (bug 672539). Workaround: define custom actions (adjust the permissions (setguid) according to the samba section above). Install Catfish to be able to search for files. You can get rid of the space-consuming &quot;dock&quot; thing at the bottom by adding the desired starters to Panel 1 and deleting Panel 2 in the Pannel settings. To move a panel to another location on the desktop, you need to &quot;unlock&quot; it in the panel settings. For passwordless user swiching, you may create and enable a nopasswdlogin group as described for GNOME, if you are using gdm (the default). Wheezy's Xfce version does not yet have a dialog to enable touchpad-tapping clicks, you need to add an autostart item that executes the following: /usr/bin/synclient TapButton1=1 PalmDetect=1 If you need to configure (multiple) monitors and their settings, install &quot;arandr&quot;. It allows to save the screenlayout to a .sh file that can be called from an autostart item. If you want more graphical configuration tools, you may install gnome-disk-utility (palimpsest) and &quot;apt-get --no-install-recommends install gnome-system-tools&quot;. As a photo manager, maybe install Shotwell. Finally ...have fun! And if you encounter bugs, search the Internet, if the bug is not already filed, find the appropriate package and file a bug against it. If it concerns Debian, you can use the &quot;reportbug&quot; utility for that. You can create a backup of your complete system installation state with apt-clone. CategoryQuickInstall DebianDesktopHowTo (last edited 2013-05-12 19:08:19 by ChristianAnders) MoinMoin Powered Python Powered Valid HTML 4.01 Debian Wiki team, bugs and config available. Hosting provided by Dembach Goo Informatik GmbH &amp; Co KG " />
  <RDF:Description RDF:about="urn:scrapbook:item20130524055650#index"
                   NS1:folder="urn:scrapbook:item20130523104421"
                   NS1:content=" Next Previous Contents LILO mini-HOWTO Miroslav &quot;Misko&quot; Skoric, skoric at eunet dot rs v3.39, 2010-07-18 LILO is the most used Linux Loader for the x86 flavor of Linux; I'll call it Lilo rather than LILO here because I don't appreciate uppercase. This file describes some typical Lilo installations. It's intended as a supplement to the Lilo User's Guide. I think examples are informative even if your setup isn't much like mine. I hope this saves you trouble. Since Lilo's own documentation is very good, who's interested in the details is referred to /usr/doc/lilo* (once upon a time said gentlemen like Cameron Spitzer and Alessandro Rubini who have made early versions of this document) This version of Lilo mini-HOWTO is based on work of Cameron Spitzer (cls@truffula.sj.ca.us) and Alessandro Rubini (rubini@linux.it). There are also contributions from Tony Harris (tony@nmr.mgh.harvard.edu) and Marc Tanguy (mtanguy@ens.uvsq.fr). Well, I have used materials from the authors mentioned - without changes - and added some pointers related to configuring LILO for using with Windows NT and Windows 2000. More detailed information about the activation of Windows NT/2000 from LILO menu, you may find in wonderfull Linux+WindowsNT mini-HOWTO. 1. Introduction 2. Background Information and Standard Installation 2.1 Where Should I Install Lilo? 2.2 How Should I Configure my IDE Hard Drives? 2.3 How Can I Interact at Boot Time? 2.4 How Can I Uninstall Lilo? 2.5 How to make a ram disk? 3. The Simple Configuration 3.1 How to Deal with Big Kernels 3.2 How to boot Windows NT from 'LILO boot:' menu 3.3 How to boot Windows 2000 from 'LILO boot:' menu 4. Installing hdc to Boot as hda and Using bios= 5. Using Lilo When the BIOS Can't See the Root Partition 6. How do i know the BIOS number for my SCSI disks 6.1 The theory 6.2 How to swap linux and NT booting ? 6.3 Miscellaneous 7. Accessing Huge Disks When the BIOS Can't 8. Booting from a Rescue Floppy 9. LILO after the installation of Mandrake Linux 9.1 on HP products 9.1 Description of the products used in this experiment 9.2 What does LILO looks like on these HP products 9.3 Conclusions 10. Bibliography 11. Further Information 11.1 Copyright 11.2 Disclaimer 11.3 News 11.4 Credits 11.5 HOWTO 11.6 Mini-HOWTO 11.7 Local Resources 11.8 Web Pages 12. Getting help Next Previous Contents " />
  <RDF:Description RDF:about="urn:scrapbook:item20130528183128#index"
                   NS1:folder="urn:scrapbook:root"
                   NS1:content=" Xfce Wiki Sub domains Home Docs Archive Wiki Forum Bugs Blog Translate GIT Site Tools Translations of this page?: Show pagesourceOld revisionsBacklinksRecent changesMedia ManagerSitemapLoginRegister You are here: start » tips +Table of Contents Tips &amp; Tricks Customize the font in clock panel plugin Performance Tips Fonts Background Color How to use the alternative GNOME-menu Gtkrc files How to add or remove applications in the system menu How to customize starting Xfce Starting with showing the Root Window Use the desktop margin Handle acpi event for power button, show Xfce logout options Solution 1 Solution 2 Use mnemonics to create Thunar Custom Actions Accessing man pages through xfrun4 Other Unique Xfce Features Add newlines to a panel Tips &amp; Tricks This page contains various tips for the Xfce desktop environment. Customize the font in clock panel plugin You can use Pango markup format to customize the font in clock panel plugin. Switch to custom format (only available with digital layout) and use tags inside the format string. For example: &lt;span font_desc=&quot;URW Gothic L Book 18&quot;&gt;%R&lt;/span&gt; &lt;span font_desc=&quot;bold 12&quot;&gt;%R&lt;/span&gt; Performance Tips Lets face it: one of the reasons for using Xfce is performance. It is lighter and more responsive than Gnome on almost all hardware, especially on machines with less memory and processor power. Fonts Fonts play a huge part in GUI performance. With all of the font smoothing, hinting and rendering turned on, you may notice significant latency when menus or dialog boxes appear. When you turn all of these off, menus and dialog boxes will appear much faster (snappy in fact). Scrolling will also improve in web browsers, text editors, and terminal emulators. The only problem with turning off hinting/antialising is ugly fonts. On a laptop LCD, I recommend the “Kochi Gothic” font from 9 points and larger. “Helvetica” at 9 points and “Luxi Sans” also gives a clean look. Also, using “Verdana” at 9+ points with only anti-aliasing turned on(no hinting or sub-pixel hinting) looks very slick, however it may appear a little bold. Other font recommendations are welcome! Using the Fixed font (12+) looks nice on a crt monitor works nicely for me. it is easy to read and i don't need to use anti-aliasing. it looks good and runs fast! Background Color I regularly connect remotely using vncserver, and I always noticed very slow and sluggish response, especially whenever I closed an application window. For example, when closing Firefox, it would take 30 to 60 seconds for the window to close and the system would be completely unresponsive during that time. By changing my background to solid white, all programs (including Firefox) now close within 1 to 2 seconds. Right-click on the desktop and choose Settings then Desktop Settings. Make sure Show Image is UNchecked, and set the Color Style to Solid Color, and then set First Color to white (#FFFFFF). Another option, that may work for some, is to check the options of the program that you are using to connect remotely, and if it has a “Remove Wallpaper” option or a “Do Not Display Wallpaper” option, then enable that option. I use TightVNCviewer and it does not have a Remove Wallpaper option, therefore changing the background color to white is the only solution for me. How to use the alternative GNOME-menu If you want to use the new menu from GNOME, with quick starters for favorites applications and such, you can use the xfapplet panel plugin with the GNOME main menu applet. The menu should be installed with your package system, look for gnome-main-menu. Xfce screenshot, video. Add a new xfapplet item inside your panel, and open its properties dialog to add the GNOME menu applet. If you don't like GNOME main menu, try Ubuntu System Panel, available in several distributions. See also: How to customize the Xfce 4.5+ menu Gtkrc files A tutorial about the Gtkrc format can be found here. Xfce has also a couple of custom gtkrc settings for some of the applications: xfdesktop and Thunar (see also editable shortcuts). You can not define a custom background for Thunar icon/ list views due to a bug in Gtk+ itself. You can define a custom panel background with something like this: # ~/.gtkrc-2.0 style &quot;panel-background&quot; { bg_pixmap[NORMAL] = &quot;foo.bar&quot; bg_pixmap[PRELIGHT] = &quot;foo.bar&quot; bg_pixmap[ACTIVE] = &quot;foo.bar&quot; bg_pixmap[SELECTED] = &quot;foo.bar&quot; bg_pixmap[INSENSITIVE] = &quot;foo.bar&quot; } style &quot;panel-color&quot; { fg[NORMAL] = &quot;#222222&quot; fg[ACTIVE] = &quot;#111111&quot; bg[NORMAL] = &quot;#edeff2&quot; bg[PRELIGHT] = &quot;#3d6eab&quot; bg[ACTIVE] = &quot;#3d6eab&quot; } widget_class &quot;*Panel*&quot; style &quot;panel-background&quot; widget &quot;*PanelWidget*&quot; style &quot;panel-color&quot; widget &quot;*PanelApplet*&quot; style &quot;panel-color&quot; widget &quot;*Panel*&quot; style &quot;panel-color&quot; widget_class &quot;*Panel*&quot; style &quot;panel-color&quot; class &quot;*Panel*&quot; style &quot;panel-color&quot; class &quot;*Tray*&quot; style &quot;panel-color&quot; class &quot;*tray*&quot; style &quot;panel-color&quot; See also those threads in the forum : http://forum.xfce.org/viewtopic.php?id=6169 and http://forum.xfce.org/viewtopic.php?id=6196 How to add or remove applications in the system menu Add an application You have to create a .desktop file (usually in /usr/share/applications for system wide or ~/.local/share/applications for your user) for the application you want to add. In the following example, we create an entry in the menu with the name “foo” in the submenu “Multimedia”: [Desktop Entry] Encoding=UTF-8 Name=foo GenericName=bar Comment=Senseless program ever Exec=foobar Icon=/usr/share/pixmaps/foobar.xpm Terminal=false Type=Application Categories=Multimedia; You can read more about .desktop files here. The libexo provides several utils amongst one to handle desktop entry files in a GUI fashion: exo-desktop-item-edit. With it you can create a new .desktop file, by running the command exo-desktop-item-edit --create-new ;-) Remove an application from the menu You can do this in two ways: First way, and the easier one is to simply remove the .desktop file in the /usr/share/applications/ folder, but you will lose mime data (file associations). The second way is to add this line to the .desktop file: NoDisplay=true How to customize starting Xfce Like most UNIX terminal sessions, Xfce runs through user-customizable startup file when it starts up. You can edit this init file to run your own scripts, send environment variables to the GUI, etc. To add your own startup code, edit the xinitrc file like this: Copy the file /etc/xdg/xfce4/xinitrc to ~/.config/xfce4/ Add your own code to the file. For example, you could start the rxvt-unicode server: source $HOME/.bashrc # start rxvt-unicode server urxvtd -q -o -f You can read more about xinitrc at various locations online. Starting with showing the Root Window xfdesktop –quit save your session Use the desktop margin To set the desktop margins, use the Settings Manager (Settings Manager &gt; Workspaces &amp; Margins &gt; Margins). The desktop margins are used to limit the size of maximized windows. This may be useful to avoid switching workspaces by accidentally mousing off the side of the screen. The margins are also useful if you have only one Xfce panel: the margin area leaves a clear space to pull up application or workspace menus. By default, right click on the desktop (the margin) to show the Xfce menu, or middle (left+right) click to show the workspace menu. The size of the margins is in pixels, so, with a reasonably modern monitor, at a resolution of, say 1680 x 1050, a setting of '10' will give a margin of about 1/8 of an inch. Note that nothing will change on any open window until you minimize and re-maximize it again. Also note that these margins only apply to maximized windows – you can manually resize any window right to the edge of the screen if you want to. Handle acpi event for power button, show Xfce logout options If you would like the xfce logout menu to show up when you press your power button, and your machine has acpi support, then do the following: Solution 1 /etc/acpi/events/powerbtn # /etc/acpi/events/powerbtn # This is called when the user presses the power button and calls # /etc/acpi/powerbtn.sh for further processing. # Optionally you can specify the placeholder %e. It will pass # through the whole kernel event message to the program you've # specified. # We need to react on &quot;button power.*&quot; and &quot;button/power.*&quot; because # of kernel changes. event=button[ /]power action=/usr/local/sbin/xfce4-shutdown-as-user.sh /usr/local/sbin/xfce4-shutdown-as-user.sh #!/bin/sh # xfce4-shutdown-as-user.sh # # Check how many users are currently logged into X. # If only one user is logged in, run a script which sets # up the environment to call xfce4-session-logout. LOGGED_IN_USER=`ls -trl /tmp/.ICE-unix/ | tail -n -1 | cut -d' ' -f3` NUM_X_USERS=`echo $LOGGED_IN_USER | wc -l` if [ $NUM_X_USERS -eq 1 ]; then sudo -H -u $LOGGED_IN_USER /usr/local/sbin/xfce4-user-session-shutdown.sh fi /usr/local/sbin/xfce4-user-session-shutdown.sh #!/bin/sh # xfce4-user-session-shutdown.sh # # Set up the environment so that DISPLAY and # SESSION_MANAGER are valid, and xfce4-session-logout can run HOST=`hostname` SESSION_ID=`ls -t /tmp/.ICE-unix/ | head -n1` # Note that distros use different syntax for the SESSION_MANAGER variable (this script has Debian's format). # If this does not work, then try something like SESSION_MANAGER=&quot;local/$HOST:@/tmp/.ICE-unix/$SESSION_ID&quot; # instead. You can always find the correct format for your distribution by looking at the # value of SESSION_MANAGER in a X session. DISPLAY=:0 SESSION_MANAGER=&quot;local/$HOST:/tmp/.ICE-unix/$SESSION_ID&quot; /usr/bin/xfce4-session-logout Make those scripts executable : chmod +x /usr/local/sbin/xfce4-user-session-shutdown.sh /usr/local/sbin/xfce4-shutdown-as-user.sh Solution 2 Open Settings Manager (or by command : xfce4-settings-manager ) Open Power Manager settings In General : set When power button is pressed to Ask Close Power Manager settings If you have ACPI scripts installed, deactivate or update the power-button script from /etc/acpi/events/, and change the action field to /bin/true: # EXAMPLE event=button/power.* #action=/usr/lib/acpid/power_button action=/bin/true Use mnemonics to create Thunar Custom Actions When you create a Thunar Custom Action you can set the name with an underscore “_” before a letter to use it as mnemonic. When you right click in a Thunar view, you can type the letter to access your custom action. Accessing man pages through xfrun4 Use '#' as a shortcut to open man pages using xfrun4. e.g. #man Other Unique Xfce Features Add newlines to a panel Xfce allows full control over multi-line panel configuratinos, via the Separator component. Simply add a separator to your panel, move it to where you'd like a new line to begin, edit its properties, and change its “style” drop-down to “New Line.” tips.txt · Last modified: 2012/07/23 04:39 by nathanhawks Page Tools Show pagesource Old revisions Backlinks Media Manager Back to top Except where otherwise noted, content on this wiki is licensed under the following license: CC Attribution-Noncommercial-Share Alike 3.0 Unported Copyright 2003-2013 Xfce Development Team. " />
  <RDF:Description RDF:about="urn:scrapbook:item20130524054709#index"
                   NS1:folder="urn:scrapbook:item20130523104421"
                   NS1:content=" Home Packages Forums Wiki Bugs AUR Download Xorg From ArchWiki (Redirected from X11) Jump to: navigation, search Summary An all-inclusive overview about installing and managing Xorg Overview The Xorg project provides an open source implementation of the X Window System – the foundation for a graphical user interface. Desktop environments such as Enlightenment, GNOME, KDE, LXDE, and Xfce provide a complete graphical environment. Various window managers offer alternative and novel environments, and may be used standalone to conserve system resources. Display managers provide a graphical login prompt. Related Start X at Login Execute commands after X start Login Manager Window Manager Font Configuration X11 Cursors Get All Mouse Buttons Working Desktop Environment Wayland Free Video Drivers Intel Graphics ATI Nouveau Proprietary Video Drivers AMD Catalyst NVIDIA Xorg is the public, open-source implementation of the X window system version 11. Since Xorg is the most popular choice among Linux users, its ubiquity has led to making it an ever-present requisite for GUI applications, resulting in massive adoption from most distributions. See the Xorg Wikipedia article or visit the Xorg website for more details. Contents [hide] 1 Installation 2 Running 3 Configuration 3.1 Using split files 3.2 Using single file 4 Input devices 4.1 Touchpad Synaptics 4.2 Disabling input hot-plugging 4.3 Keyboard settings 4.3.1 Key repeat delay and rate 4.3.2 Viewing keyboard settings 4.3.3 Setting keyboard layout with hot-plugging 4.3.4 Setting keyboard layout without hot-plugging (deprecated) 4.3.5 Switching between keyboard layouts 4.3.6 Enable pointerkeys 4.4 InputClasses 4.4.1 Example configurations 4.4.1.1 Example: Wheel emulation (for a Trackpoint) 4.4.1.2 Example: Tap-to-click 4.4.1.3 Example: Keyboard layout and model on Acer 5920G laptop 4.4.1.4 Example: Third button emulation (for all attached mice) 5 Graphics 5.1 Driver installation 5.2 Monitor settings 5.2.1 Getting started 5.2.2 Multiple monitors/Dual screen 5.2.2.1 NVIDIA 5.2.2.2 More than one graphics card 5.2.2.3 Script to toggle internal/external display for laptops 5.2.3 Display Size and DPI 5.2.3.1 Setting DPI manually 5.2.4 DPMS 6 Composite 7 Sample configurations 7.1 Sample 1: xorg.conf &amp; /etc/X11/xorg.conf.d/10-evdev.conf 8 Tips and tricks 8.1 X startup (/usr/bin/startx) tweaking 8.2 Nested X session 8.3 Starting GUI Programs Remotely 8.4 On-Demand Disabling and Enabling of Input Sources 9 Troubleshooting 9.1 Common problems 9.2 Ctrl+Alt+Backspace does not work 9.2.1 With input hot-plugging 9.2.1.1 System-wide 9.2.1.2 User-specific 9.2.2 Without input hot-plugging 9.3 CTRL right key does not work with oss keymap 9.4 Apple keyboard issues 9.5 Touchpad tap-click issues 9.6 Extra mouse buttons not recognized 9.7 X clients started with &quot;su&quot; fail 9.8 Program requests &quot;font '(null)'&quot; 9.9 Frame-buffer mode problems 9.10 DRI with Matrox cards stops working 9.11 Recovery: disabling Xorg before GUI login 9.12 X failed to start : Keyboard initialization failed 9.13 black screen, No protocol specified.., Resource temporarily unavailable for all or some users Installation First, you will need to install the X server with the package xorg-server, available in the Official Repositories. You may also want the useful utilities contained in the xorg-apps group. Udev will detect your hardware and evdev will act as the hotplugging input driver for almost all devices. Udev is provided by systemd and xf86-input-evdev is required by xorg-server, so there is no need to explicitly install those packages. Tip: The default X environment is rather bare, and you will typically seek to install a window manager or a desktop environment to supplement X. Running See also: Start X at Login Tip: The easiest way to start X is by using a display manager such as GDM, KDM or SLiM. If you want to start X without a display manager, install the package xorg-xinit. Optionally, the packages xorg-twm, xorg-xclock and xterm allows for a default environment, as described below. The startx and xinit commands will start the X server and clients (the startx script is merely a front end to the xinit command). To determine the client to run, startx/xinit will first look to parse a ~/.xinitrc file in the user's home directory. In the absence of ~/.xinitrc, it defaults to the global file /etc/X11/xinit/xinitrc, which defaults to starting a basic environment with the Twm window manager, Xclock and Xterm. Note: X must always be run on the same tty where the login occurred, to preserve the logind session. This is handled by the default /etc/X11/xinit/xserverrc. Warning: If you choose to use xinit instead of startx, you are responsible for passing -nolisten tcp and ensuring the session does not break by starting X on a different tty. For more information, see xinitrc. Note: If a problem occurs, then view the log at /var/log/Xorg.0.log. Be on the lookout for any lines beginning with (EE), which represent errors, and also (WW), which are warnings that could indicate other issues. If there is an empty .xinitrc file in your $HOME, either delete or edit it in order for X to start properly. If you do not do this X will show a blank screen with what appears to be no errors in your Xorg.0.log. Simply deleting it will get it running with a default X environment. Configuration Note: Arch supplies default configuration files in /etc/X11/xorg.conf.d, and no extra configuration is necessary for most setups. Using split files The /etc/X11/xorg.conf.d/ directory stores user-specific configuration. You are free to add configuration files to /etc/X11/xorg.conf.d/, but they must start with XX- (where XX is a number) and have a .conf suffix (10 is read before 20, for example). These files are parsed by the X server upon startup and are treated like part of the traditional xorg.conf configuration file. The X server essentially treats the collection of configuration files as one big file with entries from xorg.conf at the end. Using single file Xorg can also be configured via /etc/X11/xorg.conf or /etc/xorg.conf. You can also generate skeleton for the xorg.conf by # Xorg :0 -configure That should create an xorg.conf.new file in /root/ that you can copy over to /etc/X11/xorg.conf for more information see man xorg.conf Alternatively, your video card drivers may come with a tool to automatically configure Xorg. In the case of NVIDIA, try nvidia-xconfig. For ATI with the proprietary driver, try aticonfig. Note: Config file keywords are case-insensitive, and “_” characters are ignored. Most strings (including Option names) are also case-insensitive, and insensitive to white space and “_” characters. Input devices Installing input drivers is not needed for most hardware. Nevertheless, if evdev does not support your device, install the needed driver from the xorg-drivers group (try pacman -Sg xorg-drivers for a listing). You should have 10-evdev.conf in the /etc/X11/xorg.conf.d directory, which manages the keyboard, the mouse, the touchpad and the touchscreen. Touchpad Synaptics Main page: Touchpad Synaptics If you have a laptop, you need to install the touchpad driver provided by the xf86-input-synaptics package in the Official Repositories. After installation, you can find 10-synaptics.conf in the /etc/X11/xorg.conf.d directory. It is safe to comment out/delete the InputClass line regarding the touchpad in 10-evdev.conf. Disabling input hot-plugging Since version 1.8 Xorg-server uses udev for device detection. The following will disable the use of udev. Section &quot;ServerFlags&quot; Option &quot;AutoAddDevices&quot; &quot;False&quot; EndSection Warning: This will disable Xorg hot-plugging for all input devices and revert to the same behavior as xorg-server 1.4. It is much more convenient to let udev configure your devices. Therefore, disabling hot-plugging is not recommended! Keyboard settings Xorg may fail to detect your keyboard correctly. This might give problems with your keyboard layout or keyboard model not being set correctly. To see a full list of keyboard models, layouts, variants and options, open /usr/share/X11/xkb/rules/xorg.lst. To set the keymap for the current Xorg session: $ setxkbmap dvorak Key repeat delay and rate Use xset r rate DELAY RATE to change them, then use xinitrc to make it permanent. Values 170 and 30 are a good start point. Viewing keyboard settings $ setxkbmap -print -verbose 10 Setting verbose level to 10 locale is C Applied rules from evdev: model: evdev layout: us options: terminate:ctrl_alt_bksp Trying to build keymap using the following components: keycodes: evdev+aliases(qwerty) types: complete compat: complete symbols: pc+us+inet(evdev)+terminate(ctrl_alt_bksp) geometry: pc(pc104) xkb_keymap { xkb_keycodes { include &quot;evdev+aliases(qwerty)&quot; }; xkb_types { include &quot;complete&quot; }; xkb_compat { include &quot;complete&quot; }; xkb_symbols { include &quot;pc+us+inet(evdev)+terminate(ctrl_alt_bksp)&quot; }; xkb_geometry { include &quot;pc(pc104)&quot; }; }; Setting keyboard layout with hot-plugging Note: If you use GNOME, these settings will be ignored. You will have to set the keyboard layout from the GNOME Keyboard applet. Follow the Keyboard Layout link and add the layout you require and remove any you do not. For XkbOptions, see GNOME#Modify_Keyboard_with_XkbOptions. To change your keyboard layout, create a number-*.conf file (e.g. 10-keyboard.conf) with the following content: /etc/X11/xorg.conf.d/10-keyboard.conf Section &quot;InputClass&quot; Identifier &quot;Keyboard Defaults&quot; MatchIsKeyboard &quot;yes&quot; Option &quot;XkbLayout&quot; &quot;us&quot; Option &quot;XkbVariant&quot; &quot;colemak&quot; EndSection Alternatively, you can also combine XkbLayout and XkbVariant: /etc/X11/xorg.conf.d/10-keyboard.conf Section &quot;InputClass&quot; Identifier &quot;Keyboard Defaults&quot; MatchIsKeyboard &quot;yes&quot; Option &quot;XkbLayout&quot; &quot;us(colemak)&quot; EndSection Setting keyboard layout without hot-plugging (deprecated) Note: Changing the keyboard layout through this method requires disabling input hot-plugging. To change the keyboard layout, use the XkbLayout option in the keyboard InputDevice section. For example, if you have a keyboard with the English (Great Britain) layout, your keyboard InputDevice section might look similar to this: Section &quot;InputDevice&quot; Identifier &quot;Keyboard0&quot; Driver &quot;kbd&quot; Option &quot;XkbLayout&quot; &quot;gb&quot; EndSection To change the keyboard model, use the XkbModel option in the keyboard InputDevice section. For example, if you have a Microsoft Wireless Multimedia Keyboard: Option &quot;XkbModel&quot; &quot;microsoftmult&quot; Switching between keyboard layouts To be able to easily switch keyboard layouts, modify the Options used in either of the above two methods. For example, to switch between a US and a Swedish layout using the Caps Lock key, create a file /etc/X11/xorg.conf.d/01-keyboard-layout.conf with the following content: Section &quot;InputClass&quot; Identifier &quot;keyboard-layout&quot; MatchIsKeyboard &quot;on&quot; Option &quot;XkbLayout&quot; &quot;us, se&quot; Option &quot;XkbOptions&quot; &quot;grp:caps_toggle&quot; EndSection As an alternative, you can add the following to your .xinitrc: setxkbmap -layout &quot;us, se&quot; -option &quot;grp:caps_toggle&quot; This is mainly useful if you run a Desktop Environment which does not take care of keyboard layouts for you. Tip: If you want to get a list of possible values for the layout and options, you can find them in /usr/share/X11/xkb/rules/xorg.lst. They are under sections ! layout and ! option respectively. These values work for both the configuration file solution, and the command line alternative. Enable pointerkeys Mouse keys is now disabled by default and has to be manually enabled: /etc/X11/xorg.conf.d/20-enable-pointerkeys.conf Section &quot;InputClass&quot; Identifier &quot;Keyboard Defaults&quot; MatchIsKeyboard &quot;yes&quot; Option &quot;XkbOptions&quot; &quot;keypad:pointerkeys&quot; EndSection You can also run: $ setxkbmap -option keypad:pointerkeys Both will make the Shift+Num Lock shortcut toggle mouse keys. InputClasses Taken from: https://fedoraproject.org/wiki/Input_device_configuration InputClasses are a new type of configuration section that does not apply to a single device but rather to a class of devices, including hotplugged devices. An InputClass section's scope is limited by the matches specified – to apply to an input device, all matches must apply to a device. An example InputClass section is provided below: Section &quot;InputClass&quot; Identifier &quot;touchpad catchall&quot; MatchIsTouchpad &quot;on&quot; Driver &quot;synaptics&quot; EndSection The next snippet might also be helpful: Section &quot;InputClass&quot; Identifier &quot;evdev touchpad catchall&quot; MatchIsTouchpad &quot;on&quot; MatchDevicePath &quot;/dev/input/event*&quot; Driver &quot;evdev&quot; EndSection If this snippet is present in the xorg.conf or xorg.conf.d, any touchpad present in the system is assigned the synaptics driver. Note that due to precedence order (alphanumeric sorting of xorg.conf.d snippets) the Driver setting overwrites previously set driver options – the more generic the class, the earlier it should be listed. The default snippet shipped with the xorg-x11-drv-Xorg package is 00-evdev.conf and applies the evdev driver to all input devices. The match options specify which devices a section may apply to. To match a device, all match lines must apply. The following match lines are supported (with examples): MatchIsPointer, MatchIsKeyboard, MatchIsTouchpad, MatchIsTouchscreen, MatchIsJoystick – boolean options to apply to a group of devices. MatchProduct &quot;foo|bar&quot;: match any device with a product name containing either &quot;foo&quot; or &quot;bar&quot; MatchVendor &quot;foo|bar|baz&quot;: match any device with a vendor string containing either &quot;foo&quot;, &quot;bar&quot;, or &quot;baz&quot; MatchDevicePath &quot;/dev/input/event*&quot;: match any device with a device path matching the given patch (see fnmatch(3) for the allowed pattern) MatchTag &quot;foo|bar&quot;: match any device with a tag of either &quot;foo&quot; or &quot;bar&quot;. Tags may be assigned by the config backend – udev in our case – to label devices that need quirks or special configuration. An example section for user-specific configuration is: Section &quot;InputClass&quot; Identifier &quot;lasermouse slowdown&quot; MatchIsPointer &quot;on&quot; MatchProduct &quot;Lasermouse&quot; MatchVendor &quot;LaserMouse Inc.&quot; Option &quot;ConstantDeceleration&quot; 20 EndSection This section would match a pointer device containing &quot;Lasermouse&quot; from &quot;Lasermouse Inc.&quot; and apply a constant deceleration of 20 on this device – slowing it down by factor 20. Some devices may get picked up by the X server when they really should not be. These devices can be configured to be ignored: Section &quot;InputClass&quot; Identifier &quot;no need for accelerometers in X&quot; MatchProduct &quot;accelerometer&quot; Option &quot;Ignore&quot; &quot;on&quot; EndSection Example configurations The following subsections describe example configurations for commonly used configuration options. Note that if you use a desktop environment such as GNOME or KDE, options you set in the xorg.conf may get overwritten with user-specific options upon login. Example: Wheel emulation (for a Trackpoint) If you own a computer with a Trackpoint (a Thinkpad, for example) you can add the following to the xorg.conf to use the middle button to emulate a mouse wheel: Section &quot;InputClass&quot; Identifier &quot;Wheel Emulation&quot; MatchIsPointer &quot;on&quot; MatchProduct &quot;TrackPoint&quot; Option &quot;EmulateWheelButton&quot; &quot;2&quot; Option &quot;EmulateWheel&quot; &quot;on&quot; EndSection For full support of TrackPoints (including horizontal scrolling) you can use the following: Section &quot;InputClass&quot; Identifier &quot;Trackpoint Wheel Emulation&quot; MatchProduct &quot;TPPS/2 IBM TrackPoint|DualPoint Stick|Synaptics Inc. Composite TouchPad / TrackPoint|ThinkPad USB Keyboard with TrackPoint|USB Trackpoint pointing device&quot; MatchDevicePath &quot;/dev/input/event*&quot; Option &quot;EmulateWheel&quot; &quot;true&quot; Option &quot;EmulateWheelButton&quot; &quot;2&quot; Option &quot;Emulate3Buttons&quot; &quot;false&quot; Option &quot;XAxisMapping&quot; &quot;6 7&quot; Option &quot;YAxisMapping&quot; &quot;4 5&quot; EndSection Example: Tap-to-click Tap-to-click can be enabled in the mouse configuration dialog (in the touchpad tab) but if you need tapping enabled at gdm already, the following snippet does it for you: Section &quot;InputClass&quot; Identifier &quot;tap-by-default&quot; MatchIsTouchpad &quot;on&quot; Option &quot;TapButton1&quot; &quot;1&quot; EndSection Example: Keyboard layout and model on Acer 5920G laptop Keyboard model and layout may be set in the file /etc/X11/xorg.conf.d/keyboard.conf or any other .conf file in the same directory. MatchIsKeyboard &quot;yes&quot;: set the input device to a keyboard Option &quot;XkbModel&quot; &quot;acer_laptop&quot;: set the keyboard model to an Acer laptop keyboard. You may replace acer_laptop with your actual keyboard layout. Option &quot;XkbLayout&quot; &quot;be&quot;: set the keyboard layout to belgian. You may replace be with whatever layout you have. Option &quot;XkbVariant&quot; &quot;sundeadkeys&quot;: set the layout variant to Sun dead keys. You may omit the XkbVariant option if you stick with the default variant. Note that a list of keyboard layouts and models can be found in /usr/share/X11/xkb/rules/base.lst Section &quot;InputClass&quot; Identifier &quot;Keyboard Defaults&quot; MatchIsKeyboard &quot;yes&quot; Option &quot;XkbModel&quot; &quot;acer_laptop&quot; Option &quot;XkbLayout&quot; &quot;be&quot; Option &quot;XkbVariant&quot; &quot;sundeadkeys&quot; EndSection Example: Third button emulation (for all attached mice) Third button emulation allows you to use the 1 and 2 buttons (left and right click) together to produce a button 3 event (middle-click), which is really useful for copy and paste in X. We will modify the mouse input catchall in /etc/X11/xorg.conf.d/10-evdev.conf Section &quot;InputClass&quot; Identifier &quot;evdev pointer catchall&quot; MatchIsPointer &quot;on&quot; MatchDevicePath &quot;/dev/input/event*&quot; Driver &quot;evdev&quot; Option &quot;Emulate3Buttons&quot; &quot;True&quot; Option &quot;Emulate3Timeout&quot; &quot;25&quot; EndSection Here you see the Option &quot;Emulate3Buttons&quot; &quot;True&quot; and Option &quot;Emulate3Timeout&quot; &quot;25&quot; options that specify that 3 buttons should be emulated and the delay to recognize both buttons down as a middle click is 25ms. Graphics Driver installation The default graphics driver is vesa (xf86-video-vesa), which handles a large number of chipsets but does not include any 2D or 3D acceleration. To enable graphics acceleration, you will need to install and use the driver specific to your graphics card. First, identify your card: $ lspci | grep VGA Then, install an appropriate driver. You can search for these packages with the following command: $ pacman -Ss xf86-video Common open source drivers: NVIDIA: xf86-video-nouveau (see Nouveau) Intel: xf86-video-intel (see Intel) ATI: xf86-video-ati (see ATI) Common proprietary drivers: NVIDIA: nvidia (see NVIDIA) ATI: catalyst (see ATI Catalyst) Xorg should run smoothly without closed source drivers, which are typically needed only for advanced features such as fast 3D-accelerated rendering for games, dual-screen setups, and TV-out. Monitor settings Getting started Note: This step is OPTIONAL and should not be done unless you know what you are doing. This step is NOT OPTIONAL if using dual monitors and the nouveau driver. See Nouveau#Configuration. First, create a new config file, such as /etc/X11/xorg.conf.d/10-monitor.conf. Insert the following code into the config file mentioned above: Section &quot;Monitor&quot; Identifier &quot;Monitor0&quot; EndSection Section &quot;Device&quot; Identifier &quot;Device0&quot; Driver &quot;vesa&quot; #Choose the driver used for this monitor EndSection Section &quot;Screen&quot; Identifier &quot;Screen0&quot; #Collapse Monitor and Device section to Screen section Device &quot;Device0&quot; Monitor &quot;Monitor0&quot; DefaultDepth 16 #Choose the depth (16||24) SubSection &quot;Display&quot; Depth 16 Modes &quot;1024x768_75.00&quot; #Choose the resolution EndSubSection EndSection Multiple monitors/Dual screen NVIDIA Please see: NVIDIA#Multiple monitors. More than one graphics card You must define the correct driver to use and put the bus ID of your graphic cards. Section &quot;Device&quot; Identifier &quot;Screen0&quot; Driver &quot;nouveau&quot; BusID &quot;PCI:0:12:0&quot; EndSection Section &quot;Device&quot; Identifier &quot;Screen1&quot; Driver &quot;radeon&quot; BusID &quot;PCI:1:0:0&quot; EndSection To get your bus ID: $ lspci | grep VGA 01:00.0 VGA compatible controller: nVidia Corporation G96 [GeForce 9600M GT] (rev a1) The bus ID here is 1:0:0. Script to toggle internal/external display for laptops Run the following script after connecting to external displays with your computer to change the display used by Xorg. It checks if a display is connected to the port specified in EXT before changing displays. To find out the display names to be specified in EXT run: # xrandr -q The internal display should be connected when running the script, which is always true for a laptop. To use this script the package xorg-xrandr needs to be installed. #!/bin/bash IN=&quot;LVDS1&quot; EXT=&quot;VGA1&quot; if (xrandr | grep &quot;$EXT&quot; | grep &quot;+&quot;) then xrandr --output $EXT --off --output $IN --auto else if (xrandr | grep &quot;$EXT&quot; | grep &quot; connected&quot;) then xrandr --output $IN --off --output $EXT --auto fi fi Display Size and DPI The DPI of the X server is determined in the following manner: The -dpi command line option has highest priority. If this is not used, the DisplaySize setting in the X config file is used to derive the DPI, given the screen resolution. If no DisplaySize is given, the monitor size values from DDC are used to derive the DPI, given the screen resolution. If DDC does not specify a size, 75 DPI is used by default. In order to get correct dots per inch (DPI) set, the display size must be recognized or set. Having the correct DPI is especially necessary where fine detail is required (like font rendering). Previously, manufacturers tried to create a standard for 96 DPI (a 10.3&quot; diagonal monitor would be 800x600, a 13.2&quot; monitor 1024x768). These days, screen DPIs vary and may not be equal horizontally and vertically. For example, a 19&quot; widescreen LCD at 1440x900 may have a DPI of 89x87. To be able to set the DPI, the Xorg server attempts to auto-detect your monitor's physical screen size through the graphic card with DDC. When the Xorg server knows the physical screen size, it will be able to set the correct DPI depending on resolution size. To see if your display size and DPI are detected/calculated correctly: $ xdpyinfo | grep -B2 resolution Check that the dimensions match your display size. If the Xorg server is not able to correctly calculate the screen size, it will default to 75x75 DPI and you will have to calculate it yourself. If you have specifications on the physical size of the screen, they can be entered in the Xorg configuration file so that the proper DPI is calculated: Section &quot;Monitor&quot; Identifier &quot;Monitor0&quot; DisplaySize 286 179 # In millimeters EndSection If you only want to enter the specification of your monitor without creating a full xorg.conf create a new config file. For example (/etc/X11/xorg.conf.d/90-monitor.conf): Section &quot;Monitor&quot; Identifier &quot;&lt;default monitor&gt;&quot; DisplaySize 286 179 # In millimeters EndSection If you do not have specifications for physical screen width and height (most specifications these days only list by diagonal size), you can use the monitor's native resolution (or aspect ratio) and diagonal length to calculate the horizontal and vertical physical dimensions. Using the Pythagorean theorem on a 13.3&quot; diagonal length screen with a 1280x800 native resolution (or 16:10 aspect ratio): echo 'scale=5;sqrt(1280^2+800^2)' | bc # 1509.43698 This will give the pixel diagonal length and with this value you can discover the physical horizontal and vertical lengths (and convert them to millimeters): echo 'scale=5;(13.3/1509)*1280*25.4' | bc # 286.43072 echo 'scale=5;(13.3/1509)*800*25.4' | bc # 179.01920 Note: This calculation works for monitors with square pixels; however, there is the seldom monitor that may compress aspect ratio (e.g 16:10 aspect resolution to a 16:9 monitor). If this is the case, you should measure your screen size manually. Setting DPI manually DPI can be set manually if you only plan to use one resolution (DPI calculator): Section &quot;Monitor&quot; Identifier &quot;Monitor0&quot; Option &quot;DPI&quot; &quot;96 x 96&quot; EndSection If you use an NVIDIA card, you can manually set the DPI adding the options bellow on /etc/X11/xorg.conf.d/20-nvidia.conf (inside Device section): Option &quot;UseEdidDpi&quot; &quot;False&quot; Option &quot;DPI&quot; &quot;96 x 96&quot; For RandR compliant drivers, you can set it by: xrandr --dpi 96 See Execute commands after X start to make it permanent. Note: while you can set any dpi you like and applications using Qt and GTK will scale accordingly, it's recommended to set it to 96, 120 (25% higher), 144 (50% higher), 168 (75% higher), 192 (100% higher) etc., to reduce scaling artifacts to GUI that use bitmaps. Reducing it below 96 dpi may not reduce size of graphical elements of GUI as typically the lowest dpi the icons are made for is 96. DPMS DPMS (Display Power Management Signaling) is a technology that allows power saving behaviour of monitors when the computer is not in use. This will allow you to have your monitors automatically go into standby after a predefined period of time. See: DPMS Composite The Composite extension for X causes an entire sub-tree of the window hierarchy to be rendered to an off-screen buffer. Applications can then take the contents of that buffer and do whatever they like. The off-screen buffer can be automatically merged into the parent window or merged by external programs, called compositing managers. See the following page for more info. Compiz -- The original composite/window manager from Novell Xcompmgr -- A simple composite manager capable of drop shadows and primitive transparency Compton -- A fork of xcompmgr with feature improves and bug fix Cairo Composite Manager -- A versatile and extensible composite manager which uses cairo for rendering. Wikipedia:Compositing window manager Sample configurations Anyone who has an xorg.conf file written up that works, go ahead and post a link to it here for others to look at. Please do not in-line the entire configuration file; upload it somewhere else and link to it. Please post input hotplugging configurations only, otherwise note that your config is not using input hotplugging. (Xorg 1.8 = udev) Sample 1: xorg.conf &amp; /etc/X11/xorg.conf.d/10-evdev.conf This is a sample configuration file using /etc/X11/xorg.conf.d/10-evdev.conf for the keyboard layouts: Note: The &quot;InputDevice&quot; sections are commented out, because /etc/X11/xorg.conf.d/10-evdev.conf is taking care of them. xorg.conf: http://pastebin.com/raw.php?i=EuSKahkn /etc/X11/xorg.conf.d/10-evdev.conf: http://pastebin.com/raw.php?i=4mPY35Mw /etc/X11/xorg.conf.d/10-monitor.conf (VMware): http://pastebin.com/raw.php?i=fJv8EXGb /etc/X11/xorg.conf.d/10-monitor.conf (KVM): http://pastebin.com/raw.php?i=NRz7v0Kn Tips and tricks X startup (/usr/bin/startx) tweaking For X's option reference see: $ man Xserver The following options have to be appended to the variable &quot;defaultserverargs&quot; in the /usr/bin/startx file: Enable deferred glyph loading for 16 bit fonts: -deferglyphs 16 Note: If you start X with kdm, the startx script does not seem to be executed. X options must be appended to the variable &quot;ServerArgsLocal&quot; or &quot;ServerCmd&quot; in the /usr/share/config/kdm/kdmrc file. By default kdm options are: ServerArgsLocal=-nolisten tcp ServerCmd=/usr/bin/X Nested X session To run a nested session of another desktop environment: $ /usr/bin/Xnest :1 -geometry 1024x768+0+0 -ac -name Windowmaker &amp; wmaker -display :1 This will launch a Window Maker session in a 1024 by 768 window within your current X session. This needs the package xorg-server-xnest to be installed. Starting GUI Programs Remotely To start up a program that uses X when logged in remotely (such as through ssh), you need to type this in from the remote login Bash shell: export DISPLAY=:0 Then invoke the program the way you would locally from the shell. Hint: Add that line to ~/.bashrc to have it happen automatically every time you log in. On-Demand Disabling and Enabling of Input Sources With the help of xinput you can temporarily disable or enable input sources. This might be useful, for example, on systems that have more than one mouse, such as the ThinkPads and you would rather use just one to avoid unwanted mouse clicks. Let's see how to accomplish this. Install xinput from the xorg-xinput package: # pacman -S xorg-xinput Find the ID of the device you want to disable: xinput For example in a Lenovo ThinkPad T500, the output looks like this: $ xinput ⎡ Virtual core pointer id=2 [master pointer (3)] ⎜ ↳ Virtual core XTEST pointer id=4 [slave pointer (2)] ⎜ ↳ TPPS/2 IBM TrackPoint id=11 [slave pointer (2)] ⎜ ↳ SynPS/2 Synaptics TouchPad id=10 [slave pointer (2)] ⎣ Virtual core keyboard id=3 [master keyboard (2)] ↳ Virtual core XTEST keyboard id=5 [slave keyboard (3)] ↳ Power Button id=6 [slave keyboard (3)] ↳ Video Bus id=7 [slave keyboard (3)] ↳ Sleep Button id=8 [slave keyboard (3)] ↳ AT Translated Set 2 keyboard id=9 [slave keyboard (3)] ↳ ThinkPad Extra Buttons id=12 [slave keyboard (3)] Disable the device with xinput --disable DEVICE, where DEVICE is the device ID you want to disable. In this example we'll disable the Synaptics Touchpad, with the ID 10: xinput --disable 10 To re-enable the device, just issue the opposite command: xinput --enable DEVICE Troubleshooting Common problems If Xorg will not start, the screen is completely black, the keyboard and mouse are not working, etc., first take these simple steps: Check the log file: cat /var/log/Xorg.0.log Install input driver (keyboard, mouse, joystick, tablet, etc...): Finally, search for common problems in ATI, Intel and NVIDIA articles. Ctrl+Alt+Backspace does not work There are two ways of restoring Ctrl+Alt+Backspace; with and without input-hotplugging. Using hot-plugging is recommended. With input hot-plugging System-wide Within /etc/X11/xorg.conf.d/10-evdev.conf, simply add the following: Section &quot;InputClass&quot; Identifier &quot;Keyboard Defaults&quot; MatchIsKeyboard &quot;yes&quot; Option &quot;XkbOptions&quot; &quot;terminate:ctrl_alt_bksp&quot; EndSection Note: Using Gnome, an alternative would be to install the gnome-tweak-tool from extra. Within the Gnome Tweak Tool: Typing &gt; Terminate and select the option Ctrl+Alt+Backspace from the dropdown menu. This reactivates the keyboard shortcut for killing the X server in Gnome. Note: On KDE, this system-wide setting has no effect. To restore, go to Kickoff &gt; Computer &gt; System Settings which will open up the System Settings window. Click on 'Input Devices'. In this new window click the Keyboard tab and then click on the advanced tab. In this new window, click the box for 'Configure keyboard options.' Expand the entry for 'Key sequence to kill the X server' and ensure Ctrl+Alt+Backspace is checked. Click Apply and close the System Settings window. You now have your Ctrl+Alt+Backspace back in KDE. User-specific Another way is to put this line in xinitrc: setxkbmap -option terminate:ctrl_alt_bksp Note: This setting has no effect on Gnome 3. Without input hot-plugging New Xorg disables zapping with Ctrl+Alt+Backspace by default. You can enable it by adding the following line to /etc/X11/xorg.conf, Option &quot;XkbOptions&quot; &quot;terminate:ctrl_alt_bksp&quot; to InputDevice section for keyboard. CTRL right key does not work with oss keymap Edit as root /usr/share/X11/xkb/symbols/fr, and change the line : include &quot;level5(rctrl_switch)&quot; to // include &quot;level5(rctrl_switch)&quot; Then restart X or reboot. Apple keyboard issues See: Apple Keyboard Touchpad tap-click issues See: Synaptics Extra mouse buttons not recognized See: Get All Mouse Buttons Working X clients started with &quot;su&quot; fail If you are getting &quot;Client is not authorized to connect to server&quot;, try adding the line: session optional pam_xauth.so to /etc/pam.d/su. pam_xauth will then properly set environment variables and handle xauth keys. Program requests &quot;font '(null)'&quot; Error message: &quot;unable to load font `(null)'.&quot; Some programs only work with bitmap fonts. Two major packages with bitmap fonts are available, xorg-fonts-75dpi and xorg-fonts-100dpi. You do not need both; one should be enough. To find out which one would be better in your case, try this: $ xdpyinfo | grep resolution and use what is closer to you (75 or 100 instead of XX) # pacman -S xorg-fonts-XXdpi Frame-buffer mode problems If X fails to start with the following log messages, (WW) Falling back to old probe method for fbdev (II) Loading sub module &quot;fbdevhw&quot; (II) LoadModule: &quot;fbdevhw&quot; (II) Loading /usr/lib/xorg/modules/linux//libfbdevhw.so (II) Module fbdevhw: vendor=&quot;X.Org Foundation&quot; compiled for 1.6.1, module version=0.0.2 ABI class: X.Org Video Driver, version 5.0 (II) FBDEV(1): using default device Fatal server error: Cannot run in framebuffer mode. Please specify busIDs for all framebuffer devices uninstall fbdev: # pacman -R xf86-video-fbdev DRI with Matrox cards stops working If you use a Matrox card and DRI stops working after upgrading to Xorg, try adding the line: Option &quot;OldDmaInit&quot; &quot;On&quot; to the Device section that references the video card in xorg.conf. Recovery: disabling Xorg before GUI login If Xorg is set to boot up automatically and for some reason you need to prevent it from starting up before the login/display manager appears (if the system is wrongly configured and Xorg does not recognize your mouse or keyboard input, for instance), you can accomplish this task with two methods. From the GRUB menu, you can specify the runlevel in the kernel line by adding a number to the end of the kernel line specifying the run level you want. The following example sets the run level to 3: kernel /boot/vmlinuz-linux root=/dev/disk/by-uuid/..ro 3 If you have not only a faulty system that makes Xorg unusable, but you have also set the GRUB menu wait time to zero, or cannot otherwise use GRUB to prevent Xorg from booting, you can use the Arch Linux live CD. Boot up the live CD and log in as root. You need a mount point, such as /mnt, and you need to know the name of the partition you want to mount. You can use the command, # fdisk -l to see your partitions. Usually, the one you want will be resembling /dev/sda1. Then, to mount this to /mnt, use # mount /dev/sda1 /mnt Then your filesystem will show up under /mnt. From here you can delete the gdm daemon to prevent Xorg from booting up normally or make any other necessary changes to the configuration. X failed to start : Keyboard initialization failed If your hard disk is full, startx will fail. /var/log/Xorg.0.log will end with: (EE) Error compiling keymap (server-0) (EE) XKB: Couldn't compile keymap (EE) XKB: Failed to load keymap. Loading default keymap instead. (EE) Error compiling keymap (server-0) (EE) XKB: Couldn't compile keymap XKB: Failed to compile keymap Keyboard initialization failed. This could be a missing or incorrect setup of xkeyboard-config. Fatal server error: Failed to activate core devices. Please consult the The X.Org Foundation support at http://wiki.x.org for help. Please also check the log file at &quot;/var/log/Xorg.0.log&quot; for additional information. (II) AIGLX: Suspending AIGLX clients for VT switch Make some free space on your root partition and X will start. black screen, No protocol specified.., Resource temporarily unavailable for all or some users X creates configuration and temporary files in current user's home directory. Make sure there is free disk space available on the partition your home directory resides in. Unfortunately, X server does not provide any more obvious information about lack of disk space in this case. Retrieved from &quot;https://wiki.archlinux.org/index.php?title=Xorg&amp;oldid=257501&quot; Category: X Server Views Page Discussion View source History Personal tools Create account Log in Navigation Main page Categories Getting Involved Wiki News Recent changes Random page Help Search Toolbox What links here Related changes Special pages Printable version Permanent link In other languages Česky Dansk Deutsch Ελληνικά Español Français Italiano 日本語 Nederlands Polski Português Română Русский Türkçe ‪中文（中国大陆）‬ ‪中文（台灣）‬ This page was last modified on 18 May 2013, at 03:19. Content is available under GNU Free Documentation License 1.3 or later. Privacy policy About ArchWiki Disclaimers " />
  <RDF:Description RDF:about="urn:scrapbook:item20130524054514#index"
                   NS1:folder="urn:scrapbook:item20130523104421"
                   NS1:content=" Home Packages Forums Wiki Bugs AUR Download Xfce From ArchWiki Jump to: navigation, search Summary Xfce is a lightweight desktop environment for Unix-like operating systems. It aims to be fast and lightweight, while still being visually appealing and user friendly. This article covers its installation, configuration, and troubleshooting. Xfce uses the GTK+ toolkit. Overview The Xorg project provides an open source implementation of the X Window System – the foundation for a graphical user interface. Desktop environments such as Enlightenment, GNOME, KDE, LXDE, and Xfce provide a complete graphical environment. Various window managers offer alternative and novel environments, and may be used standalone to conserve system resources. Display managers provide a graphical login prompt. Related Thunar Improve GTK Application Looks Autostart applications#Graphical From Xfce - About: Xfce embodies the traditional UNIX philosophy of modularity and re-usability. It consists of a number of components that provide the full functionality one can expect of a modern desktop environment. They are packaged separately and you can pick among the available packages to create the optimal personal working environment. Xfce is a Desktop Environment, like GNOME or KDE. It contains a suite of apps like a root window app, window manager, file manager, panel, etc. Xfce is written using the GTK2 toolkit, and contains its own development environment (libraries, daemons, etc), similar to other big DEs. Features: Lighter on resources than the other major DEs (KDE, GNOME). Most settings are exposed via a GUI, Xfce does not try to hide stuff from the user. Xfwm has an optional built-in compositor which allows for true transparency and all the benefits of GPU acceleration (minimizes tearing, etc.). It works great with multiple monitors. Contents [hide] 1 Installation 2 Starting Xfce 2.1 Automatically 2.2 Manually 2.3 Automounting 3 Tips and tricks 3.1 Xfconf settings 3.2 Panel 3.2.1 xfce panel background 3.2.2 'menu' panel replacement 3.2.3 Removing entries from the System menu 3.2.3.1 Method 1 3.2.3.2 Method 2 3.2.3.3 Method 3 3.2.3.4 Method 4 3.2.4 Missing applications 3.2.5 Panel autohide delay 3.2.6 Panel at desktop level 3.3 Desktop 3.3.1 Transparent Background for Icon Titles 3.3.2 Hide Selected Partitions 3.3.3 Remove Thunar Options from Right-click 3.3.4 Kill Window Shortcut 3.4 XFWM4 3.4.1 Enabling the Compositor 3.4.2 Disable window roll-up 3.4.3 Toggle Automatic Tiling of Windows at Edge of Screen 3.5 Settings Manager Commands 3.6 Session 3.6.1 Custom Startup Applications 3.6.2 Lock the screen 3.6.3 Switch between users 3.6.4 Manually Modifying XML settings 3.7 Removable Devices 3.8 Look and Feel 3.8.1 Add themes to XFCE 3.8.2 Cursors 3.8.3 Icons 3.8.4 Fonts 3.9 Sound 3.9.1 Configuring xfce4-mixer 3.9.2 Xfce4-mixer and OSS4 3.9.3 Keyboard Volume Buttons 3.9.3.1 ALSA 3.9.3.2 OSS 3.9.3.3 PulseAudio 3.9.3.4 Xfce4-volumed 3.9.3.5 Volumeicon 3.9.4 Adding startup/boot sound 3.10 xdg-open integration (Preferred Applications) 3.11 Screenshots 3.11.1 Print Screen key 3.12 Terminal color themes or pallets 3.12.1 Changing default color theme 3.12.2 Terminal tango color theme 3.13 Colour management 3.13.1 Loading a profile 3.13.2 Creating a profile 3.14 Multiple Monitors 3.15 XDG User Directories 3.16 SSH Agents 4 Troubleshooting 4.1 xfce4-power-manager 4.2 xfce4-xkb-plugin 4.3 Locales ignored with GDM 4.4 Restore default settings 4.5 NVIDIA and xfce4-sensors-plugin 4.6 Session failure 4.7 Preferred Applications preferences have no effect 4.8 Action Buttons/Missing Icons 4.9 Enable cedilla ç/Ç instead of ć/Ć 4.10 Non ASCII characters when mounting USB sticks 5 See also Installation Before starting, make sure you have the X server installed and configured correctly. Note: Xfce is somewhat modular. That means there is no need for you to run every part, you can pick and choose some of them. The base Xfce system can be installed with the group xfce4, available in the Official Repositories. Pacman will ask you to select the packages to install, but you probably want to get them all by simply pressing Enter. Additional packages, like panel plugins, notifications, and system tools are available in the xfce4-goodies group. Tip: Installing Gamin (the successor of FAM) is highly recommended. Tip: Common tasks such as mounting removable drives and extracting archives can be accomplished with Thunar. If you do not install xfce4-goodies but still want these niceties, read the Thunar page. Starting Xfce Automatically There are two methods to start Xfce (and in fact, any desktop or window manager) at boot time: Run Xfce through a Display Manager Run Xfce automatically using the xorg-xinit method at Start X at Login combining with Automatic login to virtual console‎ Manually Note: See xinitrc for details, such as preserving the logind session. You can execute: $ startxfce4 from the console, or configure xinitrc and use xinit or startx. If you have not created a ~/.xinitrc yet, do so with: $ cp /etc/skel/.xinitrc ~/.xinitrc and add the following line: exec startxfce4 Example: ~/.xinitrc #!/bin/sh if [ -d /etc/X11/xinit/xinitrc.d ]; then for f in /etc/X11/xinit/xinitrc.d/*; do [ -x &quot;$f&quot; ] &amp;&amp; . &quot;$f&quot; done unset f fi exec startxfce4 Note: In case you are wondering, dbus-launch will be launched by the xinitrc.d code at the beginning of the file. dbus-launch starts a dbus-daemon instance to provide communication with PolicyKit. The proper command for launching Xfce is startxfce4: do not start xfce4-session directly, since it is already run by startxfce4 itself. Automounting See General Troubleshooting#Session permissions. If you have no problems shutting down and rebooting but cannot automount external media and disks, you may need to install gvfs. See the Removable Devices section. Tips and tricks Xfconf settings Xfconf is XFCE's system for storing configuration options, and most XFCE configuration is done by editing settings in Xfconf (one way or another). There are several ways to modify these settings: The most obvious and easiest way is to go to &quot;Settings&quot; in the main menu and select the category you want to customize. However, not all customization options are available this way. A less user-friendly but more general way is to go to Main menu -&gt; Settings -&gt; Settings Editor where you can see and modify all the customization options. Any settings modified here will take effect immediately. The Settings Editor can also be launched from the command line by invoking xfce4-settings-editor. Customization can be done completely from the command line using the program xfconf-query. See the XFCE online documentation for more information and examples and the rest of this wiki page for more examples. Settings changed here will take effect immediately. The settings are stored in XML files in ~/.config/xfce4/xfconf/xfce-perchannel-xml/ which can be edited by hand. However, changes made here will not take effect immediately. For more information: Xfconf documentation Panel xfce panel background Edit ~/.gtkrc-2.0. Note that you must place the image in the same directory as the configuration, which is ~/. You can not specify the path to the image, or it will not work. style &quot;panel-background&quot; { bg_pixmap[NORMAL] = &quot;foo.bar&quot; bg_pixmap[PRELIGHT] = &quot;foo.bar&quot; bg_pixmap[ACTIVE] = &quot;foo.bar&quot; bg_pixmap[SELECTED] = &quot;foo.bar&quot; bg_pixmap[INSENSITIVE] = &quot;foo.bar&quot; } widget_class &quot;*Panel*&quot; style &quot;panel-background&quot; 'menu' panel replacement The &quot;Ubuntu System Panel&quot; (GNOME) panel applet has similar features to those found in its KDE v4.2 equivalent. It can be added to an Xfce panel via the 'XfApplet' panel applet, which allows GNOME applets to be used in Xfce. It is available in the AUR as the usp2 package. Removing entries from the System menu Method 1 With the built-in menu editor, you cannot remove menu entries from the System menu. Here’s how to hide them: Open Terminal (Xfce menu &gt; System &gt; Terminal) and go to the /usr/share/applications folder: $ cd /usr/share/applications This folder should be full of .desktop files. To see a list type: $ ls Add NoDisplay=true to the .desktop file. For example, if you want to hide Firefox, type in the terminal: # echo &quot;NoDisplay=true&quot; &gt;&gt; firefox.desktop This command appends the text NoDisplay=true to the end of the .desktop file. Method 2 Another method is to copy the entire contents of the global applications directory over to your local applications directory, and then proceed to modify and/or disable unwanted .desktop entries. This will survive application updates that overwrite changes under /usr/share/applications/. In a terminal, copy everything from /usr/share/applications to ~/.local/share/applications/: $ cp /usr/share/applications/* ~/.local/share/applications/ For any entry you wish to hide from the menu, add the NoDisplay=true option: $ echo &quot;NoDisplay=true&quot; &gt;&gt; ~/.local/share/applications/foo.desktop You can also edit the application's category by editing the .desktop file with a text editor and modifying the Categories= line. Method 3 The third method is the cleanest and recommended in the Xfce wiki. Create the file ~/.config/menus/xfce-applications.menu and copy the following in it: &lt;!DOCTYPE Menu PUBLIC &quot;-//freedesktop//DTD Menu 1.0//EN&quot; &quot;http://www.freedesktop.org/standards/menu-spec/1.0/menu.dtd&quot;&gt; &lt;Menu&gt; &lt;Name&gt;Xfce&lt;/Name&gt; &lt;MergeFile type=&quot;parent&quot;&gt;/etc/xdg/menus/xfce-applications.menu&lt;/MergeFile&gt; &lt;Exclude&gt; &lt;Filename&gt;xfce4-run.desktop&lt;/Filename&gt; &lt;Filename&gt;exo-terminal-emulator.desktop&lt;/Filename&gt; &lt;Filename&gt;exo-file-manager.desktop&lt;/Filename&gt; &lt;Filename&gt;exo-mail-reader.desktop&lt;/Filename&gt; &lt;Filename&gt;exo-web-browser.desktop&lt;/Filename&gt; &lt;Filename&gt;xfce4-about.desktop&lt;/Filename&gt; &lt;Filename&gt;xfhelp4.desktop&lt;/Filename&gt; &lt;/Exclude&gt; &lt;Layout&gt; &lt;Merge type=&quot;all&quot;/&gt; &lt;Separator/&gt; &lt;Menuname&gt;Settings&lt;/Menuname&gt; &lt;Separator/&gt; &lt;Filename&gt;xfce4-session-logout.desktop&lt;/Filename&gt; &lt;/Layout&gt; &lt;/Menu&gt; The &lt;MergeFile&gt; tag includes the default Xfce menu in our file. This is important. The &lt;Exclude&gt; tag excludes applications which we do not want to appear in the menu. Here we excluded some Xfce default shortcuts, but you can exclude firefox.desktop or any other application. The &lt;Layout&gt; tag defines the layout of the menu. The applications can be organized in folders or however we wish. For more details see the aforementioned Xfce wiki page. Method 4 Alternatively a tool called xame can be used. XAME is a GUI tool written in Gambas designed specifically for editing menu entires in XFCE, it will NOT work in other DEs. XAME is available in the xame package from the AUR. Missing applications When some applications are installed (for example via WINE), they may not be listed in /usr/share/applications. Shortcuts might be found in the category “Other” in this directory: ~/.local/share/applications/wine/. Panel autohide delay Add this to ~/.gtkrc-2.0. style &quot;xfce-panel-window-style&quot; { # Time in miliseconds before the panel will unhide on an enter event XfcePanelWindow::popup-delay = 225 # Time in miliseconds before the panel will hide on a leave event XfcePanelWindow::popdown-delay = 350 } class &quot;XfcePanelWindow&quot; style &quot;xfce-panel-window-style&quot; Panel at desktop level If you want a panel at desktop level (i.e., other windows will stack over it) you need a little hack, ensure you have installed the wmctrl package from the Official Repositories. Create a script in ~/.config/xfce4/xfce4-fix-panel with this content and make it executable (you can use chmod 755 xfce4-fix-panel). #!/bin/bash set -e function getPanelIdImpl() { # get panel id PANEL=&quot;`wmctrl -l | sed -n -e '/ xfce4-panel$/ s_ .*$__ p' | sed -n -e $1' p'`&quot; } function getPanelId() { # eventually await the panel to appear getPanelIdImpl $1 while [ x = x$PANEL ] ;do sleep 0.5s getPanelIdImpl $1 done } function putPanelDown() { PANEL=&quot;&quot; getPanelId $1 wmctrl -i -r $PANEL -b add,below } # call the program with a list of panel numbers as arguments # for example, xfce4-fix-panel 1 2 3 # for the first three panels for i in $* ;do putPanelDown $i done Once wrote the script, and tested it, you need to auto-execute it at each login. You can use the Session and StartUp -&gt; Application Autostart gui. This passage will put your panels at desktop level, but if your panel is sticking to a border the maximized windows will not stack over it. You can enable this behavior with the following command, fortunately you need to do this only once. (change the $ID with the panel number of interest) xfconf-query -c xfce4-panel -p /panels/panel-$ID/disable-struts -n -t bool -s true Desktop Transparent Background for Icon Titles To change the default white background of desktop icon titles to something more suitable, edit the .gtkrc-2.0 file in your home directory (or create the file if needed) and add the following: style &quot;xfdesktop-icon-view&quot; { XfdesktopIconView::label-alpha = 10 base[NORMAL] = &quot;#000000&quot; base[SELECTED] = &quot;#71B9FF&quot; base[ACTIVE] = &quot;#71FFAD&quot; fg[NORMAL] = &quot;#ffffff&quot; fg[SELECTED] = &quot;#71B9FF&quot; fg[ACTIVE] = &quot;#71FFAD&quot; } widget_class &quot;*XfdesktopIconView*&quot; style &quot;xfdesktop-icon-view&quot; Hide Selected Partitions If you wish to prevent certain partitions or drives appearing on the desktop, you can create a udev rule, for example /etc/udev/rules.d/10-local.rules: KERNEL==&quot;sda1&quot;, ENV{UDISKS_PRESENTATION_HIDE}=&quot;1&quot; KERNEL==&quot;sda2&quot;, ENV{UDISKS_PRESENTATION_HIDE}=&quot;1&quot; Would show all partitions with the exception of sda1 and sda2 on your desktop. Notice, if you are using udisk2 the above will not work, due to the UDISKS_PRESENTATION_HIDE no longer being supported, instead you must use UDISKS_IGNORE as follows KERNEL==&quot;sda1&quot;, ENV{UDISKS_IGNORE}=&quot;1&quot; KERNEL==&quot;sda2&quot;, ENV{UDISKS_IGNORE}=&quot;1&quot; Remove Thunar Options from Right-click xfconf-query -c xfce4-desktop -v --create -p /desktop-icons/style -t int -s 0 Kill Window Shortcut Xfce does not support the kill window shortcut directly, but you can add one with a simple script. Ensure you have the xorg-xkill package installed. Create a script in ~/.config/xfce4/killwindow.sh with this content and make it executable (you can use chmod 755 killwindow.sh). xkill -id &quot;`xprop -root -notype | sed -n '/^_NET_ACTIVE_WINDOW/ s/^.*# *\|\,.*$//g p'`&quot; Now associate a shortcut using Settings -&gt; Keyboard to that script. XFWM4 Enabling the Compositor Xfce comes with a builtin compositor adding the option for fancy window effects, shadows and transparency and so on. It can be enabled in the Window Manager Tweaks and works on the fly. No additional settings are needed in your /etc/xorg.conf. To enable and adjust settings, go to: Menu --&gt; Settings --&gt; Window Manager Tweaks Disable window roll-up xfconf-query -c xfwm4 -p /general/mousewheel_rollup -s false Toggle Automatic Tiling of Windows at Edge of Screen XFWM4 has the ability to &quot;tile&quot; a window automatically when it is moved to the edge of the screen by resizing it to fill the top half of the screen. (The official XFCE website says this feature is disabled by default in XFCE 4.10, but it seems to be enabled by default on Arch Linux.) This behavior can be enabled or disabled in Window Manager Tweaks --&gt; Accessibility --&gt; Automatically tile windows when moving toward the screen edge, or: xfconf-query -c xfwm4 -p /general/tile_on_move -s false # To disable xfconf-query -c xfwm4 -p /general/tile_on_move -s true # To enable Settings Manager Commands There is no official documentation for the commands executed. One must look at .desktop files /usr/share/applications/ folder. For the people who like to know exactly what is happening, here is a handy list to save the effort: xfce4-accessibility-settings xfce4-power-manager-settings xfce4-settings-editor xfdesktop-settings xfce4-display-settings xfce4-keyboard-settings xfce4-mouse-settings xfce4-session-settings xfce4-settings-manager xfce4-appearance-settings xfwm4-settings xfwm4-tweaks-settings xfwm4-workspace-settings orage -p To review all the available setting manager commands run the following in a terminal: $ grep '^Exec=' /usr/share/applications/xfce*settings* | sed -e 's_^.*=_ _' Session Custom Startup Applications This includes getting necessary environment variables into the GUI runtime. Copy the file /etc/xdg/xfce4/xinitrc to ~/.config/xfce4/ Edit this file. For example, you can add something like this somehwere in the middle: source $HOME/.bashrc # start rxvt-unicode server urxvtd -q -o -f Lock the screen To lock an Xfce4 session (through xflock4) one of xscreensaver, gnome-screensaver or xlockmore packages needs to be installed. Switch between users Xfce4 allows this behavior under the 'action buttons' menu item. Currently, both gdm and lightdm provide this functionality. Manually Modifying XML settings It may be useful, especially when upgrading, to manually edit .xml files in the ~/.config/xfce4/xfconf/ folder. For application keyboard shortcuts for example, the file is ~/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-keyboard-shortcuts.xml. It is faster to copy and paste the XML keys that you want rather than using the GUI. Removable Devices If you want an icon appearing on your desktop and in Thunar when you plug in external devices, make sure gvfs is installed. You could also need to install gvfs-afc (read this discussion). It is also a good idea to install thunar-volman (already included in the xfce4 base group). Additionally, udisks and a udisks wrapper are recommended if you want to automount optical and external drives easily. Look and Feel Add themes to XFCE 1. Go to www.xfce-look.org and click &quot;Themes&quot; in the left navbar. Look around for a theme you want and click &quot;Download&quot;. 2. Go to the directory where you downloaded the tarball/file and extract it using Squeeze/Xarchiver/CLI. 3. Move the extracted folder to /usr/share/themes (for all users) or ~/.themes (for just you). Inside /usr/share/themes/abc, there is a folder that you create called xfwm4 that will contain whatever files that is included with that theme. 4. GTK theme is available here: Menu --&gt; Settings --&gt; Appearance You select your xfwm theme in: Menu --&gt; Settings --&gt; Window Manager Cursors Main article: X11 Cursors If you have alternative X cursor themes installed, Xfce can find them with: Menu --&gt; Settings --&gt; Mouse --&gt; Theme Icons First find and download your desired icon pack. Recommended places to download icons from are Customize.org, Opendesktop.org and Xfce-look.org; the AUR provides several PKGBUILDs for icon packs. Go to the directory where you downloaded the icon pack and extract it. Example tar -xzf /home/user/downloads/icon-pack.tar.gz. Move the extracted folder containing the icons to ~/.icons (if only you want to use the icons) or to /usr/share/icons (if you want all users on the system to make use of the icons), and in the lattter case consider creating a PKGBUILD for that. Optional: run gtk-update-icon-cache -f -t ~/.icons/&lt;theme_name&gt; to update icon cache Switch your icons by going to: Menu --&gt; Settings --&gt; Appearance --&gt; Icons When you have icon theme problems, it is also recommended to install the hicolor-icon-theme package if it was not already installed. Fonts If you find the standard fonts rather thick and or slightly out of focus open Settings&gt;Appearence click on the Fonts tab and under Hinting: change to Full You could also try using a custom DPI setting. Sound Configuring xfce4-mixer xfce4-mixer is the GUI mixer app / panel plugin made by the Xfce team. It is part of the xfce4 group, so you probably already have it installed. Xfce 4.6 uses gstreamer as the backend to control volume, so first you have to make gstreamer cooperate with xfce4-mixer. One or more of the gstreamer plugin packages listed as optional dependencies to xfce4-mixer must be installed. Without one of these required plugins packages, the following error arises when clicking on the mixer panel item. GStreamer was unable to detect any sound devices. Some sound system specific GStreamer packages may be missing. It may also be a permissions problem. (It is probably not a permissions problem. It is no longer required to add audio users to the &quot;audio&quot; group.) Which plugins are needed depends on the hardware. Most people should be fine with gstreamer0.10-base-plugins which can be installed from Official Repositories. If the xfce4-mixer panel item was already running before one of the plugins packages was installed, logout and login to see if it worked, or just remove the mixer plugin from the panel and add it again. If that does not work, you might need more or different gstreamer plugins. Try to install package gstreamer0.10-good-plugins or gstreamer0.10-bad-plugins. For further details, for example how to set the default sound card, see Advanced Linux Sound Architecture. Alternatively you can use PulseAudio together with pavucontrol. Xfce4-mixer and OSS4 If you tried the above section to get xfce4-mixer to work and it does not work at all, then you may have to compile gstreamer0.10-good-plugins yourself. Download the PKGBUILD and other files needed from ABS or here, edit the PKGBUILD, add --enable-oss. ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var \ --enable-oss \ --disable-static --enable-experimental \ --disable-schemas-install \ --disable-hal \ --with-package-name=&quot;GStreamer Good Plugins (Archlinux)&quot; \ --with-package-origin=&quot;https://www.archlinux.org/&quot; and then run makepkg -i. makepkg -i Still not working? Try this package in AUR gstreamer0.10-good-plugins-ossv4, modify the pkgver to the newest in the PKGBUILD, and it should work. Other LINKS: OSS forum Keyboard Volume Buttons Go to Settings --&gt; Keyboard Click the &quot;Application Shortcuts&quot; tab and add click the &quot;Add&quot; button. Add the following by entering the command, then pressing the corresponding button at the next window: ALSA For the raise volume button: amixer set Master 5%+ For the lower volume button: amixer set Master 5%- For the mute button: amixer set Master toggle You can also run these commands to set the above commands to the standard XF86Audio keys: xfconf-query -c xfce4-keyboard-shortcuts -p /commands/custom/XF86AudioRaiseVolume -n -t string -s &quot;amixer set Master 5%+ unmute&quot; xfconf-query -c xfce4-keyboard-shortcuts -p /commands/custom/XF86AudioLowerVolume -n -t string -s &quot;amixer set Master 5%- unmute&quot; xfconf-query -c xfce4-keyboard-shortcuts -p /commands/custom/XF86AudioMute -n -t string -s &quot;amixer set Master toggle&quot; If amixer set Master toggle does not work, try the PCM channel (amixer set PCM toggle) instead. The channel must have a &quot;mute&quot; option for the toggle command to work. To check whether or not your Master channel supports toggling mute, run alsamixer in a terminal and look for the double M's (MM) under the Master channel. If they are not present, then it does not support the mute option. If, for example, you had to change the toggle button to use the PCM channel, make sure to also set the PCM channel as the Mixer Track under Xfce Mixer properties. OSS Use one of these scripts: http://www.opensound.com/wiki/index.php/Tips_And_Tricks#Using_multimedia_keys_with_OSS If using ossvol (recommended), add: ossvol -i 1 for the volume up button ossvol -d 1 for the volume down button ossvol -t for the mute/unmute button PulseAudio For the raise volume button: pactl set-sink-mute 0 false ; pactl set-sink-volume 0 +1% For the lower volume button: pactl set-sink-mute 0 false ; pactl -- set-sink-volume 0 -1% For the mute button: pactl set-sink-mute 0 toggle These settings assume the device you want to control has index 0. Use pactl list sinks short to list sinks. Xfce4-volumed xfce4-volumed daemon from the AUR automatically maps volume keys of your keyboard to Xfce-mixer. Additionally you get OSD through Xfce4-notifyd when changing volume. Xfce4-volumed does not need any configuration and is started automatically with Xfce. Tango-emblem-important.png The factual accuracy of this article or section is disputed. Reason: There should be a short explanation of what this does and why it fixes the problem (bug?). (Discuss) Tango-emblem-important.png If you use pulseaudio and xfce4-volumed unmute does not work, try this: $ xfconf-query -c xfce4-mixer -p /active-card -s `xfconf-query -c xfce4-mixer -p /sound-card` Volumeicon volumeicon is an alternative to xfce4-volumed in the community repo also handling keybindings and notifications through xfce4-notifyd. Adding startup/boot sound Arch does not have a built-in startup sound configuration tool, but there is a workaround by adding the following command to your Application Autostart settings: aplay /boot/startupsound.wav The file location and filename can be whatever you want, but naming it descriptively and putting it in /boot keeps things tidy. xdg-open integration (Preferred Applications) Most applications rely on xdg-open for opening a preferred application for a given file or URL. In order for xdg-open and xdg-settings to detect and integrate with the XFCE desktop environment correctly, you need to install the xorg-xprop package. If you do not do that, your preferred applications preferences (set by exo-preferred-applications) will not be obeyed. Installing the package and allowing xdg-open to detect that you are running XFCE makes it forward all calls to exo-open instead, which correctly uses all your preferred applications preferences. To make sure xdg-open integration is working correctly, ask xdg-settings for the default web browser and see what the result is: # xdg-settings get default-web-browser If it replies with: xdg-settings: unknown desktop environment it means that it has failed to detect XFCE as your desktop environment, which is likely due to a missing xorg-xprop package. Screenshots XFCE has its own screenshot tool, xfce4-screenshooter. It is part of the xfce4-goodies group. Print Screen key Go to: XFCE Menu --&gt; Settings --&gt; Keyboard &gt;&gt;&gt; Application Shortcuts. Add the &quot;xfce4-screenshooter -f&quot; command to use the &quot;PrintScreen&quot; key in order to take fullscreen screenshots. See screenshooter's man page for other optional arguments. Alternatively, an independent screenshot program like scrot can be used. Terminal color themes or pallets Terminal color themes or pallets can be changed in GUI under Appearance tab in Preferences. These are the colors that are available to most console applications like Emacs, Vi and so on. Their settings are stored individually for each system user in ~/.config/xfce4/terminal/terminalrc file. There are also so many other themes to choose from. Check forums post [Colour Scheme Screenshots] for hundreds of available choices and themes. Changing default color theme XFCE's extra/terminal package comes with a darker color palette and colored text looks pretty horrid in default black background impeding user readability. Append the following in your terminalrc file for a lighter color theme, that is always visible in darker Terminal backgrounds. ~/.config/xfce4/terminal/terminalrc ColorPalette5=#38d0fcaaf3a9 ColorPalette4=#e013a0a1612f ColorPalette2=#d456a81b7b42 ColorPalette6=#ffff7062ffff ColorPalette3=#7ffff7bd7fff ColorPalette13=#82108210ffff Terminal tango color theme To switch to tango color theme, open with your favorite editor ~/.config/xfce4/terminal/terminalrc And add(replace) these lines: ColorForeground=White ColorBackground=#323232323232 ColorPalette1=#2e2e34343636 ColorPalette2=#cccc00000000 ColorPalette3=#4e4e9a9a0606 ColorPalette4=#c4c4a0a00000 ColorPalette5=#34346565a4a4 ColorPalette6=#757550507b7b ColorPalette7=#060698989a9a ColorPalette8=#d3d3d7d7cfcf ColorPalette9=#555557575353 ColorPalette10=#efef29292929 ColorPalette11=#8a8ae2e23434 ColorPalette12=#fcfce9e94f4f ColorPalette13=#72729f9fcfcf ColorPalette14=#adad7f7fa8a8 ColorPalette15=#3434e2e2e2e2 ColorPalette16=#eeeeeeeeecec Colour management xfce4-settings-manager does not yet have any colour management / calibration settings, nor is there any specific XFCE program to characterise your monitor. Loading a profile If you wish to load an icc profile (that you have previously created or downloaded) to calibrate your display on startup, you can download xcalib from AUR, then open the XFCE4 Settings Manager, click Session and Startup icon, the Autostart tab, and add a new entry where the command is /usr/bin/xcalib /path/to/your/profile.icc. You still need to tell your applications, which display profile should be used to have the displayed images colour managed. Another option is dispwin. Dispwin not only calibrates the display, but also sets the _ICC_PROFILE atom in X so that some applications can use a &quot;system&quot; display profile instead of requiring the user to set the display profile manually (GIMP, Inkscape, darktable, UFRaw, etc.). See ICC Profiles#Loading ICC Profiles for more information. Creating a profile If you wish to create an icc profile for your display (ie. characterising/profiling, e.g. with the ColorHug, or some other colorimeter, or a spectrophotometer, or &quot;by eye&quot;), the simplest option may be to install dispcalGUI from AUR. Another option is to install gnome-settings-daemon and gnome-color-manager (available in extra). In order to start the calibration from the command line, first do /usr/lib/gnome-settings-daemon/gnome-settings-daemon &amp; (note: this might change your keyboard layout and who knows what else, so probably good to do it on a throwaway account), then colormgr get-devices and look for the &quot;Device ID&quot; line of your monitor. If this is e.g. &quot;xrandr-Lenovo Group Limited&quot;, you start calibration with the command gcm-calibrate --device &quot;xrandr-Lenovo Group Limited&quot;. Note: The reason you need gnome-settings-daemon running is because XFCE does not yet have a session component for colord: https://bugzilla.xfce.org/show_bug.cgi?id=8559 See ICC Profiles for more information. Multiple Monitors If you have configured X.org so that your display spans multiple monitors, usually when you login to an XFCE session, it will appear as if your monitors are simple clones of one another. You can use an xrandr tool to tweak your setup but if this is not called at an appropriate time in the startup sequence, some functionality may be lost with parts of your display being inaccessible to the mouse pointer. A better way is to configure XFCE to match your desired display arrangement. However, at present (xfce-settings 4.10), there is no tool available to assist with configuring multiple monitors directly. The Settings -&gt; Display tool does allow configuration of screen resolution, rotation and enabling individual monitors; warning: using this tool to adjust display settings will reset or lose settings made manually for properties not explicitly offered as buttons in the tool (see below). The Settings -&gt; Settings Editor allows manipulation of all configuration items in particular the displays settings which are saved in the file displays.xml below ~/.config/xfce4/xfconf/xfce-perchannel-xml Alternatively, the displays.xml can be edited using your favourite editor. The main requirement for multiple monitors is their arrangement relative to one another. This can be controlled by setting the Position properties (X and Y) to suit; an (x,y) position of 0,0 corresponds to the top, left position of the monitor array. This is the default position for all monitors and if several monitors are enabled they will appear as a cloned display area extending from this point. To extend the display area correctly across both monitors: for side-by-side monitors, set the X property of the rightmost monitor to equal the width of the left-most monitor for above-and-below monitors, set the Y property of the bottom monitor to equal the height of the upper monitor for other arrangements, set the X and Y properties of each monitor to correspond to your layout Measurements are in pixels. As an example, a pair of monitors with nominal dimensions of 1920x1080 which are rotated by 90 and placed side-by-side can be configured with a displays.xml like this: &lt;channel name=&quot;displays&quot; version=&quot;1.0&quot;&gt; &lt;property name=&quot;Default&quot; type=&quot;empty&quot;&gt; &lt;property name=&quot;VGA-1&quot; type=&quot;string&quot; value=&quot;Idek Iiyama 23&quot;&quot;&gt; &lt;property name=&quot;Active&quot; type=&quot;bool&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;Resolution&quot; type=&quot;string&quot; value=&quot;1920x1080&quot;/&gt; &lt;property name=&quot;RefreshRate&quot; type=&quot;double&quot; value=&quot;60.000000&quot;/&gt; &lt;property name=&quot;Rotation&quot; type=&quot;int&quot; value=&quot;90&quot;/&gt; &lt;property name=&quot;Reflection&quot; type=&quot;string&quot; value=&quot;0&quot;/&gt; &lt;property name=&quot;Primary&quot; type=&quot;bool&quot; value=&quot;false&quot;/&gt; &lt;property name=&quot;Position&quot; type=&quot;empty&quot;&gt; &lt;property name=&quot;X&quot; type=&quot;int&quot; value=&quot;0&quot;/&gt; &lt;property name=&quot;Y&quot; type=&quot;int&quot; value=&quot;0&quot;/&gt; &lt;/property&gt; &lt;/property&gt; &lt;property name=&quot;DVI-0&quot; type=&quot;string&quot; value=&quot;Digital display&quot;&gt; &lt;property name=&quot;Active&quot; type=&quot;bool&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;Resolution&quot; type=&quot;string&quot; value=&quot;1920x1080&quot;/&gt; &lt;property name=&quot;RefreshRate&quot; type=&quot;double&quot; value=&quot;60.000000&quot;/&gt; &lt;property name=&quot;Rotation&quot; type=&quot;int&quot; value=&quot;90&quot;/&gt; &lt;property name=&quot;Reflection&quot; type=&quot;string&quot; value=&quot;0&quot;/&gt; &lt;property name=&quot;Primary&quot; type=&quot;bool&quot; value=&quot;false&quot;/&gt; &lt;property name=&quot;Position&quot; type=&quot;empty&quot;&gt; &lt;property name=&quot;X&quot; type=&quot;int&quot; value=&quot;1080&quot;/&gt; &lt;property name=&quot;Y&quot; type=&quot;int&quot; value=&quot;0&quot;/&gt; &lt;/property&gt; &lt;/property&gt; &lt;/property&gt; &lt;/channel&gt; Usually, editing settings in this way requires a logout/login to action them. A new method for configuring multiple monitors will be available in the forthcoming xfce-settings 4.12 release. XDG User Directories freedesktop.org specifies the &quot;well known&quot; user directories like the desktop folder and the music folder. See Xdg user directories for detailed info. SSH Agents By default Xfce 4.10 will try to load gpg-agent or ssh-agent in that order during session initialization. To disable this, create an xfconf key using the following command: xfconf-query -c xfce4-session -p /startup/ssh-agent/enabled -n -t bool -s false To force using ssh-agent even if gpg-agent is installed, run the following instead: xfconf-query -c xfce4-session -p /startup/ssh-agent/type -n -t string -s ssh-agent To use GNOME Keyring, simply tick the checkbox Launch GNOME services on startup in the Advanced tab of Session Manager in Xfce's settings. This will also disable gpg-agent and ssh-agent. Source: http://docs.xfce.org/xfce/xfce4-session/advanced Troubleshooting xfce4-power-manager Power-related ACPI events can be configured using systemd via options from /etc/systemd/logind.conf to give control to xfce4-power-manager. /etc/systemd/logind.conf HandlePowerKey=ignore HandleSuspendKey=ignore HandleHibernateKey=ignore HandleLidSwitch=ignore This also solves the issue when the computer registers multiple suspend events. xfce4-xkb-plugin There is a bug in version xkb-plugin 0.5.4.1-1 which causes xkb-plugin to lose keyboard, layout switching and compose key settings. As a workaround you may enable Use system defaults option in keyboard settings. To do so run xfce4-keyboard-settings Go to Layout tab and set the Use system defaults flag, then reconfigure xkb-plugin. Locales ignored with GDM Add your locale to /var/lib/AccountsService/users/$USER (replace hu_HU.UTF-8 with your own locale): [User] Language=hu_HU.UTF-8 XSession=xfce You may also do it with sed. Note the backslash before .UTF-8: # sed -i 's/Language=.*/Language=hu_HU\.UTF-8/' /var/lib/AccountsService/users/$USER Restart GDM to take effect. Restore default settings If for any reason you need to revert back to the default settings, try renaming ~/.config/xfce4-session/ and ~/.config/xfce4/ $ mv ~/.config/xfce4-session/ ~/.config/xfce4-session-bak $ mv ~/.config/xfce4/ ~/.config/xfce4-bak Logout and login for changes to take effect. If upon logging in you get an error window with the heading &quot;Unable to load a failsafe session,&quot; see the Session Failure section on this page. NVIDIA and xfce4-sensors-plugin To detect and use sensors of nvidia gpu you need to install libxnvctrl and then recompile xfce4-sensors-plugin package. Session failure If the window manager does not load correctly, you maybe got a session error. Typical symptoms of this can include: the mouse is an X and/or does not appear at all window decorations have disappeared and windows cannot be closed &quot;Window Manager&quot; settings tool (xfwm4-settings) will not start, reporting These settings cannot work with your current window manager (unknown) errors being reported by slim or your login manager like No window manager registered on screen 0 Restarting xfce or rebooting your system may resolve the problem but more likely the problem is a corrupt session. Delete the session folder below the .cache folder: $ rm -r ~/.cache/sessions/ Preferred Applications preferences have no effect If you have set your preferred applications with exo-preferred-applications, but they do not seem to be taken into consideration, see Xfce#xdg-open integration (Preferred Applications) Action Buttons/Missing Icons This happens if icons for some actions (Suspend, Hibernate) are missing from the icon theme, or at least do not have the expected names. First, find out the currently used icon theme in the Settings Manager (→Appearance→Icons). Match this with a subdirectory of /usr/share/icons. For example, if the icon theme is GNOME, make a note of the directory name /usr/share/icons/gnome. icontheme=/usr/share/icons/gnome Make sure that the xfce4-power-manager is installed as this contains the needed icons. Now create symbolic links from the current icon theme into the hicolor icon theme. ln -s /usr/share/icons/hicolor/16x16/actions/xfpm-suspend.png ${icontheme}/16x16/actions/system-suspend.png ln -s /usr/share/icons/hicolor/16x16/actions/xfpm-hibernate.png ${icontheme}/16x16/actions/system-hibernate.png ln -s /usr/share/icons/hicolor/22x22/actions/xfpm-suspend.png ${icontheme}/22x22/actions/system-suspend.png ln -s /usr/share/icons/hicolor/22x22/actions/xfpm-hibernate.png ${icontheme}/22x22/actions/system-hibernate.png ln -s /usr/share/icons/hicolor/24x24/actions/xfpm-suspend.png ${icontheme}/24x24/actions/system-suspend.png ln -s /usr/share/icons/hicolor/24x24/actions/xfpm-hibernate.png ${icontheme}/24x24/actions/system-hibernate.png ln -s /usr/share/icons/hicolor/48x48/actions/xfpm-suspend.png ${icontheme}/48x48/actions/system-suspend.png ln -s /usr/share/icons/hicolor/48x48/actions/xfpm-hibernate.png ${icontheme}/48x48/actions/system-hibernate.png Log out and in again, and you should see icons for all actions. Enable cedilla ç/Ç instead of ć/Ć When you select the keyboard layout &quot;U.S., alternative international&quot; in Settings --&gt; Keyboard --&gt; Layout to enable accents, the typical combination for the cedilla ' + c results in ć instead of ç.To change this suffice edit files gtk.immodules for gtk-2.0 and immodules.cache for gtk-3.0 in line that contains &quot;cedilla&quot; adding both &quot;en&quot; in the list &quot;az:ca:co:fr:gv:oc:pt:sq:tr:wa&quot; but in alphabetical order, staying that way in /etc/gtk-2.0/gtk.immodules &quot;/usr/lib/gtk-2.0/2.10.0/immodules/im-cedilla.so&quot; &quot;cedilla&quot; &quot;Cedilla&quot; &quot;gtk20&quot; &quot;/usr/share/locale&quot; &quot;az:ca:co:en:fr:gv:oc:pt:sq:tr:wa&quot; and this in /usr/lib/gtk-3.0/3.0.0/immodules.cache &quot;/usr/lib/gtk-3.0/3.0.0/immodules/im-cedilla.so&quot; &quot;cedilla&quot; &quot;Cedilla&quot; &quot;gtk30&quot; &quot;/usr/share/locale&quot; &quot;az:ca:co:en:fr:gv:oc:pt:sq:tr:wa&quot; Then, do # echo &quot;export GTK_IM_MODULE=cedilla&quot; &gt;&gt; /etc/environment Done. Simply just close and reopen the gtk programs like gedit. Non ASCII characters when mounting USB sticks A common problem when automounting USB sticks formatted with fat filesystem is the inability to properly show characters as umlauts, ñ, ß, etc. This may be solved by changing the default iocharset to UTF-8, which is easily done adding a line to /etc/xdg/xfce4/mount.rc: [vfat] uid=&lt;auto&gt; shortname=winnt utf8=true # FreeBSD specific option longnames=true flush=true Note that when using utf-8, the system will distinct between upper- and lowercases, potentially corrupting your files, so be careful. It is possible to mount vfat devices with flush option, so that when copying to USB sticks data flushes more often, thus making thunar's progress bar to stays up until finished. Adding async instead will speed up write ops, but make sure to use Eject option in Thunar to unmount the stick. Globally, mount options for storage devices present at boot can be set in fstab, and for other devices in udev rules. See also http://docs.xfce.org/ - The complete documentation. Xfce-Look - Themes, wallpapers, and more. Xfce Wikia - How to edit the auto generated menu with the menu editor Xfce Wiki Retrieved from &quot;https://wiki.archlinux.org/index.php?title=Xfce&amp;oldid=258343&quot; Category: Desktop environments Views Page Discussion View source History Personal tools Create account Log in Navigation Main page Categories Getting Involved Wiki News Recent changes Random page Help Search Toolbox What links here Related changes Special pages Printable version Permanent link In other languages Česky Deutsch Español Français Italiano 日本語 Polski Русский Türkçe Українська ‪中文（中国大陆）‬ This page was last modified on 23 May 2013, at 04:30. Content is available under GNU Free Documentation License 1.3 or later. Privacy policy About ArchWiki Disclaimers " />
  <RDF:Description RDF:about="urn:scrapbook:item20130528183408#index"
                   NS1:folder="urn:scrapbook:root"
                   NS1:content="" />
  <RDF:Description RDF:about="urn:scrapbook:item20130528170854#index"
                   NS1:folder="urn:scrapbook:root"
                   NS1:content=" tazjel@gmail.com ▼ | My favorites ▼ | Profile | Sign out Logo pyfpdf Simple PDF generation for Python (FPDF PHP port) AKA fpdf.py Project Home Downloads Wiki Issues Source Search for Templates sample &quot;fill-in-the-blank&quot; documents Featured, Phase-Support Updated Feb 7, 2013 by leo.m.ro...@gmail.com Introduction Templates are predefined documents (like invoices, tax forms, etc.), where each element (text, lines, barcodes, etc.) has a fixed position (x1, y1, x2, y2), style (font, size, etc.) and a default text. This elements can act as placeholders, so the program can change the default text &quot;filling&quot; the document. Also, the elements can be defined in a CSV file or in a database, so the user can easily adapt the form to his printing needs. Template is used like a dict, setting it items values. Details - Template definition A template is composed of a Header and a list of elements. The header contains the page format, title of the document and other metadata. Elements have the following properties (columns in a CSV, fields in a database): name: placeholder identification type: 'T': texts, 'L': lines, 'I': images, 'B': boxes, 'BC': barcodes x1, y1, x2, y2: top-left, bottom-right coordinates (in mm) font: ie &quot;Arial&quot; size: text size in points, ie. 10 bold, italic, underline: text style (non-empty to enable) foreground, background: text and fill colors, ie. 0xFFFFFF align: text aling, 'L': left, 'R': right, 'C': center text: default string, can be replaced at runtime priority: Z-Order How to create a template A template can be created in 3 ways: By defining everything manually in a hardcoded way By using a template definition in a CSV document and parsing the CSV with Template.parse_dict() By defining the template in a database (this applies to Web2Py integration) Note the following, the definition of a template will contain the elements. The header will be given during instantiation (except for the database method). Example - Hardcoded from pyfpdf import Template #this will define the ELEMENTS that will compose the template. elements = [ { 'name': 'company_logo', 'type': 'I', 'x1': 20.0, 'y1': 17.0, 'x2': 78.0, 'y2': 30.0, 'font': None, 'size': 0.0, 'bold': 0, 'italic': 0, 'underline': 0, 'foreground': 0, 'background': 0, 'align': 'I', 'text': 'logo', 'priority': 2, }, { 'name': 'company_name', 'type': 'T', 'x1': 17.0, 'y1': 32.5, 'x2': 115.0, 'y2': 37.5, 'font': 'Arial', 'size': 12.0, 'bold': 1, 'italic': 0, 'underline': 0, 'foreground': 0, 'background': 0, 'align': 'I', 'text': '', 'priority': 2, }, { 'name': 'box', 'type': 'B', 'x1': 15.0, 'y1': 15.0, 'x2': 185.0, 'y2': 260.0, 'font': 'Arial', 'size': 0.0, 'bold': 0, 'italic': 0, 'underline': 0, 'foreground': 0, 'background': 0, 'align': 'I', 'text': None, 'priority': 0, }, { 'name': 'box_x', 'type': 'B', 'x1': 95.0, 'y1': 15.0, 'x2': 105.0, 'y2': 25.0, 'font': 'Arial', 'size': 0.0, 'bold': 1, 'italic': 0, 'underline': 0, 'foreground': 0, 'background': 0, 'align': 'I', 'text': None, 'priority': 2, }, { 'name': 'line1', 'type': 'L', 'x1': 100.0, 'y1': 25.0, 'x2': 100.0, 'y2': 57.0, 'font': 'Arial', 'size': 0, 'bold': 0, 'italic': 0, 'underline': 0, 'foreground': 0, 'background': 0, 'align': 'I', 'text': None, 'priority': 3, }, { 'name': 'barcode', 'type': 'BC', 'x1': 20.0, 'y1': 246.5, 'x2': 140.0, 'y2': 254.0, 'font': 'Interleaved 2of5 NT', 'size': 0.75, 'bold': 0, 'italic': 0, 'underline': 0, 'foreground': 0, 'background': 0, 'align': 'I', 'text': '200000000001000159053338016581200810081', 'priority': 3, }, ] #here we instantiate the template and define the HEADER f = Template(format=&quot;A4&quot;,elements=elements, title=&quot;Sample Invoice&quot;) f.add_page() #we FILL some of the fields of the template with the information we want #note we access the elements treating the template instance as a &quot;dict&quot; f[&quot;company_name&quot;] = &quot;Sample Company&quot; f[&quot;company_logo&quot;] = &quot;pyfpdf/tutorial/logo.png&quot; #and now we render the page f.render(&quot;./template.pdf&quot;) See template.py or Web2Py for a complete example. Example - Elements defined in CSV file You define your elements in a csv file &quot;mycsvfile.csv&quot; that will look like: line0;T;20.0;13.0;190.0;13.0;times;10.0;0;0;0;0;65535;C;;0 line1;T;20.0;67.0;190.0;67.0;times;10.0;0;0;0;0;65535;C;;0 name0;T;21;14;104;25;times;16.0;0;0;0;0;0;C;;2 title0;T;64;26;104;30;times;10.0;0;0;0;0;0;C;;2 Remember that each line represents an Element and each field represents one of the properties of the element in the following order: ('name','type','x1','y1','x2','y2','font','size','bold','italic','underline','foreground','background','align','text','priority', 'multiline') Then you can use the file like this: def test_template(): f = Template(format=&quot;A4&quot;, title=&quot;Sample Invoice&quot;) f.parse_csv(&quot;mycsvfile.csv&quot;) f.add_page() f[&quot;company_name&quot;] = &quot;Sample Company&quot; response.headers['Content-Type']='application/pdf' return f.render(&quot;./template.pdf&quot;,dest='S') Designer - GUI tool to design templates This library includes a program designer.py to visually modify the designs of a template (i.e., an invoice, report, etc.) Input files are CSV spreadsheets describing the design (see above). Once opened, the designer displays the template with the elements as how they will be located. The toolbar has buttons for: Open, save and print (preview) template Add, delete and duplicate Find items by name or by text Find and replace (modify selected elements, mainly move x/y) Over an element, double left click opens a dialog to edit its text and right click opens a dialog with the properties window. You can select multiple items by holding down shift and left click them. To move the elements you can use the arrow keys or drag the elements. To run it, just go to the directory and run: python designer.py (you need to have wx installed). if you are having problems making it work, so change the imports on designer.py file for the following (it should be fixed in the next version): import os, sys import wx import wx.lib import wx.lib.ogl as ogl try: from wx.lib.wordwrap import wordwrap except ImportError: wordwrap = lambda text, width, dc: text try: from template import Template except ImportError: # we are frozen? from fpdf.template import Template As an example, the following screenshot shows the Visual Designer, with the sample invoice.csv file open and 'logo' element selected, editing its properties: Comment by wasu...@gmail.com, Feb 7, 2012 Where is parse_cvs? Comment by snow8...@gmail.com, Aug 25, 2012 Designer file can not be save Hint: You can use Wiki Syntax. Enter a comment: [It's All Text!] Terms - Privacy - Project Hosting Help Powered by Google Project Hosting Projects tazjel Starred projects altdragapt-cygardesiaautokeycopyqcyg-aptdragonflygooglefontdirectoryjquery-ui-vkkey-monminttymobileterminalmsysgitmusic21puttycygswapytextroomtweetxuc-debugweb2py Find open source projects...Create a project... tazjel@gmail.comabobani@gmail.com Sign in with another account... " />
  <RDF:Description RDF:about="urn:scrapbook:item20130524055024#index"
                   NS1:folder="urn:scrapbook:item20130523104421"
                   NS1:content=" Home Packages Forums Wiki Bugs AUR Download xprofile From ArchWiki (Redirected from .xprofile) Jump to: navigation, search /etc/xprofile and ~/.xprofile allow you to execute commands at the beginning of the X user session, before the Window Manager is started. Therefore it cannot be used to start window-based applications. See Autostarting#Graphical for that. Compatibility xprofiles are natively sourced by KDM (/usr/share/config/kdm/Xsession), GDM (/etc/gdm/Xsession) and LXDM (/etc/lxdm/Xsession). Making it compatible with xinit It is possible to make xprofiles compatible with these programs: startx xinit XDM SLiM any other Display Manager who uses ~/.xsession or ~/.xinitrc All of these execute, directly or indirectly, ~/.xinitrc (usually copied from /etc/skel/.xinitrc), or /etc/X11/xinit/xinitrc if it doesn't exist. That's why we have to source xprofiles from these files. ~/.xinitrc and /etc/X11/xinit/xinitrc and /etc/skel/.xinitrc #!/bin/sh # Make sure this is before the 'exec' command or it won't be sourced. [ -f /etc/xprofile ] &amp;&amp; source /etc/xprofile [ -f ~/.xprofile ] &amp;&amp; source ~/.xprofile ... Retrieved from &quot;https://wiki.archlinux.org/index.php?title=Xprofile&amp;oldid=245767&quot; Category: X Server Views Page Discussion View source History Personal tools Create account Log in Navigation Main page Categories Getting Involved Wiki News Recent changes Random page Help Search Toolbox What links here Related changes Special pages Printable version Permanent link In other languages Español 日本語 This page was last modified on 31 January 2013, at 13:29. Content is available under GNU Free Documentation License 1.3 or later. Privacy policy About ArchWiki Disclaimers " />
  <RDF:Description RDF:about="urn:scrapbook:item20130524060022#index"
                   NS1:folder="urn:scrapbook:item20130523104421"
                   NS1:content=" Home Packages Forums Wiki Bugs AUR Download Xfce From ArchWiki Jump to: navigation, search Summary Xfce is a lightweight desktop environment for Unix-like operating systems. It aims to be fast and lightweight, while still being visually appealing and user friendly. This article covers its installation, configuration, and troubleshooting. Xfce uses the GTK+ toolkit. Overview The Xorg project provides an open source implementation of the X Window System – the foundation for a graphical user interface. Desktop environments such as Enlightenment, GNOME, KDE, LXDE, and Xfce provide a complete graphical environment. Various window managers offer alternative and novel environments, and may be used standalone to conserve system resources. Display managers provide a graphical login prompt. Related Thunar Improve GTK Application Looks Autostart applications#Graphical From Xfce - About: Xfce embodies the traditional UNIX philosophy of modularity and re-usability. It consists of a number of components that provide the full functionality one can expect of a modern desktop environment. They are packaged separately and you can pick among the available packages to create the optimal personal working environment. Xfce is a Desktop Environment, like GNOME or KDE. It contains a suite of apps like a root window app, window manager, file manager, panel, etc. Xfce is written using the GTK2 toolkit, and contains its own development environment (libraries, daemons, etc), similar to other big DEs. Features: Lighter on resources than the other major DEs (KDE, GNOME). Most settings are exposed via a GUI, Xfce does not try to hide stuff from the user. Xfwm has an optional built-in compositor which allows for true transparency and all the benefits of GPU acceleration (minimizes tearing, etc.). It works great with multiple monitors. Contents [hide] 1 Installation 2 Starting Xfce 2.1 Automatically 2.2 Manually 2.3 Automounting 3 Tips and tricks 3.1 Xfconf settings 3.2 Panel 3.2.1 xfce panel background 3.2.2 'menu' panel replacement 3.2.3 Removing entries from the System menu 3.2.3.1 Method 1 3.2.3.2 Method 2 3.2.3.3 Method 3 3.2.3.4 Method 4 3.2.4 Missing applications 3.2.5 Panel autohide delay 3.2.6 Panel at desktop level 3.3 Desktop 3.3.1 Transparent Background for Icon Titles 3.3.2 Hide Selected Partitions 3.3.3 Remove Thunar Options from Right-click 3.3.4 Kill Window Shortcut 3.4 XFWM4 3.4.1 Enabling the Compositor 3.4.2 Disable window roll-up 3.4.3 Toggle Automatic Tiling of Windows at Edge of Screen 3.5 Settings Manager Commands 3.6 Session 3.6.1 Custom Startup Applications 3.6.2 Lock the screen 3.6.3 Switch between users 3.6.4 Manually Modifying XML settings 3.7 Removable Devices 3.8 Look and Feel 3.8.1 Add themes to XFCE 3.8.2 Cursors 3.8.3 Icons 3.8.4 Fonts 3.9 Sound 3.9.1 Configuring xfce4-mixer 3.9.2 Xfce4-mixer and OSS4 3.9.3 Keyboard Volume Buttons 3.9.3.1 ALSA 3.9.3.2 OSS 3.9.3.3 PulseAudio 3.9.3.4 Xfce4-volumed 3.9.3.5 Volumeicon 3.9.4 Adding startup/boot sound 3.10 xdg-open integration (Preferred Applications) 3.11 Screenshots 3.11.1 Print Screen key 3.12 Terminal color themes or pallets 3.12.1 Changing default color theme 3.12.2 Terminal tango color theme 3.13 Colour management 3.13.1 Loading a profile 3.13.2 Creating a profile 3.14 Multiple Monitors 3.15 XDG User Directories 3.16 SSH Agents 4 Troubleshooting 4.1 xfce4-power-manager 4.2 xfce4-xkb-plugin 4.3 Locales ignored with GDM 4.4 Restore default settings 4.5 NVIDIA and xfce4-sensors-plugin 4.6 Session failure 4.7 Preferred Applications preferences have no effect 4.8 Action Buttons/Missing Icons 4.9 Enable cedilla ç/Ç instead of ć/Ć 4.10 Non ASCII characters when mounting USB sticks 5 See also Installation Before starting, make sure you have the X server installed and configured correctly. Note: Xfce is somewhat modular. That means there is no need for you to run every part, you can pick and choose some of them. The base Xfce system can be installed with the group xfce4, available in the Official Repositories. Pacman will ask you to select the packages to install, but you probably want to get them all by simply pressing Enter. Additional packages, like panel plugins, notifications, and system tools are available in the xfce4-goodies group. Tip: Installing Gamin (the successor of FAM) is highly recommended. Tip: Common tasks such as mounting removable drives and extracting archives can be accomplished with Thunar. If you do not install xfce4-goodies but still want these niceties, read the Thunar page. Starting Xfce Automatically There are two methods to start Xfce (and in fact, any desktop or window manager) at boot time: Run Xfce through a Display Manager Run Xfce automatically using the xorg-xinit method at Start X at Login combining with Automatic login to virtual console‎ Manually Note: See xinitrc for details, such as preserving the logind session. You can execute: $ startxfce4 from the console, or configure xinitrc and use xinit or startx. If you have not created a ~/.xinitrc yet, do so with: $ cp /etc/skel/.xinitrc ~/.xinitrc and add the following line: exec startxfce4 Example: ~/.xinitrc #!/bin/sh if [ -d /etc/X11/xinit/xinitrc.d ]; then for f in /etc/X11/xinit/xinitrc.d/*; do [ -x &quot;$f&quot; ] &amp;&amp; . &quot;$f&quot; done unset f fi exec startxfce4 Note: In case you are wondering, dbus-launch will be launched by the xinitrc.d code at the beginning of the file. dbus-launch starts a dbus-daemon instance to provide communication with PolicyKit. The proper command for launching Xfce is startxfce4: do not start xfce4-session directly, since it is already run by startxfce4 itself. Automounting See General Troubleshooting#Session permissions. If you have no problems shutting down and rebooting but cannot automount external media and disks, you may need to install gvfs. See the Removable Devices section. Tips and tricks Xfconf settings Xfconf is XFCE's system for storing configuration options, and most XFCE configuration is done by editing settings in Xfconf (one way or another). There are several ways to modify these settings: The most obvious and easiest way is to go to &quot;Settings&quot; in the main menu and select the category you want to customize. However, not all customization options are available this way. A less user-friendly but more general way is to go to Main menu -&gt; Settings -&gt; Settings Editor where you can see and modify all the customization options. Any settings modified here will take effect immediately. The Settings Editor can also be launched from the command line by invoking xfce4-settings-editor. Customization can be done completely from the command line using the program xfconf-query. See the XFCE online documentation for more information and examples and the rest of this wiki page for more examples. Settings changed here will take effect immediately. The settings are stored in XML files in ~/.config/xfce4/xfconf/xfce-perchannel-xml/ which can be edited by hand. However, changes made here will not take effect immediately. For more information: Xfconf documentation Panel xfce panel background Edit ~/.gtkrc-2.0. Note that you must place the image in the same directory as the configuration, which is ~/. You can not specify the path to the image, or it will not work. style &quot;panel-background&quot; { bg_pixmap[NORMAL] = &quot;foo.bar&quot; bg_pixmap[PRELIGHT] = &quot;foo.bar&quot; bg_pixmap[ACTIVE] = &quot;foo.bar&quot; bg_pixmap[SELECTED] = &quot;foo.bar&quot; bg_pixmap[INSENSITIVE] = &quot;foo.bar&quot; } widget_class &quot;*Panel*&quot; style &quot;panel-background&quot; 'menu' panel replacement The &quot;Ubuntu System Panel&quot; (GNOME) panel applet has similar features to those found in its KDE v4.2 equivalent. It can be added to an Xfce panel via the 'XfApplet' panel applet, which allows GNOME applets to be used in Xfce. It is available in the AUR as the usp2 package. Removing entries from the System menu Method 1 With the built-in menu editor, you cannot remove menu entries from the System menu. Here’s how to hide them: Open Terminal (Xfce menu &gt; System &gt; Terminal) and go to the /usr/share/applications folder: $ cd /usr/share/applications This folder should be full of .desktop files. To see a list type: $ ls Add NoDisplay=true to the .desktop file. For example, if you want to hide Firefox, type in the terminal: # echo &quot;NoDisplay=true&quot; &gt;&gt; firefox.desktop This command appends the text NoDisplay=true to the end of the .desktop file. Method 2 Another method is to copy the entire contents of the global applications directory over to your local applications directory, and then proceed to modify and/or disable unwanted .desktop entries. This will survive application updates that overwrite changes under /usr/share/applications/. In a terminal, copy everything from /usr/share/applications to ~/.local/share/applications/: $ cp /usr/share/applications/* ~/.local/share/applications/ For any entry you wish to hide from the menu, add the NoDisplay=true option: $ echo &quot;NoDisplay=true&quot; &gt;&gt; ~/.local/share/applications/foo.desktop You can also edit the application's category by editing the .desktop file with a text editor and modifying the Categories= line. Method 3 The third method is the cleanest and recommended in the Xfce wiki. Create the file ~/.config/menus/xfce-applications.menu and copy the following in it: &lt;!DOCTYPE Menu PUBLIC &quot;-//freedesktop//DTD Menu 1.0//EN&quot; &quot;http://www.freedesktop.org/standards/menu-spec/1.0/menu.dtd&quot;&gt; &lt;Menu&gt; &lt;Name&gt;Xfce&lt;/Name&gt; &lt;MergeFile type=&quot;parent&quot;&gt;/etc/xdg/menus/xfce-applications.menu&lt;/MergeFile&gt; &lt;Exclude&gt; &lt;Filename&gt;xfce4-run.desktop&lt;/Filename&gt; &lt;Filename&gt;exo-terminal-emulator.desktop&lt;/Filename&gt; &lt;Filename&gt;exo-file-manager.desktop&lt;/Filename&gt; &lt;Filename&gt;exo-mail-reader.desktop&lt;/Filename&gt; &lt;Filename&gt;exo-web-browser.desktop&lt;/Filename&gt; &lt;Filename&gt;xfce4-about.desktop&lt;/Filename&gt; &lt;Filename&gt;xfhelp4.desktop&lt;/Filename&gt; &lt;/Exclude&gt; &lt;Layout&gt; &lt;Merge type=&quot;all&quot;/&gt; &lt;Separator/&gt; &lt;Menuname&gt;Settings&lt;/Menuname&gt; &lt;Separator/&gt; &lt;Filename&gt;xfce4-session-logout.desktop&lt;/Filename&gt; &lt;/Layout&gt; &lt;/Menu&gt; The &lt;MergeFile&gt; tag includes the default Xfce menu in our file. This is important. The &lt;Exclude&gt; tag excludes applications which we do not want to appear in the menu. Here we excluded some Xfce default shortcuts, but you can exclude firefox.desktop or any other application. The &lt;Layout&gt; tag defines the layout of the menu. The applications can be organized in folders or however we wish. For more details see the aforementioned Xfce wiki page. Method 4 Alternatively a tool called xame can be used. XAME is a GUI tool written in Gambas designed specifically for editing menu entires in XFCE, it will NOT work in other DEs. XAME is available in the xame package from the AUR. Missing applications When some applications are installed (for example via WINE), they may not be listed in /usr/share/applications. Shortcuts might be found in the category “Other” in this directory: ~/.local/share/applications/wine/. Panel autohide delay Add this to ~/.gtkrc-2.0. style &quot;xfce-panel-window-style&quot; { # Time in miliseconds before the panel will unhide on an enter event XfcePanelWindow::popup-delay = 225 # Time in miliseconds before the panel will hide on a leave event XfcePanelWindow::popdown-delay = 350 } class &quot;XfcePanelWindow&quot; style &quot;xfce-panel-window-style&quot; Panel at desktop level If you want a panel at desktop level (i.e., other windows will stack over it) you need a little hack, ensure you have installed the wmctrl package from the Official Repositories. Create a script in ~/.config/xfce4/xfce4-fix-panel with this content and make it executable (you can use chmod 755 xfce4-fix-panel). #!/bin/bash set -e function getPanelIdImpl() { # get panel id PANEL=&quot;`wmctrl -l | sed -n -e '/ xfce4-panel$/ s_ .*$__ p' | sed -n -e $1' p'`&quot; } function getPanelId() { # eventually await the panel to appear getPanelIdImpl $1 while [ x = x$PANEL ] ;do sleep 0.5s getPanelIdImpl $1 done } function putPanelDown() { PANEL=&quot;&quot; getPanelId $1 wmctrl -i -r $PANEL -b add,below } # call the program with a list of panel numbers as arguments # for example, xfce4-fix-panel 1 2 3 # for the first three panels for i in $* ;do putPanelDown $i done Once wrote the script, and tested it, you need to auto-execute it at each login. You can use the Session and StartUp -&gt; Application Autostart gui. This passage will put your panels at desktop level, but if your panel is sticking to a border the maximized windows will not stack over it. You can enable this behavior with the following command, fortunately you need to do this only once. (change the $ID with the panel number of interest) xfconf-query -c xfce4-panel -p /panels/panel-$ID/disable-struts -n -t bool -s true Desktop Transparent Background for Icon Titles To change the default white background of desktop icon titles to something more suitable, edit the .gtkrc-2.0 file in your home directory (or create the file if needed) and add the following: style &quot;xfdesktop-icon-view&quot; { XfdesktopIconView::label-alpha = 10 base[NORMAL] = &quot;#000000&quot; base[SELECTED] = &quot;#71B9FF&quot; base[ACTIVE] = &quot;#71FFAD&quot; fg[NORMAL] = &quot;#ffffff&quot; fg[SELECTED] = &quot;#71B9FF&quot; fg[ACTIVE] = &quot;#71FFAD&quot; } widget_class &quot;*XfdesktopIconView*&quot; style &quot;xfdesktop-icon-view&quot; Hide Selected Partitions If you wish to prevent certain partitions or drives appearing on the desktop, you can create a udev rule, for example /etc/udev/rules.d/10-local.rules: KERNEL==&quot;sda1&quot;, ENV{UDISKS_PRESENTATION_HIDE}=&quot;1&quot; KERNEL==&quot;sda2&quot;, ENV{UDISKS_PRESENTATION_HIDE}=&quot;1&quot; Would show all partitions with the exception of sda1 and sda2 on your desktop. Notice, if you are using udisk2 the above will not work, due to the UDISKS_PRESENTATION_HIDE no longer being supported, instead you must use UDISKS_IGNORE as follows KERNEL==&quot;sda1&quot;, ENV{UDISKS_IGNORE}=&quot;1&quot; KERNEL==&quot;sda2&quot;, ENV{UDISKS_IGNORE}=&quot;1&quot; Remove Thunar Options from Right-click xfconf-query -c xfce4-desktop -v --create -p /desktop-icons/style -t int -s 0 Kill Window Shortcut Xfce does not support the kill window shortcut directly, but you can add one with a simple script. Ensure you have the xorg-xkill package installed. Create a script in ~/.config/xfce4/killwindow.sh with this content and make it executable (you can use chmod 755 killwindow.sh). xkill -id &quot;`xprop -root -notype | sed -n '/^_NET_ACTIVE_WINDOW/ s/^.*# *\|\,.*$//g p'`&quot; Now associate a shortcut using Settings -&gt; Keyboard to that script. XFWM4 Enabling the Compositor Xfce comes with a builtin compositor adding the option for fancy window effects, shadows and transparency and so on. It can be enabled in the Window Manager Tweaks and works on the fly. No additional settings are needed in your /etc/xorg.conf. To enable and adjust settings, go to: Menu --&gt; Settings --&gt; Window Manager Tweaks Disable window roll-up xfconf-query -c xfwm4 -p /general/mousewheel_rollup -s false Toggle Automatic Tiling of Windows at Edge of Screen XFWM4 has the ability to &quot;tile&quot; a window automatically when it is moved to the edge of the screen by resizing it to fill the top half of the screen. (The official XFCE website says this feature is disabled by default in XFCE 4.10, but it seems to be enabled by default on Arch Linux.) This behavior can be enabled or disabled in Window Manager Tweaks --&gt; Accessibility --&gt; Automatically tile windows when moving toward the screen edge, or: xfconf-query -c xfwm4 -p /general/tile_on_move -s false # To disable xfconf-query -c xfwm4 -p /general/tile_on_move -s true # To enable Settings Manager Commands There is no official documentation for the commands executed. One must look at .desktop files /usr/share/applications/ folder. For the people who like to know exactly what is happening, here is a handy list to save the effort: xfce4-accessibility-settings xfce4-power-manager-settings xfce4-settings-editor xfdesktop-settings xfce4-display-settings xfce4-keyboard-settings xfce4-mouse-settings xfce4-session-settings xfce4-settings-manager xfce4-appearance-settings xfwm4-settings xfwm4-tweaks-settings xfwm4-workspace-settings orage -p To review all the available setting manager commands run the following in a terminal: $ grep '^Exec=' /usr/share/applications/xfce*settings* | sed -e 's_^.*=_ _' Session Custom Startup Applications This includes getting necessary environment variables into the GUI runtime. Copy the file /etc/xdg/xfce4/xinitrc to ~/.config/xfce4/ Edit this file. For example, you can add something like this somehwere in the middle: source $HOME/.bashrc # start rxvt-unicode server urxvtd -q -o -f Lock the screen To lock an Xfce4 session (through xflock4) one of xscreensaver, gnome-screensaver or xlockmore packages needs to be installed. Switch between users Xfce4 allows this behavior under the 'action buttons' menu item. Currently, both gdm and lightdm provide this functionality. Manually Modifying XML settings It may be useful, especially when upgrading, to manually edit .xml files in the ~/.config/xfce4/xfconf/ folder. For application keyboard shortcuts for example, the file is ~/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-keyboard-shortcuts.xml. It is faster to copy and paste the XML keys that you want rather than using the GUI. Removable Devices If you want an icon appearing on your desktop and in Thunar when you plug in external devices, make sure gvfs is installed. You could also need to install gvfs-afc (read this discussion). It is also a good idea to install thunar-volman (already included in the xfce4 base group). Additionally, udisks and a udisks wrapper are recommended if you want to automount optical and external drives easily. Look and Feel Add themes to XFCE 1. Go to www.xfce-look.org and click &quot;Themes&quot; in the left navbar. Look around for a theme you want and click &quot;Download&quot;. 2. Go to the directory where you downloaded the tarball/file and extract it using Squeeze/Xarchiver/CLI. 3. Move the extracted folder to /usr/share/themes (for all users) or ~/.themes (for just you). Inside /usr/share/themes/abc, there is a folder that you create called xfwm4 that will contain whatever files that is included with that theme. 4. GTK theme is available here: Menu --&gt; Settings --&gt; Appearance You select your xfwm theme in: Menu --&gt; Settings --&gt; Window Manager Cursors Main article: X11 Cursors If you have alternative X cursor themes installed, Xfce can find them with: Menu --&gt; Settings --&gt; Mouse --&gt; Theme Icons First find and download your desired icon pack. Recommended places to download icons from are Customize.org, Opendesktop.org and Xfce-look.org; the AUR provides several PKGBUILDs for icon packs. Go to the directory where you downloaded the icon pack and extract it. Example tar -xzf /home/user/downloads/icon-pack.tar.gz. Move the extracted folder containing the icons to ~/.icons (if only you want to use the icons) or to /usr/share/icons (if you want all users on the system to make use of the icons), and in the lattter case consider creating a PKGBUILD for that. Optional: run gtk-update-icon-cache -f -t ~/.icons/&lt;theme_name&gt; to update icon cache Switch your icons by going to: Menu --&gt; Settings --&gt; Appearance --&gt; Icons When you have icon theme problems, it is also recommended to install the hicolor-icon-theme package if it was not already installed. Fonts If you find the standard fonts rather thick and or slightly out of focus open Settings&gt;Appearence click on the Fonts tab and under Hinting: change to Full You could also try using a custom DPI setting. Sound Configuring xfce4-mixer xfce4-mixer is the GUI mixer app / panel plugin made by the Xfce team. It is part of the xfce4 group, so you probably already have it installed. Xfce 4.6 uses gstreamer as the backend to control volume, so first you have to make gstreamer cooperate with xfce4-mixer. One or more of the gstreamer plugin packages listed as optional dependencies to xfce4-mixer must be installed. Without one of these required plugins packages, the following error arises when clicking on the mixer panel item. GStreamer was unable to detect any sound devices. Some sound system specific GStreamer packages may be missing. It may also be a permissions problem. (It is probably not a permissions problem. It is no longer required to add audio users to the &quot;audio&quot; group.) Which plugins are needed depends on the hardware. Most people should be fine with gstreamer0.10-base-plugins which can be installed from Official Repositories. If the xfce4-mixer panel item was already running before one of the plugins packages was installed, logout and login to see if it worked, or just remove the mixer plugin from the panel and add it again. If that does not work, you might need more or different gstreamer plugins. Try to install package gstreamer0.10-good-plugins or gstreamer0.10-bad-plugins. For further details, for example how to set the default sound card, see Advanced Linux Sound Architecture. Alternatively you can use PulseAudio together with pavucontrol. Xfce4-mixer and OSS4 If you tried the above section to get xfce4-mixer to work and it does not work at all, then you may have to compile gstreamer0.10-good-plugins yourself. Download the PKGBUILD and other files needed from ABS or here, edit the PKGBUILD, add --enable-oss. ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var \ --enable-oss \ --disable-static --enable-experimental \ --disable-schemas-install \ --disable-hal \ --with-package-name=&quot;GStreamer Good Plugins (Archlinux)&quot; \ --with-package-origin=&quot;https://www.archlinux.org/&quot; and then run makepkg -i. makepkg -i Still not working? Try this package in AUR gstreamer0.10-good-plugins-ossv4, modify the pkgver to the newest in the PKGBUILD, and it should work. Other LINKS: OSS forum Keyboard Volume Buttons Go to Settings --&gt; Keyboard Click the &quot;Application Shortcuts&quot; tab and add click the &quot;Add&quot; button. Add the following by entering the command, then pressing the corresponding button at the next window: ALSA For the raise volume button: amixer set Master 5%+ For the lower volume button: amixer set Master 5%- For the mute button: amixer set Master toggle You can also run these commands to set the above commands to the standard XF86Audio keys: xfconf-query -c xfce4-keyboard-shortcuts -p /commands/custom/XF86AudioRaiseVolume -n -t string -s &quot;amixer set Master 5%+ unmute&quot; xfconf-query -c xfce4-keyboard-shortcuts -p /commands/custom/XF86AudioLowerVolume -n -t string -s &quot;amixer set Master 5%- unmute&quot; xfconf-query -c xfce4-keyboard-shortcuts -p /commands/custom/XF86AudioMute -n -t string -s &quot;amixer set Master toggle&quot; If amixer set Master toggle does not work, try the PCM channel (amixer set PCM toggle) instead. The channel must have a &quot;mute&quot; option for the toggle command to work. To check whether or not your Master channel supports toggling mute, run alsamixer in a terminal and look for the double M's (MM) under the Master channel. If they are not present, then it does not support the mute option. If, for example, you had to change the toggle button to use the PCM channel, make sure to also set the PCM channel as the Mixer Track under Xfce Mixer properties. OSS Use one of these scripts: http://www.opensound.com/wiki/index.php/Tips_And_Tricks#Using_multimedia_keys_with_OSS If using ossvol (recommended), add: ossvol -i 1 for the volume up button ossvol -d 1 for the volume down button ossvol -t for the mute/unmute button PulseAudio For the raise volume button: pactl set-sink-mute 0 false ; pactl set-sink-volume 0 +1% For the lower volume button: pactl set-sink-mute 0 false ; pactl -- set-sink-volume 0 -1% For the mute button: pactl set-sink-mute 0 toggle These settings assume the device you want to control has index 0. Use pactl list sinks short to list sinks. Xfce4-volumed xfce4-volumed daemon from the AUR automatically maps volume keys of your keyboard to Xfce-mixer. Additionally you get OSD through Xfce4-notifyd when changing volume. Xfce4-volumed does not need any configuration and is started automatically with Xfce. Tango-emblem-important.png The factual accuracy of this article or section is disputed. Reason: There should be a short explanation of what this does and why it fixes the problem (bug?). (Discuss) Tango-emblem-important.png If you use pulseaudio and xfce4-volumed unmute does not work, try this: $ xfconf-query -c xfce4-mixer -p /active-card -s `xfconf-query -c xfce4-mixer -p /sound-card` Volumeicon volumeicon is an alternative to xfce4-volumed in the community repo also handling keybindings and notifications through xfce4-notifyd. Adding startup/boot sound Arch does not have a built-in startup sound configuration tool, but there is a workaround by adding the following command to your Application Autostart settings: aplay /boot/startupsound.wav The file location and filename can be whatever you want, but naming it descriptively and putting it in /boot keeps things tidy. xdg-open integration (Preferred Applications) Most applications rely on xdg-open for opening a preferred application for a given file or URL. In order for xdg-open and xdg-settings to detect and integrate with the XFCE desktop environment correctly, you need to install the xorg-xprop package. If you do not do that, your preferred applications preferences (set by exo-preferred-applications) will not be obeyed. Installing the package and allowing xdg-open to detect that you are running XFCE makes it forward all calls to exo-open instead, which correctly uses all your preferred applications preferences. To make sure xdg-open integration is working correctly, ask xdg-settings for the default web browser and see what the result is: # xdg-settings get default-web-browser If it replies with: xdg-settings: unknown desktop environment it means that it has failed to detect XFCE as your desktop environment, which is likely due to a missing xorg-xprop package. Screenshots XFCE has its own screenshot tool, xfce4-screenshooter. It is part of the xfce4-goodies group. Print Screen key Go to: XFCE Menu --&gt; Settings --&gt; Keyboard &gt;&gt;&gt; Application Shortcuts. Add the &quot;xfce4-screenshooter -f&quot; command to use the &quot;PrintScreen&quot; key in order to take fullscreen screenshots. See screenshooter's man page for other optional arguments. Alternatively, an independent screenshot program like scrot can be used. Terminal color themes or pallets Terminal color themes or pallets can be changed in GUI under Appearance tab in Preferences. These are the colors that are available to most console applications like Emacs, Vi and so on. Their settings are stored individually for each system user in ~/.config/xfce4/terminal/terminalrc file. There are also so many other themes to choose from. Check forums post [Colour Scheme Screenshots] for hundreds of available choices and themes. Changing default color theme XFCE's extra/terminal package comes with a darker color palette and colored text looks pretty horrid in default black background impeding user readability. Append the following in your terminalrc file for a lighter color theme, that is always visible in darker Terminal backgrounds. ~/.config/xfce4/terminal/terminalrc ColorPalette5=#38d0fcaaf3a9 ColorPalette4=#e013a0a1612f ColorPalette2=#d456a81b7b42 ColorPalette6=#ffff7062ffff ColorPalette3=#7ffff7bd7fff ColorPalette13=#82108210ffff Terminal tango color theme To switch to tango color theme, open with your favorite editor ~/.config/xfce4/terminal/terminalrc And add(replace) these lines: ColorForeground=White ColorBackground=#323232323232 ColorPalette1=#2e2e34343636 ColorPalette2=#cccc00000000 ColorPalette3=#4e4e9a9a0606 ColorPalette4=#c4c4a0a00000 ColorPalette5=#34346565a4a4 ColorPalette6=#757550507b7b ColorPalette7=#060698989a9a ColorPalette8=#d3d3d7d7cfcf ColorPalette9=#555557575353 ColorPalette10=#efef29292929 ColorPalette11=#8a8ae2e23434 ColorPalette12=#fcfce9e94f4f ColorPalette13=#72729f9fcfcf ColorPalette14=#adad7f7fa8a8 ColorPalette15=#3434e2e2e2e2 ColorPalette16=#eeeeeeeeecec Colour management xfce4-settings-manager does not yet have any colour management / calibration settings, nor is there any specific XFCE program to characterise your monitor. Loading a profile If you wish to load an icc profile (that you have previously created or downloaded) to calibrate your display on startup, you can download xcalib from AUR, then open the XFCE4 Settings Manager, click Session and Startup icon, the Autostart tab, and add a new entry where the command is /usr/bin/xcalib /path/to/your/profile.icc. You still need to tell your applications, which display profile should be used to have the displayed images colour managed. Another option is dispwin. Dispwin not only calibrates the display, but also sets the _ICC_PROFILE atom in X so that some applications can use a &quot;system&quot; display profile instead of requiring the user to set the display profile manually (GIMP, Inkscape, darktable, UFRaw, etc.). See ICC Profiles#Loading ICC Profiles for more information. Creating a profile If you wish to create an icc profile for your display (ie. characterising/profiling, e.g. with the ColorHug, or some other colorimeter, or a spectrophotometer, or &quot;by eye&quot;), the simplest option may be to install dispcalGUI from AUR. Another option is to install gnome-settings-daemon and gnome-color-manager (available in extra). In order to start the calibration from the command line, first do /usr/lib/gnome-settings-daemon/gnome-settings-daemon &amp; (note: this might change your keyboard layout and who knows what else, so probably good to do it on a throwaway account), then colormgr get-devices and look for the &quot;Device ID&quot; line of your monitor. If this is e.g. &quot;xrandr-Lenovo Group Limited&quot;, you start calibration with the command gcm-calibrate --device &quot;xrandr-Lenovo Group Limited&quot;. Note: The reason you need gnome-settings-daemon running is because XFCE does not yet have a session component for colord: https://bugzilla.xfce.org/show_bug.cgi?id=8559 See ICC Profiles for more information. Multiple Monitors If you have configured X.org so that your display spans multiple monitors, usually when you login to an XFCE session, it will appear as if your monitors are simple clones of one another. You can use an xrandr tool to tweak your setup but if this is not called at an appropriate time in the startup sequence, some functionality may be lost with parts of your display being inaccessible to the mouse pointer. A better way is to configure XFCE to match your desired display arrangement. However, at present (xfce-settings 4.10), there is no tool available to assist with configuring multiple monitors directly. The Settings -&gt; Display tool does allow configuration of screen resolution, rotation and enabling individual monitors; warning: using this tool to adjust display settings will reset or lose settings made manually for properties not explicitly offered as buttons in the tool (see below). The Settings -&gt; Settings Editor allows manipulation of all configuration items in particular the displays settings which are saved in the file displays.xml below ~/.config/xfce4/xfconf/xfce-perchannel-xml Alternatively, the displays.xml can be edited using your favourite editor. The main requirement for multiple monitors is their arrangement relative to one another. This can be controlled by setting the Position properties (X and Y) to suit; an (x,y) position of 0,0 corresponds to the top, left position of the monitor array. This is the default position for all monitors and if several monitors are enabled they will appear as a cloned display area extending from this point. To extend the display area correctly across both monitors: for side-by-side monitors, set the X property of the rightmost monitor to equal the width of the left-most monitor for above-and-below monitors, set the Y property of the bottom monitor to equal the height of the upper monitor for other arrangements, set the X and Y properties of each monitor to correspond to your layout Measurements are in pixels. As an example, a pair of monitors with nominal dimensions of 1920x1080 which are rotated by 90 and placed side-by-side can be configured with a displays.xml like this: &lt;channel name=&quot;displays&quot; version=&quot;1.0&quot;&gt; &lt;property name=&quot;Default&quot; type=&quot;empty&quot;&gt; &lt;property name=&quot;VGA-1&quot; type=&quot;string&quot; value=&quot;Idek Iiyama 23&quot;&quot;&gt; &lt;property name=&quot;Active&quot; type=&quot;bool&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;Resolution&quot; type=&quot;string&quot; value=&quot;1920x1080&quot;/&gt; &lt;property name=&quot;RefreshRate&quot; type=&quot;double&quot; value=&quot;60.000000&quot;/&gt; &lt;property name=&quot;Rotation&quot; type=&quot;int&quot; value=&quot;90&quot;/&gt; &lt;property name=&quot;Reflection&quot; type=&quot;string&quot; value=&quot;0&quot;/&gt; &lt;property name=&quot;Primary&quot; type=&quot;bool&quot; value=&quot;false&quot;/&gt; &lt;property name=&quot;Position&quot; type=&quot;empty&quot;&gt; &lt;property name=&quot;X&quot; type=&quot;int&quot; value=&quot;0&quot;/&gt; &lt;property name=&quot;Y&quot; type=&quot;int&quot; value=&quot;0&quot;/&gt; &lt;/property&gt; &lt;/property&gt; &lt;property name=&quot;DVI-0&quot; type=&quot;string&quot; value=&quot;Digital display&quot;&gt; &lt;property name=&quot;Active&quot; type=&quot;bool&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;Resolution&quot; type=&quot;string&quot; value=&quot;1920x1080&quot;/&gt; &lt;property name=&quot;RefreshRate&quot; type=&quot;double&quot; value=&quot;60.000000&quot;/&gt; &lt;property name=&quot;Rotation&quot; type=&quot;int&quot; value=&quot;90&quot;/&gt; &lt;property name=&quot;Reflection&quot; type=&quot;string&quot; value=&quot;0&quot;/&gt; &lt;property name=&quot;Primary&quot; type=&quot;bool&quot; value=&quot;false&quot;/&gt; &lt;property name=&quot;Position&quot; type=&quot;empty&quot;&gt; &lt;property name=&quot;X&quot; type=&quot;int&quot; value=&quot;1080&quot;/&gt; &lt;property name=&quot;Y&quot; type=&quot;int&quot; value=&quot;0&quot;/&gt; &lt;/property&gt; &lt;/property&gt; &lt;/property&gt; &lt;/channel&gt; Usually, editing settings in this way requires a logout/login to action them. A new method for configuring multiple monitors will be available in the forthcoming xfce-settings 4.12 release. XDG User Directories freedesktop.org specifies the &quot;well known&quot; user directories like the desktop folder and the music folder. See Xdg user directories for detailed info. SSH Agents By default Xfce 4.10 will try to load gpg-agent or ssh-agent in that order during session initialization. To disable this, create an xfconf key using the following command: xfconf-query -c xfce4-session -p /startup/ssh-agent/enabled -n -t bool -s false To force using ssh-agent even if gpg-agent is installed, run the following instead: xfconf-query -c xfce4-session -p /startup/ssh-agent/type -n -t string -s ssh-agent To use GNOME Keyring, simply tick the checkbox Launch GNOME services on startup in the Advanced tab of Session Manager in Xfce's settings. This will also disable gpg-agent and ssh-agent. Source: http://docs.xfce.org/xfce/xfce4-session/advanced Troubleshooting xfce4-power-manager Power-related ACPI events can be configured using systemd via options from /etc/systemd/logind.conf to give control to xfce4-power-manager. /etc/systemd/logind.conf HandlePowerKey=ignore HandleSuspendKey=ignore HandleHibernateKey=ignore HandleLidSwitch=ignore This also solves the issue when the computer registers multiple suspend events. xfce4-xkb-plugin There is a bug in version xkb-plugin 0.5.4.1-1 which causes xkb-plugin to lose keyboard, layout switching and compose key settings. As a workaround you may enable Use system defaults option in keyboard settings. To do so run xfce4-keyboard-settings Go to Layout tab and set the Use system defaults flag, then reconfigure xkb-plugin. Locales ignored with GDM Add your locale to /var/lib/AccountsService/users/$USER (replace hu_HU.UTF-8 with your own locale): [User] Language=hu_HU.UTF-8 XSession=xfce You may also do it with sed. Note the backslash before .UTF-8: # sed -i 's/Language=.*/Language=hu_HU\.UTF-8/' /var/lib/AccountsService/users/$USER Restart GDM to take effect. Restore default settings If for any reason you need to revert back to the default settings, try renaming ~/.config/xfce4-session/ and ~/.config/xfce4/ $ mv ~/.config/xfce4-session/ ~/.config/xfce4-session-bak $ mv ~/.config/xfce4/ ~/.config/xfce4-bak Logout and login for changes to take effect. If upon logging in you get an error window with the heading &quot;Unable to load a failsafe session,&quot; see the Session Failure section on this page. NVIDIA and xfce4-sensors-plugin To detect and use sensors of nvidia gpu you need to install libxnvctrl and then recompile xfce4-sensors-plugin package. Session failure If the window manager does not load correctly, you maybe got a session error. Typical symptoms of this can include: the mouse is an X and/or does not appear at all window decorations have disappeared and windows cannot be closed &quot;Window Manager&quot; settings tool (xfwm4-settings) will not start, reporting These settings cannot work with your current window manager (unknown) errors being reported by slim or your login manager like No window manager registered on screen 0 Restarting xfce or rebooting your system may resolve the problem but more likely the problem is a corrupt session. Delete the session folder below the .cache folder: $ rm -r ~/.cache/sessions/ Preferred Applications preferences have no effect If you have set your preferred applications with exo-preferred-applications, but they do not seem to be taken into consideration, see Xfce#xdg-open integration (Preferred Applications) Action Buttons/Missing Icons This happens if icons for some actions (Suspend, Hibernate) are missing from the icon theme, or at least do not have the expected names. First, find out the currently used icon theme in the Settings Manager (→Appearance→Icons). Match this with a subdirectory of /usr/share/icons. For example, if the icon theme is GNOME, make a note of the directory name /usr/share/icons/gnome. icontheme=/usr/share/icons/gnome Make sure that the xfce4-power-manager is installed as this contains the needed icons. Now create symbolic links from the current icon theme into the hicolor icon theme. ln -s /usr/share/icons/hicolor/16x16/actions/xfpm-suspend.png ${icontheme}/16x16/actions/system-suspend.png ln -s /usr/share/icons/hicolor/16x16/actions/xfpm-hibernate.png ${icontheme}/16x16/actions/system-hibernate.png ln -s /usr/share/icons/hicolor/22x22/actions/xfpm-suspend.png ${icontheme}/22x22/actions/system-suspend.png ln -s /usr/share/icons/hicolor/22x22/actions/xfpm-hibernate.png ${icontheme}/22x22/actions/system-hibernate.png ln -s /usr/share/icons/hicolor/24x24/actions/xfpm-suspend.png ${icontheme}/24x24/actions/system-suspend.png ln -s /usr/share/icons/hicolor/24x24/actions/xfpm-hibernate.png ${icontheme}/24x24/actions/system-hibernate.png ln -s /usr/share/icons/hicolor/48x48/actions/xfpm-suspend.png ${icontheme}/48x48/actions/system-suspend.png ln -s /usr/share/icons/hicolor/48x48/actions/xfpm-hibernate.png ${icontheme}/48x48/actions/system-hibernate.png Log out and in again, and you should see icons for all actions. Enable cedilla ç/Ç instead of ć/Ć When you select the keyboard layout &quot;U.S., alternative international&quot; in Settings --&gt; Keyboard --&gt; Layout to enable accents, the typical combination for the cedilla ' + c results in ć instead of ç.To change this suffice edit files gtk.immodules for gtk-2.0 and immodules.cache for gtk-3.0 in line that contains &quot;cedilla&quot; adding both &quot;en&quot; in the list &quot;az:ca:co:fr:gv:oc:pt:sq:tr:wa&quot; but in alphabetical order, staying that way in /etc/gtk-2.0/gtk.immodules &quot;/usr/lib/gtk-2.0/2.10.0/immodules/im-cedilla.so&quot; &quot;cedilla&quot; &quot;Cedilla&quot; &quot;gtk20&quot; &quot;/usr/share/locale&quot; &quot;az:ca:co:en:fr:gv:oc:pt:sq:tr:wa&quot; and this in /usr/lib/gtk-3.0/3.0.0/immodules.cache &quot;/usr/lib/gtk-3.0/3.0.0/immodules/im-cedilla.so&quot; &quot;cedilla&quot; &quot;Cedilla&quot; &quot;gtk30&quot; &quot;/usr/share/locale&quot; &quot;az:ca:co:en:fr:gv:oc:pt:sq:tr:wa&quot; Then, do # echo &quot;export GTK_IM_MODULE=cedilla&quot; &gt;&gt; /etc/environment Done. Simply just close and reopen the gtk programs like gedit. Non ASCII characters when mounting USB sticks A common problem when automounting USB sticks formatted with fat filesystem is the inability to properly show characters as umlauts, ñ, ß, etc. This may be solved by changing the default iocharset to UTF-8, which is easily done adding a line to /etc/xdg/xfce4/mount.rc: [vfat] uid=&lt;auto&gt; shortname=winnt utf8=true # FreeBSD specific option longnames=true flush=true Note that when using utf-8, the system will distinct between upper- and lowercases, potentially corrupting your files, so be careful. It is possible to mount vfat devices with flush option, so that when copying to USB sticks data flushes more often, thus making thunar's progress bar to stays up until finished. Adding async instead will speed up write ops, but make sure to use Eject option in Thunar to unmount the stick. Globally, mount options for storage devices present at boot can be set in fstab, and for other devices in udev rules. See also http://docs.xfce.org/ - The complete documentation. Xfce-Look - Themes, wallpapers, and more. Xfce Wikia - How to edit the auto generated menu with the menu editor Xfce Wiki Retrieved from &quot;https://wiki.archlinux.org/index.php?title=Xfce&amp;oldid=258343&quot; Category: Desktop environments Views Page Discussion View source History Personal tools Create account Log in Navigation Main page Categories Getting Involved Wiki News Recent changes Random page Help Search Toolbox What links here Related changes Special pages Printable version Permanent link In other languages Česky Deutsch Español Français Italiano 日本語 Polski Русский Türkçe Українська ‪中文（中国大陆）‬ This page was last modified on 23 May 2013, at 04:30. Content is available under GNU Free Documentation License 1.3 or later. Privacy policy About ArchWiki Disclaimers " />
  <RDF:Description RDF:about="urn:scrapbook:item20130528170947#index"
                   NS1:folder="urn:scrapbook:root"
                   NS1:content=" " />
  <RDF:Seq RDF:about="urn:scrapbook:cache">
    <RDF:li RDF:resource="urn:scrapbook:item20130523104443#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130523104520#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524043318#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524050654#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524050415#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524050531#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130528170854#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130528170920#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130528170947#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130528180335#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130528180845#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130528180922#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130528181005#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130528182735#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130528183128#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130528183218#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130528183408#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130529190307#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130529190308#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130529190923#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524053046#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524053104#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524054333#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524054514#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524054709#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524055024#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524055045#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524055310#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524055641#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524055650#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524055659#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524055741#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524055901#index"/>
    <RDF:li RDF:resource="urn:scrapbook:item20130524060022#index"/>
  </RDF:Seq>
  <RDF:Description RDF:about="urn:scrapbook:item20130528180845#index"
                   NS1:folder="urn:scrapbook:root"
                   NS1:content=" &gt;&gt;&gt; &gt;&gt; pdf=MyFPDF() &gt;&gt;&gt; &gt;&gt; # add utf8 font &gt;&gt;&gt; &gt;&gt; pdf.add_font('DejaVu', '', 'DejaVuSansCondensed.ttf', uni=True) &gt;&gt;&gt; &gt;&gt; # first page: &gt;&gt;&gt; &gt;&gt; pdf.add_page() &gt;&gt;&gt; &gt;&gt; pdf.write_html(u&quot;&lt;font face='DejaVu'&gt;ÄÅuolas&lt;/font&gt;&quot;) " />
  <RDF:Description RDF:about="urn:scrapbook:item20130528170920#index"
                   NS1:folder="urn:scrapbook:root"
                   NS1:content=" " />
  <RDF:Description RDF:about="urn:scrapbook:item20130529190923#index"
                   NS1:folder="urn:scrapbook:root"
                   NS1:content=" Google Search Ubuntu help Ubuntu shop Ubuntu community " />
  <RDF:Description RDF:about="urn:scrapbook:item20130524053104#index"
                   NS1:folder="urn:scrapbook:item20130523104421"
                   NS1:content=" Share Email FacebookTwitterGoogle+PinterestLinkedInStumbleUponRedditGoogle BookmarksWordPressTumblrDeliciousDiggMessengerMySpaceYahoo BookmarksBeboMister-WongGoogle ReaderOrkutXINGBufferEvernoteNetvibes ShareStrandsBusiness ExchangeArtoTipdSmakNewsPlurkAIMYahoo MessengerIdenti.caMozillacaLockerz GrabBlogger PostTypePad PostBox.netKindle ItNetlogTechnorati FavoritesCiteULikeJumptagsHemidemiFunPInstapaperPhoneFavsXerpiNetvouzWinkDiigoBibSonomyBlogMarksTailrankStartAidKledyKhabbrMeneameYoolinkBookmarks.frTechnotizieNewsVineMultiplyFriendFeedPlaxo PulsePingSquidooProtopage BookmarksBlinklistFavesYiGGWebnewsSegnaloPushaYouMobSlashdotFarkAllvoicesJamespotImera BrazilTwiddlaLinkaGoGounalogHuggDiglogNowPublicLiveJournalCurrentHelloTxtSpurlYampleOneviewLinkatopiaSimpyBuddyMarksAsk.com MyStuffViadeoMapleWistsConnoteaBackflipMyLinkVaultSiteJotSphinnDZoneCare2 NewsHyvesSphereBitty BrowserGabbrSymbaloo FeedsTagzaFolkdNewsTrustAmazon Wish ListPrintFriendlyRead It LaterTuentiEmailRediff MyPage Google GmailYahoo MailHotmailAOL MailAny email By AddToAny web2py[:] Login Register If you benefit from web2py hope you feel encouraged to pay it forward by contributing back to society in whatever form you choose! Connect! and share your web2py slices Facebook Google Go Lost password Create your account Using PollyReport Recipe by jose jachuf (jjachuf) on 2012-09-22 in Tools Views (826)Favorite (0)Like (0)Dislike (0)Subscribe (0) PollyReports.py provides a set of classes for database report writing. It assumes that you are using Reportlab to do PDF generation, but can work with any &quot;canvas-like&quot; object as desired. Share You can use downloading PollyReport.py and copying the file to the directory site-packages web2py or installed directly on the system. https://github.com/Solomoriah/PollyReports http://pypi.python.org/pypi/PollyReports Model tb_tiposclientes = db.define_table('tiposclientes', Field('tipo', length=10), format='%(tipo)s' ) tb_clientes = db.define_table('clientes', Field('tipo', tb_tiposclientes), Field('nors', length=50), Field('domicilio'), format='%(nors)s' ) tb_ventas = db.define_table('ventas', Field('fecha', 'date'), Field('cliente', tb_clientes), Field('total', 'double'), ) if db(tb_clientes).isempty(): from gluon.contrib.populate import populate tb_tiposclientes.insert(tipo='AAAA') tb_tiposclientes.insert(tipo='BBBB') tb_tiposclientes.insert(tipo='CCCC') populate(tb_clientes,12) populate(tb_ventas,100) class Ventas(object): def iva(self): return self.ventas.total*0.21 tb_ventas.virtualfields.append(Ventas()) Controlller import os from reportlab.pdfgen.canvas import Canvas from reportlab.lib.pagesizes import landscape, portrait, A4, A5 from PollyReports import * def ventas(): import os import urllib2 #import urlparse from cStringIO import StringIO from reportlab.lib.utils import ImageReader rel_tipo = (tb_clientes.tipo==tb_tiposclientes.id) rel_cliente = (tb_ventas.cliente==tb_clientes.id) data = db(rel_tipo &amp; rel_cliente).select( tb_tiposclientes.tipo, tb_clientes.nors, tb_ventas.fecha, tb_ventas.total, orderby=[tb_tiposclientes.tipo|tb_clientes.nors] ).as_list() rpt = Report(data) tiposclientes_tipo = lambda x: x['tiposclientes']['tipo'] clientes_nors = lambda x: x['clientes']['nors'] ventas_total = lambda x: x['ventas']['total'] ventas_iva = lambda x: x['ventas']['iva'] ventas_fecha = lambda x: x['ventas']['fecha'] data = urllib2.urlopen('http://www.python.org/images/python-logo.gif').read() buffer = StringIO(data) image = ImageReader(buffer) #Titulo rpt.titleband = Band([ Element((300, 0), (&quot;Times-Bold&quot;, 26), text = &quot;Informe de Ventas&quot;, align=&quot;center&quot;), Element((300, 25), (&quot;Times-Bold&quot;, 18), text = &quot;Período 2010-2012&quot;, align=&quot;center&quot;), #Image((36, 0), 120, 43, text='/home/jose/borro/freebsd.jpg'), Image((36, 0), 120, 43, text=image), ]) #Cabecera de página rpt.pageheader = Band([ Element((36, 0), (&quot;Times-Bold&quot;, 20), text = &quot;Ventas&quot;), Element((36, 24), (&quot;Helvetica&quot;, 12), text = &quot;Fecha&quot;), Element((100, 24), (&quot;Helvetica&quot;, 12), text = &quot;Nombre o Razón Social&quot;), Element((500, 24), (&quot;Helvetica&quot;, 12), text = &quot;IVA&quot;, align = &quot;right&quot;), Element((600, 24), (&quot;Helvetica&quot;, 12), text = &quot;Total&quot;, align = &quot;right&quot;), Rule((36, 42), 7.5*75, thickness = 2), ]) #Cabecera de grupo (se agrupará por nombre de cliente) rpt.groupheaders = [ #Agrupo primero por tipo de cliente Band([ Rule((36, 20), 7.5*72), Element((36, 4), (&quot;Helvetica-Bold&quot;, 13), getvalue = tiposclientes_tipo, format = lambda x: &quot;Clientes tipo %s&quot; % x), ], getvalue = tiposclientes_tipo ), #y luego por nombre de cliente Band([ Rule((36, 20), 7.5*72), Element((36, 4), (&quot;Helvetica-Bold&quot;, 12), getvalue = clientes_nors), ], getvalue = clientes_nors ) ] #Pie de grupo (se sumariza por cliente) rpt.groupfooters = [ #sumarizo por nombre de cliente Band([ Rule((500, 4), 100), Element((36, 4), (&quot;Helvetica-Bold&quot;, 12), getvalue = clientes_nors, format = lambda x: &quot;Total de %s&quot; % x), SumElement((600, 4), (&quot;Helvetica-Bold&quot;, 12), getvalue = ventas_total, align = &quot;right&quot;, format=lambda x:'$%0.2f'%x), ], getvalue = clientes_nors, ), #sumarizo por tipo de cliente Band([ Rule((500, 4), 100), Element((36, 4), (&quot;Helvetica-Bold&quot;, 13), getvalue = tiposclientes_tipo, format = lambda x: &quot;Total para clientes tipo %s&quot; % x), SumElement((600, 4), (&quot;Helvetica-Bold&quot;, 12), getvalue = ventas_total, align = &quot;right&quot;, format=lambda x:'$%0.2f'%x), ], getvalue = tiposclientes_tipo, #Inserto una nueva página luego de sumarizar newpageafter = True, ), ] #Detalle rpt.detailband = Band([ Element((36, 0), (&quot;Helvetica&quot;, 10), getvalue = ventas_fecha), Element((500, 0), (&quot;Helvetica&quot;, 10), getvalue = ventas_iva, align = &quot;right&quot;, format=lambda x:'$%0.2f'%x), Element((600, 0), (&quot;Helvetica&quot;, 10), getvalue = ventas_total, align = &quot;right&quot;, format=lambda x:'$%0.2f'%x), ]) #Total de ventas rpt.reportfooter = Band([ Rule((450, 4), 72), Element((400, 4), (&quot;Helvetica-Bold&quot;, 12), text = &quot;Total General&quot;), SumElement((600, 4), (&quot;Helvetica-Bold&quot;, 12), getvalue = ventas_total, align = &quot;right&quot;, format=lambda x:'$%0.2f'%x), ]) #Pie de página rpt.pagefooter = Band([ Element((72*8, 0), (&quot;Times-Bold&quot;, 18), text = &quot;Ejemplo de Pie de Página&quot;, align = &quot;right&quot;), Element((36, 16), (&quot;Helvetica-Bold&quot;, 12), sysvar = &quot;pagenumber&quot;, format = lambda x: &quot;Página %d&quot; % x), ]) _buffer = StringIO() canvas = Canvas(_buffer, pagesize=landscape(A4)) canvas.setTitle('Prueba con url imagen') rpt.generate(canvas) canvas.save() response.headers['Content-Type']='application/pdf' response.headers['Content-Disposition'] = 'attachment; filename=ventas.pdf' return _buffer.getvalue() report pollyreport Share Related slices Simple PDF Report [updated] Create pdf reports using pod library Comments (0) Login to post © 2012 - web2pyslices.com web2py poweredMovuca Social CMSDonate with Paypal Hosting graciously provided by: Python Anywhere Notificationsclose (i) AdChoices +9 [Ahmed Bani] +10 including You SECURITY WARNING: Please treat the URL above as you would your password and do not share it with anyone. SECURITY WARNING: Please treat the URL above as you would your password and do not share it with anyone. Like Like 408407 Send Send " />
  <RDF:Description RDF:about="urn:scrapbook:item20130523104520#index"
                   NS1:folder="urn:scrapbook:root"
                   NS1:content="" />
  <RDF:Description RDF:about="urn:scrapbook:item20130528183218#index"
                   NS1:folder="urn:scrapbook:root"
                   NS1:content=" Linux Advocates Home View » Sidebar Classic Flipcard Magazine Mosaic Snapshot Timeslide Contributors » Authors Guests About Contact Pages » Google Plus Facebook Twitter Community Events Support Calendar Sponsors Pages Home Contributors Guests About Community Pages Events Support Calendar ByAuthor Contact Saturday, April 20, 2013 Pimp Out Your Fedora 18 Xfce Desktop 4/20/2013 12:21:00 PM Desktop environment, Fedora, Fuduntu, GNOME Panel, Google, KDE, Window manager, Xfce No comments by Dietrich Schmitz So, the other day I wrote the Fedora Got Game story and have been continuing to make my transition from Fuduntu which as you may or may not be aware announced that it would close it doors. Initially, I had selected the Fedora 18 KDE 64-bit spin but found that it put a bit of a strain on my Netbook. Then, I opted to simply install the Xfce Desktop group onto the KDE spin. The problem with doing that is that your menu winds up having the combined items from both KDE and Xfce and so I opted to reinstall with the Xfce spin. And I have made some tweaks to the appearance which I would like to share with you. Here goes. With just a few simple changes, your Desktop's appearance and clarity can be dramatically improved. Starting with Style, I chose to install Zukitwo. Open a terminal window and type: ? 1 $sudo yum install zukitwo-\*-theme For Icons, I chose Faenza. Again from a terminal window type: ? 1 $sudo yum install faenza-icon-theme For Font, I chose Google's Droid true type font. The difference in ease on eyes is dramatic. From a terminal window type: ? 1 $sudo yum install google-droid* Then add some really nice Desktop backgrounds by typing from the terminal: ? 1 $sudo yum install verne-backgrounds-extras-xfce Now open your menu, Settings, Settings Manager, and select Appearance. On the Style tab, select the Zukitwo theme: Select the Zukitwo Xfce theme Then, select the Icons tab and select the Faenza icon set: Select the Faenza Icon set On the Fonts tab, set the font to Droid Sans. Select the Droid Font, enable anti-aliasing As per the above screenshot, Xfce out of the box uses a default 12 point font, but I prefer 10 point and have set Droid Sans to use that size. Also, I have enabled anti-aliasing, full hinting with rgb pixel order. Be sure to have a check on the 96 dpi setting. Whether you prefer to show images on the menu and having accelerator keys is up to you from the settings tab--I have all checked. On the Desktop, right-click and select Desktop Settings. As per the screenshot below, I selected verne-skye.jpg as my desktop background. Select verne-skye.jpg background Next, go to the menu again, Settings, Settings Manager, Window Manager Tweaks, then click on the Compositor, then make sure to check all boxes per the screenshot below: Enable compositing from the Window Manager Tweaks Compositor Tab Now, when a brand new Xfce install has been finished upon login, you will be prompted for Xfce to use the 'default' panel layout (top panel and bottom dock) or to select single menu. I chose the default. Right-click the top panel, Panel, Panel Settings. Click on the Appearances Tab. Set the alpha channel to 25. Set top panel appearance tab alpha channel to 25 Then, click on the Items tab, click the first item, Click the top panel's Items tab, then click properties for the Applications Menu Then, per the screenshot below uncheck 'Show Button Title', check 'Show icons in menu'. Click the default Xfce icon button, and select the Fedora icon as shown. Uncheck Show button title, select Fedora Icon Returning to the top panel Items tab, click Window Buttons and then Properties Select Panel Items Windows Buttons Properties Per the below screenshot, on the Window Button dialog set the Show button label and Show handle to unchecked, and the Show flat button to checked. Uncheck Show Button Labels, Show Handle; Check Show Flat Buttons As I mentioned, during my install of Fedora 18 Xfce Spin, I selected the 'default' panel layout, which created the top panel and a dock at the bottom of the screen. You may prefer that location, but I chose to unlock the panel and set it's orientation to 'vertical', then using the grab handle moved it to the left edge of screen, locked it in place and set it to auto hide. In addition, on the Appearance Tab for the Dock panel, I have set the alpha channel to 25. For both the top and dock panels, I have set the 'Separator' items to have a 'transparent' type. Finally, go to the menu Settings, Settings Manager, Window Manager, set the Window Title font to Droid Sans Bold. Set the Window Title Font to Droid Sans Bold in Settings Window Manager And here is the desktop with all of the above settings: [Edit 4/21/2013 12:00pm GMT-5 I've updated the desktop screenshot per the suggestion of +Chris Ahlstrom -- since the sidebar has those desktop icons, why not remove them (except the automount device). As shown on the sidebar, I have added a trash icon.] Fedora 18 Xfce Desktop Pimped Out! Conclusion The end result is a really easy on the eyes Desktop and the Droid true type font really is a big improvement in readability. Now, come on Folks. You can't tell me that Gnome3.8 is any better. I am sorry, but, I was incredulous that I had to go to a website to get the Classic extensions and add a 'Quit' button so I could quit the dang Gnome3.8 desktop. I ask you. How is that an advancement in technology? Answer: It isn't. Pah Leeze. I'll stay put with Xfce thank you very much. [Edit: 4/20/2013 5:00PM GMT-5 +Max Wachtel gave a good tip--to remove the frame around the Notification Area, go to Panel, Panel Prefs, Items, click properties on Notification Area, then uncheck Show frame (see below).] Remove frame around Notification Area, uncheck Show frame check box -- Dietrich Related articles Fedora Got Game: Leading Edge Technology, Stability and Standards Gnome 3.8 Takes a Step Backwards with Classic Mode Fedora Desktops - Quick Look Enhanced by Zemanta Email ThisBlogThis!Share to TwitterShare to Facebook About the Author +Dietrich T. Schmitz is a Health Care IT Consultant based in New York. He can be found on Google+; a Perl Success Story for one of his projects is available on OReilly.com. Google+ [Add this widget to your blog] Newer Post Older Post Home Subscribe to: Post Comments (Atom) Social Profiles TwitterFacebookGoogle PlusLinkedInRSS FeedEmail Popular Tags Blog Archives Support Linux Advocates Fuduntu: Back to Fundamentals, Gets it Right by Dietrich Schmitz I have spent several months searching for a Linux Distro that meets my requirements. My trusty Acer Aspire One Net... Perl: The Language Everybody Wants to Declare Dead by +Dietrich Schmitz I keep looking, but I still haven't found a language that compares with Perl . The level to which one can go w... The Linux Inside Stigma by Dietrich Schmitz It's remarkable how Google doesn't mention the word Linux anywhere in their marketing of the Google Chrom... Top Ten Sleeper Distros by Dietrich Schmitz With all of the recent stories I've written and my obvious bias toward one particular Linux community Distrib... Systemd: An Accident Waiting to Happen by Dietrich Schmitz Over the past week or so, I have been following events surrounding the ongoing work being done on systemd by Red Hat... Google+ Followers Facebook Followers Contact Form Name Email * Message * [It's All Text!] Recent Comments greg f &quot;There is no way of knowing whether when you place 'trust' in a proprietary software program if... Red Flag Privacy Warning: Google+ Hangout Has Gone Proprietary ~ Linux Advocates · 0 minutes ago guest 1 #! is most likely the best distro based on Debian, fast, pretty, good repos and lightweight #!CrunchBang 11 &quot;Waldorf&quot;: The Breakfast of Champions ~ Linux Advocates · 5 hours ago Dmitri Smirnov &quot;Google is trying to become the web, rather than interoperating with it&quot; Aren't they all? Google,... A Breach of Public Trust: Proprietary Google+ Hangouts ~ Linux Advocates · 8 hours ago Dietrich Aside from Anaconda (newest major revision) getting a 'bloody nose' from every reviewer, he... A Failing Grade for Ubuntu 13.04 Raring Ringtail From Dedoimedo ~ Linux Advocates · 14 hours ago Victor Longo I recall Fedora getting a similar grade from the same reviewer.... A Failing Grade for Ubuntu 13.04 Raring Ringtail From Dedoimedo ~ Linux Advocates · 15 hours ago Translate Powered by Translate Twitter Contributors Aioanei Rares Ken Starks Katherine Chris Ahlstrom Dietrich Schmitz Linux Foundation Blogs Red Hat Discusses Gluster Roadmap Ahead of LinuxCon Japan Workshop - 05/24/2013 - jennifercloer New Long Term Stable Initiative (LTSI) Linux Kernel Released - 05/24/2013 - Noriaki LinkSmart’s Low-Cost, Big Data Plan with Linux and MapR - 05/23/2013 - libbyclark New Paper: How Engineering Leaders Can Use the Yocto Project to Solve Complex Problems - 05/23/2013 - amcpherson Samsung Talks About Its Aggressive Linux Talent Recruitment Strategy - 05/22/2013 - jennifercloer Linux Line Zorin OS 7: This may be the Linux distro you're looking for - 05/27/2013 - Katherine Noyes Considering a Linux career? Four tips for new college grads - 05/24/2013 - Katherine Noyes Skype for Linux 4.2 aims to deliver more polish - 05/23/2013 - Katherine Noyes $99 Linux stick turns any HDMI display into a virtual desktop - 05/22/2013 - Katherine Noyes Mageia Linux 3 brings a raft of key updates - 05/21/2013 - Katherine Noyes Blog Archive ▼ 2013 (197) ► May (31) ▼ April (48) Slackware: Is Systemd Inevitable? Confused by FuSE Turbo Charge Yum with Fastest Mirror and AxelGet P... Stop the Linux Desktop Madness: You Have Options The Achilles Heel of Open Source: Elitism Red Hat Linux is Here Today and Now The Rise of 'Open Source': It's Not Just About Sof... Power in Numbers Barnes and Noble: The Patent System is Broken Linux Containers and Why They Matter Where Will Your Linux Distro Be in Five Years? Pimp Out Your Fedora 18 Xfce Desktop Gnome 3.8 Takes a Step Backwards with Classic Mode... Fedora Got Game: Leading Edge Technology, Stabilit... Patent Trolls Be Gone (Soon) Of Trolls, Individual Accountability and the Inter... The Road Not Well Traveled: Two Developers Think O... The Other Shoe Drops: Founder Announces Retirement... 'Bitrot' Not a GNU/Linux Issue Developer Dissatisfaction Looms with Systemd Dedoimedo with: A Beard and a Pipe Systemd: The New PulseAudio Making a Living in a Microsoft World, Enriched by ... How to Write a Conference Talk Proposal (and See M... How are you going to keep them down on the farm? Through a BIG Straw Microsoft Proxy Fight Against Android Alleging 'An... Consider Yourself Properly Corrected Fighting the Patents Industry Which Focuses on Sof... Bad Simon. Bad Migration Needs a Plan YUM: A Breed Apart Adaptation is Hard, Power is Hard G+ &quot;Lets Talk About It&quot; Sunday Featuring Special G... Email: A Fundamentally Broken System War is Peace, Diversity is Fragmentation, Versatil... The PC is Here to Stay Linux Advocates and Freedom Advocates The Linux Inside Stigma GNU and Linux: It's Not Just About Attribution But... Linux in the Real World - A View from the Trenches... Internet Time: Don't Blink Jason Kennedy Joins Linux Advocates Contributors Newstex Syndicates Linux Advocates What Is Our Goal Here? Colleague Exhibits Bad Behavior Of Standards, Trends, and Shiny Things Cookie Cutter Distros Don't Cut It ► March (51) ► February (66) ► January (1) Subscribe in a reader Powered by Blogger. Labels 2001 Space Odyssey (1) Aaron (1) Aaron Seigo (4) Adobe Creative Suite (1) Adrian Bridgwater (2) Advanced Packaging Tool (1) advocacy (2) Advocate (1) Advocates (2) Aioanei Rares (3) Alacarte (1) All caps (1) Amazon Kindle (1) American Old West (1) Andrew Wyatt (7) Android (10) Anti-Virus (1) Antitrust (1) Apache Foundation (1) Apache HTTP Server (1) AppArmor (2) Apple (14) Application programming interface (2) Arch (1) Articles (1) AttachMate (1) Austin Texas (1) Australia (1) Automobile salesperson (1) Bad Behavior (1) Bankruptcy (1) Barack Obama (1) Barnes and Noble (1) Belief system (1) Benjamin Kerensa (2) Berkeley Software Distribution (4) Berlin (1) Best Buy (1) Bill Hilf (1) BIOS (1) BlackBerry (1) Blink (1) Blogger (3) Bob Moore (1) Bodhi (1) Brigham Young University (1) Bruce Byfield (2) Brussels (1) California (1) Campaign (1) Canada (2) Canonical (6) CanSecWest (3) Cascading Style Sheets (1) Cats (1) censorship (1) Central Texas (1) Cgroups (2) Chakra (1) China (1) Choice (1) Chris Ahlstrom (1) Christopher Dawson (2) Chrome (1) Chrome OS (1) Chrome Web Store (1) Chromebook (13) ChromeOS (1) Chromium OS (1) Cinnamon (2) Claims (1) Cloud computing (1) Collaboration (1) Comments (1) Community (1) Compact Disc (1) Computer science (1) Confessions of a Public Speaker (1) Conky (1) Consort (1) Construction (1) contributor (5) Conventional PCI (1) Cookie Cutter (1) Coreboot (1) CPAN (1) Critical thinking (1) CrunchBang (2) CrunchBang Linux (1) CSS (1) D-Bus (1) Dana Blankenhorn (2) DebConf (1) Debian (10) Dedoimedo (1) Dell (1) Desktop (1) Desktop computer (3) Desktop environment (4) Desktop Linux (5) Device driver (1) Dietrich (6) Dietrich Schmitz (35) Dietrich T. Schmitz (45) Digital Divide (1) Digital Equipment Corporation (1) Disk storage (1) Disqus (3) Distributions (2) Distro (10) DistroWatch (3) Document Foundation (2) Donald Knuth (2) Donate (5) DOS (1) Dr. Roy Schestowitz (10) ECT News Network (1) Edubuntu (1) Electronic Frontier Foundation (1) Emmabuntus (1) End of Life (1) EPO (1) eSurv (1) eudev (1) European Commission (1) European Union (2) Evangelist (1) Excel (1) Expert (1) Exploits (1) Extensible Messaging and Presence Protocol (1) Fabian Scherschel (2) Facebook Pages (1) FairSearch (2) Feature Regression (1) Federal Trade Commission (3) Fedora (12) Fedora 18 (1) Feedly (1) Feminism (1) File Manager (1) File system (1) Filesystem Hierarchy Standard (1) Firefox (6) Firefox Mobile (1) Firefox OS (1) Flaming (Internet) (1) FOSDEM (1) FOSS (3) France (1) Free (4) Free and Open Source (1) Free and Open Source Software (7) Free Software (11) Free Software Foundation (1) freedesktop.org (1) Freedom (1) Freelancer (2) Fuduntu (18) fund raiser (1) Fundamentals (1) Gabor Szabo (1) GDebi (1) GeForce (1) Gentoo (1) Gentoo Linux (1) George Orwell (1) Germany (1) GIMP (1) GitHub (3) Gmail (1) GNOME (12) Gnome 3.8 (1) GNOME Panel (1) Gnome Project (2) GNOME Shell (1) GNU (8) GNU General Public License (4) GNU GRUB (1) Gnu Privacy Guard (1) GNU Project (1) GNU/Linux (5) Goals (1) Gonzalo Velasco (1) Google (40) Google Affiliate (1) Google Chrome (8) Google Chrome OS (14) Google Code (2) Google Doc (1) Google I/O (1) Google I/O 2013 (1) Google Pages (1) Google Plus (2) Google Reader (2) Google Search (1) Google Voice Search (1) Google+ (3) Google+ Hangout (1) GoogleTalk (2) GPL (1) Graphical user interface (6) Graphics processing unit (2) Gratis versus libre (1) Guest Writer (36) Gábor Szabó (1) Hangout (3) Hardware restrictions (1) HDMI (1) Hewlett Packard (2) Hewlett-Packard (2) History (1) Home directory (1) hounds (1) Houston Chronicle (1) HP Pavilion 14 Chromebook (1) HTML (2) IBM (6) IDC (1) Igor Ljubuncic (1) Ikey Doherty (2) Incisor (1) Indiegogo (6) Individual Accountability (2) InfiniBand (1) Information technology (1) Information Technology and Innovation Foundation (1) InformationWeek (1) Init (2) Innovate (1) Instant messaging (1) Intel (1) Intel Core (1) Interim Results (1) International Business Times (1) International Data Corporation (1) Internet (1) Internet appliance (3) Internet Explorer (1) Internet forum (1) Internet Relay Chat (3) Introducing (1) Invite (1) IPhone (2) ITIF (1) Jack Wallen (2) Jan Wildeboer (1) Jason Kennedy (1) JavaScript (1) Jeremy Allison (2) Joe Simitian (1) Jon Callas (1) Jonathan Hutson (1) Jonathan Schwartz (1) Jorge Castro (1) JQuery (1) JSON (2) Katherine Noyes (26) KDE (10) KDE Plasma Workspaces (1) Ken Starks (6) Ken Walsh (1) Keynote (1) KHTML (1) Kickstarter (1) Konqueror (1) Kubuntu (2) KVM (1) LA Shorts (1) Lamborghini (1) Laptop (1) LAShorts (3) Lawsuit (1) Leah Rosin (1) Lee Ward (1) Lennart Poettering (4) Lenovo (4) LexisNexis (1) LibreOffice (7) LinkedIn (2) Linus Torvalds (4) Linux (92) Linux Advocacy (1) Linux Advocate (7) Linux Advocates (8) Linux Blog Safari (1) Linux Community (1) Linux Containers (1) Linux Desktop Mess (1) Linux distribution (12) Linux Distro (1) Linux Distro Survey (5) Linux Foundation (4) Linux Gazette (1) Linux Girl (2) Linux Kernel (3) Linux Line (1) Linux Mentor (1) Linux Mint (2) Linux Outlaws (1) Linux Standard Base (6) LinuxInsider (1) Live CD (1) Los Angeles Times (1) LSB (1) LXC (1) LXDE (1) Mac (1) Mac OS X (1) MacBook Air (1) MacBook Pro (1) Mageia (2) Mageia 3 (1) Mandriva (1) Mandriva Linux (1) Manjaro (1) Mark Shuttleworth (5) Martin Luther King (1) Master's degree (1) MATE (1) Matt (1) Matt Asay (2) May 3rd (1) Medical Biophysics (1) MeeGo (1) Meritocracy (1) Metro (1) Michael Glasser (1) Michael Larabel (1) Microsoft (27) Microsoft Office (3) Microsoft Windows (24) Mir (1) Mladen Mijatov (2) Mobile (1) Mobile World Congress (1) Monopoly (1) Motivational speaking (1) Movable Type (1) Multi-monitor (1) Nagios (1) National Geographic (1) National Geographic Society (1) National Security Agency (1) Netherlands (1) Network (1) New York Stock Exchange (2) New York Times (1) News aggregator (1) Newstex (1) Nokia (3) non-practicing entities (1) Nora Bayes (1) Nouveau (1) Novell (1) Nullsoft Scriptable Install System (1) nVidia (1) Office (1) Office suite (2) One Laptop Per Child (1) open (1) Open Knowledge (1) Open Source (19) Open standard (1) Open Virtualization Alliance (1) OpenBox (1) OpenDocument (1) openness (1) OpenRC (1) Opensource (1) OpenStack (2) openSUSE (2) OpenVZ (1) Operating system (29) Operating Systems (3) Oregon State University (1) Original equipment manufacturer (2) Package management system (2) PackageKit (1) Padre Perl IDE (1) Pageviews (1) Pageviews by Browser (1) Pageviews by Country (1) Pageviews by Operating System (1) Pamela Jones (3) Pardus (operating system) (1) Paree (1) Paris (1) Patent (5) Patent Assertion Entities (1) Patent troll (3) Patrick Volkerding (2) Pay it Forward (1) PC World (1) PC World (magazine) (1) PCLinuxOS (1) Penguin (1) People (1) People watching (1) Perl (2) Perl Maven (1) Perl Weekly (1) Personal computer (4) Pete Mazzaccaro (3) PGP (1) Phil Zimmerman (1) Phil Zimmermann (1) Phoronix (1) Pixel (1) Plone (1) Plug-in (computing) (1) POSIX (1) Pretty Good Privacy (1) Privacy Warning (1) Private (1) Profanity (1) Programmer (1) Programming (2) ProPublica (1) Proxy (1) PulseAudio (3) Pwn2Own (4) Python (1) Randal L. Schwartz (1) Raring Ringtail (1) Rational Discourse (2) Real World (1) Record (1) Red Hat (8) Red Hat Enterprise Linux (3) RedMonk (1) Repository (1) Representational state transfer (1) Research and development (1) Retirement (1) Richard Stallman (5) Rikki Endsley (2) Robert D. Atkinson (1) Robert Pogson (6) Rosa (1) Rosa Guillén (2) Rosa Parks (1) Roy Schestowitz (1) RPM (1) RPM Package Manager (2) RSS (1) Sabayon (1) Safari (1) Samba (1) Samsung (5) San Francisco (1) SCO Group (1) Search Engines (1) Searching (1) Secure Shell (1) Security (3) Security-Enhanced Linux (1) Servers (1) Service set (802.11 network) (1) Sexism (1) Shawn W Dunn (1) Simon Phipps (1) Site (1) Skype (1) Slackware (2) Slashdot (2) sleeper (1) sleeping dogs (1) Software and Information Industry Association (1) Software Developer (1) Software development (1) software patents (1) Software release life cycle (1) Solid-state drive (1) SolusOS (6) South Georgia and South Sandwich Islands (1) Spain (1) Sparse language (1) SpeedBump (1) Sponsor (1) Springwise (2) Standard Generalized Markup Language (1) Stanford University (1) Steam (1) Steve Jobs (1) Sudo (1) Sun Microsystems (1) SunOS (1) Support (3) Support Linux Advocates (5) Support Linux Advocates Campaign (2) Survey (2) SurveyMonkey (1) SUSE Linux distributions (1) Swiss Army Knife (1) System administrator (1) System V (1) Systemd (8) Tablet computer (1) Teacher (1) TechTarget (1) Terminal emulator (1) Texas Linux Fest (1) theme (1) These Kids (1) TheStreet (1) Tizen (1) Top Ten (1) Trademark Office (1) Traffic (1) Trenches (1) Trish Fraser (1) Trolls (1) Twitter (2) Ubuntu (30) Ubuntu 13.04 (1) Ubuntu Developer Summit (1) Udev (4) Under (1) United States (3) United States Patent and Trademark Office (4) United States Treasury security (1) Unity (10) University of Kent (1) UNIX (6) Uploading and downloading (1) Urpmi (1) User interface (1) Valentine's Day (1) Valve (1) Video card (1) Virtual machine (1) Virtual Network Computing (1) Virtual private network (2) Virtual private server (1) VMware (1) Vulnerability (1) Walmart (1) Wayland (2) Web Analytics (2) Web browser (2) WebKit (1) webOS (1) Wikileaks (1) Wikipedia (1) Window (1) Window manager (1) Windows (17) Windows 8 (4) Windows NT (1) Windows XP (1) WordPerfect 4.2 (1) WordPress (2) World Domination (1) World War I (1) Xfce (3) Xinerama (1) XML (1) XMPP (2) Xubuntu (4) Yellowdog Updater (1) Yellowdog Updater Modified (3) YouTube (2) YUM (1) Zemanta (1) Blog Archive ▼ 2013 (197) ► May (31) ▼ April (48) Slackware: Is Systemd Inevitable? Confused by FuSE Turbo Charge Yum with Fastest Mirror and AxelGet P... Stop the Linux Desktop Madness: You Have Options The Achilles Heel of Open Source: Elitism Red Hat Linux is Here Today and Now The Rise of 'Open Source': It's Not Just About Sof... Power in Numbers Barnes and Noble: The Patent System is Broken Linux Containers and Why They Matter Where Will Your Linux Distro Be in Five Years? Pimp Out Your Fedora 18 Xfce Desktop Gnome 3.8 Takes a Step Backwards with Classic Mode... Fedora Got Game: Leading Edge Technology, Stabilit... Patent Trolls Be Gone (Soon) Of Trolls, Individual Accountability and the Inter... The Road Not Well Traveled: Two Developers Think O... The Other Shoe Drops: Founder Announces Retirement... 'Bitrot' Not a GNU/Linux Issue Developer Dissatisfaction Looms with Systemd Dedoimedo with: A Beard and a Pipe Systemd: The New PulseAudio Making a Living in a Microsoft World, Enriched by ... How to Write a Conference Talk Proposal (and See M... How are you going to keep them down on the farm? Through a BIG Straw Microsoft Proxy Fight Against Android Alleging 'An... Consider Yourself Properly Corrected Fighting the Patents Industry Which Focuses on Sof... Bad Simon. Bad Migration Needs a Plan YUM: A Breed Apart Adaptation is Hard, Power is Hard G+ &quot;Lets Talk About It&quot; Sunday Featuring Special G... Email: A Fundamentally Broken System War is Peace, Diversity is Fragmentation, Versatil... The PC is Here to Stay Linux Advocates and Freedom Advocates The Linux Inside Stigma GNU and Linux: It's Not Just About Attribution But... Linux in the Real World - A View from the Trenches... Internet Time: Don't Blink Jason Kennedy Joins Linux Advocates Contributors Newstex Syndicates Linux Advocates What Is Our Goal Here? Colleague Exhibits Bad Behavior Of Standards, Trends, and Shiny Things Cookie Cutter Distros Don't Cut It ► March (51) ► February (66) ► January (1) Recent Posts O'Reilly News and Commentary Be Mr. Knapp - 05/28/2013 - DJ Patil Laura Kleins Six Reasons Founders Should Learn UX Design Now - 05/28/2013 - Laura Klein Beyond Puppet and Chef: Managing PostgreSQL with Ansible - 05/28/2013 - Courtney Nash A Commencement Speech for Graduating 2013 CS Majors - 05/28/2013 - James Turner Four short links: 28 May 2013 - 05/28/2013 - Nat Torkington Syndicators Linux Journal - The Original Magazine of the Linux Community Designing Electronics with Linux - 05/22/2013 - Joey Bernard Dynamic DNS—an Object Lesson in Problem Solving - 05/21/2013 - Shawn Powers Using Salt Stack and Vagrant for Drupal Development - 05/21/2013 - Ben Hosmer Making Linux and Android Get Along (It's Not as Hard as It Sounds) - 05/16/2013 - Aaron Peters Drupal Is a Framework: Why Everyone Needs to Understand This - 05/15/2013 - Diana Dupuis Google Plus Pages Publisher Visit our Google+ Pages Site The H - Grand unified feed Foxconn reportedly building a Firefox OS smartphone - 05/28/2013 - Report: US weapon and aircraft plans stolen - 05/28/2013 - PayPal vulnerable to cross-site scripting again - 05/28/2013 - A more expressive Puppet configuration language debuts - 05/28/2013 - AusCERT on the Internet Census: It's not the fault of &quot;stupid users&quot; - 05/28/2013 - Copyright © 2012 Linux Advocates | Powered by Blogger Design by FThemes | Blogger Theme by Lasantha - Premium Blogger Templates | NewBloggerThemes.com FundRazr - Support Linux Advocates - Please Donate! Donate Close Privacy Policy Bar by Wibiya Original text Contribute a better translation Linux Advocates Like Like You like this. You and 48 others like Linux Advocates.48 people like Linux Advocates. Haderek JesustheWay Yĕhowshua Wendell Baker Hamza Ouarnoughi Levan Shanidze Bedzinski Waldemar Robert Facebook social plugin (i) AdChoices 0 +58 Recommend this on Google [Ahmed Bani] +59 including You Linux Advocates 200 Follow 101 have us in circles View all " />
  <RDF:Description RDF:about="urn:scrapbook:item20130524055659#index"
                   NS1:folder="urn:scrapbook:item20130523104421"
                   NS1:content=" D.6. The Graphical Installer Prev Appendix D. Random Bits Next D.6. The Graphical Installer The graphical version of the installer is only available for a limited number of architectures, including 32-bit PC. The functionality of the graphical installer is essentially the same as that of the regular installer as it basically uses the same programs, but with a different frontend. Although the functionality is identical, the graphical installer still has a few significant advantages. The main advantage is that it supports more languages, namely those that use a character set that cannot be displayed with the regular “newt” frontend. It also has a few usability advantages such as the option to use a mouse, and in some cases several questions can be displayed on a single screen. The graphical installer is available with all CD images and with the hd-media installation method. To boot the graphical installer simply select the relevant option from the boot menu. Expert and rescue mode for the graphical installer can be selected from the “Advanced options” menu. The previously used boot methods installgui, expertgui and rescuegui can still be used from the boot prompt which is shown after selecting the “Help” option in the boot menu. There is also a graphical installer image that can be netbooted. And there is a special “mini” ISO image[30], which is mainly useful for testing. Just as with the regular installer it is possible to add boot parameters when starting the graphical installer. Note The graphical installer requires significantly more memory to run than the regular installer: 140MB. If insufficient memory is available, it will automatically fall back to the regular “newt” frontend. If the amount of memory in your system is below 80MB, the graphical installer may fail to boot at all while booting the regular installer would still work. Using the regular installer is recommended for systems with little available memory. D.6.1. Using the graphical installer As already mentioned, the graphical installer basically works the same as the regular installer and thus the rest of this manual can be used to guide you through the installation process. If you prefer using the keyboard over the mouse, there are two things you need to know. To expand a collapsed list (used for example for the selection of countries within continents), you can use the + and - keys. For questions where more than one item can be selected (e.g. task selection), you first need to tab to the Continue button after making your selections; hitting enter will toggle a selection, not activate Continue. If a dialog offers additional help information, a Help button will be displayed. The help information can be accessed either by activating the button or by pressing the F1 key. To switch to another console, you will also need to use the Ctrl key, just as with the X Window System. For example, to switch to VT2 (the first debug shell) you would use: Ctrl+Left Alt+F2. The graphical installer itself runs on VT5, so you can use Left Alt+F5 to switch back. [30] The mini ISO image can be downloaded from a Debian mirror as described in Section 4.2, “Downloading Files from Debian Mirrors”. Look for netboot/gtk/mini.iso. Prev Up Next D.5. Installing Debian GNU/Linux using PPP over Ethernet (PPPoE) Home Appendix E. Administrivia " />
  <RDF:Description RDF:about="urn:scrapbook:item20130524050531#index"
                   NS1:content=" Share Email FacebookTwitterGoogle+PinterestLinkedInStumbleUponRedditGoogle BookmarksWordPressTumblrDeliciousDiggMessengerMySpaceYahoo BookmarksBeboMister-WongGoogle ReaderOrkutXINGBufferEvernoteNetvibes ShareStrandsBusiness ExchangeArtoTipdSmakNewsPlurkAIMYahoo MessengerIdenti.caMozillacaLockerz GrabBlogger PostTypePad PostBox.netKindle ItNetlogTechnorati FavoritesCiteULikeJumptagsHemidemiFunPInstapaperPhoneFavsXerpiNetvouzWinkDiigoBibSonomyBlogMarksTailrankStartAidKledyKhabbrMeneameYoolinkBookmarks.frTechnotizieNewsVineMultiplyFriendFeedPlaxo PulsePingSquidooProtopage BookmarksBlinklistFavesYiGGWebnewsSegnaloPushaYouMobSlashdotFarkAllvoicesJamespotImera BrazilTwiddlaLinkaGoGounalogHuggDiglogNowPublicLiveJournalCurrentHelloTxtSpurlYampleOneviewLinkatopiaSimpyBuddyMarksAsk.com MyStuffViadeoMapleWistsConnoteaBackflipMyLinkVaultSiteJotSphinnDZoneCare2 NewsHyvesSphereBitty BrowserGabbrSymbaloo FeedsTagzaFolkdNewsTrustAmazon Wish ListPrintFriendlyRead It LaterTuentiEmailRediff MyPage Google GmailYahoo MailHotmailAOL MailAny email By AddToAny web2py[:] Login Register If you benefit from web2py hope you feel encouraged to pay it forward by contributing back to society in whatever form you choose! Connect! and share your web2py slices Facebook Google Go Lost password Create your account Simple PDF Report [updated] Recipe by Carlos Costa (yamandu) on 2010-09-27 in View Views (1298)Favorite (1)Like (0)Dislike (0)Subscribe (0) Shows how to filter a table with a date interval picked by the user and show the result in html page with option to download the PDF version. Requires only what ships with Web2py from version 1.85.1 above. The goal here is discuss a better method for PDF report generating. So comment, please. Share I found it good to put report classes in a separate file in models. So create a reports.py in models with this: class Report(FPDF, HTMLMixin): def header(self): self.set_font('Arial','B',15) self.cell(65) # padding self.cell(60,10,response.title,1,0,'C') self.ln(20) def footer(self): self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') Note: this was taken and adpate from here You will need a controller to make the form, do the query and render the PDF: def report(): #form for the dates input form = SQLFORM.factory(Field('start_date', 'date', label='Start Date', requires=IS_DATE(), Field('end_date', 'date', label='End Date', requires=IS_DATE())) #form with invisible fields for PDF requesting pdf_link = FORM(INPUT(_type='submit', _value='PDF'), hidden=dict(start_date=request.vars.start_date, end_date=request.vars.end_date), _action='report.pd') #to do the query only one time #ask about extension for pdf or valid form data if request.extension == 'pd' or form.accepts(request.vars, session): #get date objects start_date = request.now.strptime(request.vars.data_ini, '%Y-%m-%d') end_date = request.now.strptime(request.vars.data_fim, '%Y-%m-%d') #the query rep = db((db.table.data &gt;= data_ini) &amp; (db.table.data &lt;= data_fim)).select() #html table with the rows and labels from the models t_rep = SQLTABLE(rep, headers=dict([('table.' + f, db.table[f].label) for f in db.table.fields])) #if a pdf was requested if request.extension == 'pd': pdf = Report() pdf.add_page() #PYFPDF needs width attributs #as SQLTABLE don´t do like this, we need a hack ths = t_rep.elements('th') ths[0]['_width'] = '12%' # column widths ths[1]['_width'] = '60%' ...... ..... #send html to the pdf with required encoding pdf.write_html(t_rep.xml().decode('UTF-8').encode('cp1252')) response.headers['Content-Type'] = 'application/pdf' #send the PDF as a string return pdf.output(dest='S') else: #displays form for input, the report and a PDF button return dict(form=form, rep=rep, pdf_link=pdf_link) else: #display only the form and a message for input return dict(form=form, rep='Pick a date range.', pdf_link=None) Note: Maybe there´s a better logic to achieve this. And sure we need a view: {{extend &quot;layout.html&quot;}} {{=rep}} &lt;hr&gt; {{if pdf_link:}} {{=pdf_link}} {{pass}} {{=rep}} That´s it! Maybe the oddest thing here is I coudn´t use a .pdf extension. This problem seems to appera when you have a non-generic view for the action. pdf report date-range-query Share Related slices PDF with ReportLab II Create pdf reports using pod library Simplest PDF output ever thanks to FPDF Using PollyReport PDF with ReportLab Comments (1) Login to post 0 adesanto-asman-10337 1 year ago I don't know if somebody had the same experienced, that the header() not handled the linefeed properly at the next page. I leaved a comment here, http://code.google.com/p/pyfpdf/wiki/Web2Py, hope it helps. © 2012 - web2pyslices.com web2py poweredMovuca Social CMSDonate with Paypal Hosting graciously provided by: Python Anywhere Notificationsclose (i) AdChoices +52 [Ahmed Bani] +53 including You SECURITY WARNING: Please treat the URL above as you would your password and do not share it with anyone. SECURITY WARNING: Please treat the URL above as you would your password and do not share it with anyone. Tweet 0 Tweet 0 "
                   NS1:folder="urn:scrapbook:item20130523104421" />
  <RDF:Description RDF:about="urn:scrapbook:item20130523104443#index"
                   NS1:content=" tazjel@gmail.com ▼ | My favorites ▼ | Profile | Sign out Logo pyfpdf Simple PDF generation for Python (FPDF PHP port) AKA fpdf.py Project Home Downloads Wiki Issues Source Search for Web2Py web framework integration for PDF report and templates support Featured, Phase-Support Updated Feb 7, 2013 by leo.m.ro...@gmail.com Introduction Sample Report Sample Table Listing Samples Template Definitions Sample Templating Engine Introduction If you use web2py, you can make complex reports that can be viewed in a browser, or downloaded as PDF (taking advantage of web2py HTML helper objects to easily diagram a report). See WriteHTML for more information, supported tags and attributes, etc. Also, using web2py DAL, you can easily set up a templating engine for PDF documents. See Templates for more information. The following examples are packaged in a ready to run application: web2py.app.fpdf.w2p PyFPDF is included in web2py since release 1.85.2 Also, you can download the latest versión pyfpdf and uncompress it in the web2py, gluon, contrib folder. Note about images: this sample images are small so they may look like low quality ones. For better results, use bigger images: more DPI (screen is often 72/96DPI, printers are often 300/600DPI). As a rule of thumb, use at least half of the image size when rendering to PDF, ie. if image is 500x200px, use 250x100px as width/height attributes of IMG tag. Sample Report You could make a &quot;professional looking&quot; bussiness report just using web2py HTML helpers, mixin headers, logos, charts, text and tables. Te main advantage of this method is that the same report can be rendered in a HTML view, or can be downloaded as PDF, with a minimal effort: Sample: report.pdf Updated Live Demo (HTML and PDF version): http://www.web2py.com.ar/fpdf/default/report http://www.web2py.com.ar/fpdf/default/report.pdf def report(): response.title = &quot;web2py sample report&quot; # include a google chart (download it dynamically!) url = &quot;http://chart.apis.google.com/chart?cht=p3&amp;chd=t:60,40&amp;chs=500x200&amp;chl=Hello|World&amp;.png&quot; chart = IMG(_src=url, _width=&quot;250&quot;,_height=&quot;100&quot;) # create a small table with some data: rows = [THEAD(TR(TH(&quot;Key&quot;,_width=&quot;70%&quot;), TH(&quot;Value&quot;,_width=&quot;30%&quot;))), TBODY(TR(TD(&quot;Hello&quot;),TD(&quot;60&quot;)), TR(TD(&quot;World&quot;),TD(&quot;40&quot;)))] table = TABLE(*rows, _border=&quot;0&quot;, _align=&quot;center&quot;, _width=&quot;50%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # create a custom class with the required functionalities class MyFPDF(FPDF, HTMLMixin): def header(self): &quot;hook to draw custom page header (logo and title)&quot; logo=os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo_pb.png&quot;) self.image(logo,10,8,33) self.set_font('Arial','B',15) self.cell(65) # padding self.cell(60,10,response.title,1,0,'C') self.ln(20) def footer(self): &quot;hook to draw custom page footer (printing page numbers)&quot; self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # create a page and serialize/render HTML objects pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) pdf.write_html(str(XML(CENTER(chart), sanitize=False))) # prepare PDF to download: response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(chart=chart, table=table) Sample Table Listing Also, you can make nice tables that automatically spreads over several pages, with header/footers, column/row highlight, etc., in a very pythonic way: Sample: listing.pdf Updated Live Demo (HTML and PDF version): http://www.web2py.com.ar/fpdf/default/listing http://www.web2py.com.ar/fpdf/default/listing.pdf def listing(): response.title = &quot;web2py sample listing&quot; # define header and footers: head = THEAD(TR(TH(&quot;Header 1&quot;,_width=&quot;50%&quot;), TH(&quot;Header 2&quot;,_width=&quot;30%&quot;), TH(&quot;Header 3&quot;,_width=&quot;20%&quot;), _bgcolor=&quot;#A0A0A0&quot;)) foot = TFOOT(TR(TH(&quot;Footer 1&quot;,_width=&quot;50%&quot;), TH(&quot;Footer 2&quot;,_width=&quot;30%&quot;), TH(&quot;Footer 3&quot;,_width=&quot;20%&quot;), _bgcolor=&quot;#E0E0E0&quot;)) # create several rows: rows = [] for i in range(1000): col = i % 2 and &quot;#F0F0F0&quot; or &quot;#FFFFFF&quot; rows.append(TR(TD(&quot;Row %s&quot; %i), TD(&quot;something&quot;, _align=&quot;center&quot;), TD(&quot;%s&quot; % i, _align=&quot;right&quot;), _bgcolor=col)) # make the table object body = TBODY(*rows) table = TABLE(*[head,foot, body], _border=&quot;1&quot;, _align=&quot;center&quot;, _width=&quot;100%&quot;) if request.extension==&quot;pdf&quot;: from gluon.contrib.pyfpdf import FPDF, HTMLMixin # define our FPDF class (move to modules if it is reused frequently) class MyFPDF(FPDF, HTMLMixin): def header(self): self.set_font('Arial','B',15) self.cell(0,10, response.title ,1,0,'C') self.ln(20) def footer(self): self.set_y(-15) self.set_font('Arial','I',8) txt = 'Page %s of %s' % (self.page_no(), self.alias_nb_pages()) self.cell(0,10,txt,0,0,'C') pdf=MyFPDF() # first page: pdf.add_page() pdf.write_html(str(XML(table, sanitize=False))) response.headers['Content-Type']='application/pdf' return pdf.output(dest='S') else: # normal html view: return dict(table=table)}}} Samples Template Definitions As stated in the Templates page, there are 3 ways of putting your templates in place. As in that page there are samples for the manually hardcoded way and the CSV document loading, here we will only show a sample of the template engine. Sample Templating Engine PyFPDF and web2py can be used to make PDF documents using templates like invoices, badges, certificates, etc.: Sample: invoice.pdf Updated Live Demo: http://www.web2py.com.ar/fpdf/default/invoice.pdf To handle multiples templates, we can define two tables in web2py: pdf_template: document general information (name, paper size, etc.) pdf_element: several rows for each document, describing graphics primitives and placeholders. In db.py write: db.define_table(&quot;pdf_template&quot;, Field(&quot;pdf_template_id&quot;,&quot;id&quot;), Field(&quot;title&quot;), Field(&quot;format&quot;, requires=IS_IN_SET([&quot;A4&quot;,&quot;legal&quot;,&quot;letter&quot;])), ) db.define_table(&quot;pdf_element&quot;, Field(&quot;pdf_template_id&quot;, db.pdf_template, requires=IS_IN_DB(db,'pdf_template.pdf_template_id', 'pdf_template.title')), Field(&quot;name&quot;, requires=IS_NOT_EMPTY()), Field(&quot;type&quot;, length=2, requires=IS_IN_SET(['T', 'L', 'I', 'B', 'BC'])), Field(&quot;x1&quot;, &quot;double&quot;, requires=IS_NOT_EMPTY()), Field(&quot;y1&quot;, &quot;double&quot;, requires=IS_NOT_EMPTY()), Field(&quot;x2&quot;, &quot;double&quot;, requires=IS_NOT_EMPTY()), Field(&quot;y2&quot;, &quot;double&quot;, requires=IS_NOT_EMPTY()), Field(&quot;font&quot;, default=&quot;Arial&quot;, requires=IS_IN_SET(['Courier','Arial','Times','Symbol','Zapfdingbats'])), Field(&quot;size&quot;, &quot;double&quot;, default=&quot;10&quot;, requires=IS_NOT_EMPTY()), Field(&quot;bold&quot;, &quot;boolean&quot;), Field(&quot;italic&quot;, &quot;boolean&quot;), Field(&quot;underline&quot;, &quot;boolean&quot;), Field(&quot;foreground&quot;, &quot;integer&quot;, default=0x000000, comment=&quot;Color text&quot;), Field(&quot;background&quot;, &quot;integer&quot;, default=0xFFFFFF, comment=&quot;Fill color&quot;), Field(&quot;align&quot;, &quot;string&quot;, length=1, default=&quot;L&quot;, requires=IS_IN_SET(['L', 'R', 'C', 'J'])), Field(&quot;text&quot;, &quot;text&quot;, comment=&quot;Default text&quot;), Field(&quot;priority&quot;, &quot;integer&quot;, default=0, comment=&quot;Z-Order&quot;), ) Warning: the fields &quot;type&quot;, &quot;size&quot; and &quot;text&quot; are reserved words for some DB engines, so validation: db = DAL('sqlite://storage.sqlite',pool_size=1,check_reserved=['ALL']) }}} will fail. sqlite, MySQL and postgres work OK. Proposals for new naming ideas are welcomed. At this point you could go to web2py AppAdmin and start to define your document templates, or use import/export functions to reuse your already defined formats! Note: if you used designer.py to create the templates, and you want to import the templates with the Web2Py database admin you will have to modify the file. So; designer.py outputs a file like this: {{{ line0;T;20.0;13.0;190.0;13.0;times;10.0;0;0;0;0;65535;C;;0 line1;T;20.0;67.0;190.0;67.0;times;10.0;0;0;0;0;65535;C;;0 name0;T;21;14;104;25;times;16.0;0;0;0;0;0;C;;2 title0;T;64;26;104;30;times;10.0;0;0;0;0;0;C;;2 }}} You will have to make it look lke this: {{{ pdf_element.pdf_template_id, pdf_element.name, pdf_element.type, pdf_element.x1, pdf_element.y1, pdf_element.x2, pdf_element.y2, pdf_element.font, pdf_element.size, pdf_element.bold, pdf_element.italic, pdf_element.underline, pdf_element.foreground, pdf_element.background, pdf_element.align, pdf_element.text, pdf_element.priority 1,line0,T,20.0,283.0,190.0,283.0,times,10.0,0,0,0,0,65535,C,,0 1,line1,T,20.0,337.0,190.0,337.0,times,10.0,0,0,0,0,65535,C,,0 1,name0,T,21,14,104,25,times,16.0,0,0,0,0,0,C,,2 1,title0,T,64,26,104,30,times,10.0,0,0,0,0,0,C,,2 }}} Where the first number indicates the template ID (important for the database system), and the first line indicates the database fields to fill. A simple python script should do the trick. After defining and filling your database, you can use PyFPDF [Templates] directly reading rows elements from the web2py database: For example, for an invoice, in a controller you could write: {{{ def invoice(): from gluon.contrib.pyfpdf import Template import os.path # generate sample invoice (according Argentina's regulations) import random from decimal import Decimal # read elements from db elements = db(db.pdf_element.pdf_template_id==1).select(orderby=db.pdf_element.priority) f = Template(format=&quot;A4&quot;, elements = elements, title=&quot;Sample Invoice&quot;, author=&quot;Sample Company&quot;, subject=&quot;Sample Customer&quot;, keywords=&quot;Electronic TAX Invoice&quot;) # create some random invoice line items and detail data detail = &quot;Lorem ipsum dolor sit amet, consectetur. &quot; * 5 items = [] for i in range(1, 30): ds = &quot;Sample product %s&quot; % i qty = random.randint(1,10) price = round(random.random()*100,3) code = &quot;%s%s%02d&quot; % (chr(random.randint(65,90)), chr(random.randint(65,90)),i) items.append(dict(code=code, unit='u', qty=qty, price=price, amount=qty*price, ds=&quot;%s: %s&quot; % (i,ds))) # divide and count lines lines = 0 li_items = [] for it in items: qty = it['qty'] code = it['code'] unit = it['unit'] for ds in f.split_multicell(it['ds'], 'item_description01'): # add item description line (without price nor amount) li_items.append(dict(code=code, ds=ds, qty=qty, unit=unit, price=None, amount=None)) # clean qty and code (show only at first) unit = qty = code = None # set last item line price and amount li_items[-1].update(amount = it['amount'], price = it['price']) # split detail into each line description obs=&quot;\n&lt;U&gt;Detail:&lt;/U&gt;\n\n&quot; + detail for ds in f.split_multicell(obs, 'item_description01'): li_items.append(dict(code=code, ds=ds, qty=qty, unit=unit, price=None, amount=None)) # calculate pages: lines = len(li_items) max_lines_per_page = 24 pages = lines / (max_lines_per_page - 1) if lines % (max_lines_per_page - 1): pages = pages + 1 # fill placeholders for each page for page in range(1, pages+1): f.add_page() f['page'] = 'Page %s of %s' % (page, pages) if pages&gt;1 and page&lt;pages: s = 'Continues on page %s' % (page+1) else: s = '' f['item_description%02d' % (max_lines_per_page+1)] = s f[&quot;company_name&quot;] = &quot;Sample Company&quot; f[&quot;company_logo&quot;] = os.path.join(request.env.web2py_path,&quot;gluon&quot;,&quot;contrib&quot;,&quot;pyfpdf&quot;,&quot;tutorial&quot;,&quot;logo.png&quot;) f[&quot;company_header1&quot;] = &quot;Some Address - somewhere -&quot; f[&quot;company_header2&quot;] = &quot;http://www.example.com&quot; f[&quot;company_footer1&quot;] = &quot;Tax Code ...&quot; f[&quot;company_footer2&quot;] = &quot;Tax/VAT ID ...&quot; f['number'] = '0001-00001234' f['issue_date'] = '2010-09-10' f['due_date'] = '2099-09-10' f['customer_name'] = &quot;Sample Client&quot; f['customer_address'] = &quot;Siempreviva 1234&quot; # print line item... li = 0 k = 0 total = Decimal(&quot;0.00&quot;) for it in li_items: k = k + 1 if k &gt; page * (max_lines_per_page - 1): break if it['amount']: total += Decimal(&quot;%.6f&quot; % it['amount']) if k &gt; (page - 1) * (max_lines_per_page - 1): li += 1 if it['qty'] is not None: f['item_quantity%02d' % li] = it['qty'] if it['code'] is not None: f['item_code%02d' % li] = it['code'] if it['unit'] is not None: f['item_unit%02d' % li] = it['unit'] f['item_description%02d' % li] = it['ds'] if it['price'] is not None: f['item_price%02d' % li] = &quot;%0.3f&quot; % it['price'] if it['amount'] is not None: f['item_amount%02d' % li] = &quot;%0.2f&quot; % it['amount'] # last page? print totals: if pages == page: f['net'] = &quot;%0.2f&quot; % (total/Decimal(&quot;1.21&quot;)) f['vat'] = &quot;%0.2f&quot; % (total*(1-1/Decimal(&quot;1.21&quot;))) f['total_label'] = 'Total:' else: f['total_label'] = 'SubTotal:' f['total'] = &quot;%0.2f&quot; % total response.headers['Content-Type']='application/pdf' return f.render('invoice.pdf', dest='S') }}} Of course, this is a hardcoded example, you can use the database to store invoices or any other data, there is no rigid class hierachy to follow, just fill your template like a dict! Comment by Ovidio...@gmail.com, Sep 13, 2010 well, I am not able to understand, how to call the report for my application. If I understand what is explained is that we implement the dual tables, and pdf_template pdf_element. But within my application how do I call the report? Comment by project member reingart, Sep 14, 2010 I've added &quot;live demos&quot; showing how to call web2py controllers (html and pdf views, when available). In downloads there is an sample application. PS: can you fill an issue, as googlecode project updates seems broken... (and there we can attach code, examples and so on) Comment by Ovidio...@gmail.com, Sep 18, 2010 Thank you for answering the previous post. But if I need to do a report by filtering by date, as do the data entry??? Comment by yamandu.costa, Sep 27, 2010 I´ve put some usable thing in a slice: http://web2pyslices.com/main/slices/take_slice/99 It does a simple report by letting the user pick a date range, filtering a table and providing a PDF button to get the PDF version. I think it can get better, so please test and comment! Comment by ankita.s...@gmail.com, Mar 1, 2012 I'm looking for php.... how can i implement that please tell me... i want such class to be more implemented than existing on on fpdf for writeHTML.. that doesnot accept table tag. Comment by adesanto...@gmail.com, Mar 21, 2012 Hello, nice work and share. I experienced odd output, the header() seems not handled the linefeed at the next page properly as the example class MyFPDF(...): def header(self): ... self.ln(20) I would like to suggest class MyFPDF(...): def header(self): ln = 20 first_page = 1 ... if self.page_no &gt; first_page: self.ln(ln*2) else: self.ln(ln) Hope it helps Comment by mweis...@gmail.com, May 1, 2013 First example &quot;report&quot;: import os is missing Hint: You can use Wiki Syntax. Enter a comment: [It's All Text!] [It's All Text!] Terms - Privacy - Project Hosting Help Powered by Google Project Hosting Projects tazjel Starred projects altdragapt-cygardesiaautokeycopyqcyg-aptdragonflygooglefontdirectoryjquery-ui-vkkey-monminttymobileterminalmsysgitmusic21puttycygswapytextroomtweetxuc-debugweb2py Find open source projects...Create a project... tazjel@gmail.comabobani@gmail.com Sign in with another account... "
                   NS1:folder="urn:scrapbook:item20130523104421" />
</RDF:RDF>
